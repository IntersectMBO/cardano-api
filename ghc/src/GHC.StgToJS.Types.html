<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621682517845"><span id="local-6989586621682517846"><span id="local-6989586621682517847"><span id="local-6989586621682517848"><span id="local-6989586621682517849"><span id="local-6989586621682517850"><span id="local-6989586621682517851"><span id="local-6989586621682517852"><span id="local-6989586621682517853"><span id="local-6989586621682517854"></span></span></span></span></span></span></span></span></span></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies         #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase                 #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Module      :  GHC.StgToJS.Types</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Copyright   :  (c) The University of Glasgow 2001</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-10"></span><span class="hs-comment">--</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Maintainer  :  Jeffrey Young  &lt;jeffrey.young@iohk.io&gt;</span><span>
</span><span id="line-12"></span><span class="hs-comment">--                Luite Stegeman &lt;luite.stegeman@iohk.io&gt;</span><span>
</span><span id="line-13"></span><span class="hs-comment">--                Sylvain Henry  &lt;sylvain.henry@iohk.io&gt;</span><span>
</span><span id="line-14"></span><span class="hs-comment">--                Josh Meredith  &lt;josh.meredith@iohk.io&gt;</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Module that holds the Types required for the StgToJS pass</span><span>
</span><span id="line-19"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html"><span class="hs-identifier">GHC.StgToJS.Types</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.JS.JStg.Syntax.html"><span class="hs-identifier">GHC.JS.JStg.Syntax</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html"><span class="hs-identifier">GHC.JS.Ident</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html"><span class="hs-identifier">GHC.JS.Syntax</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Sat</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.JS.Make.html"><span class="hs-identifier">GHC.JS.Make</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.JS.Ppr.html"><span class="hs-identifier">GHC.JS.Ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- expose Outputable instances to downstream modules</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html"><span class="hs-identifier">GHC.Stg.Syntax</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Linker.Config.html"><span class="hs-identifier">GHC.Linker.Config</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.1-inplace/src/Control.Monad.Trans.State.Strict.html"><span class="hs-identifier">Control.Monad.Trans.State.Strict</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier">text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDocContext"><span class="hs-identifier">SDocContext</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastMutInt.html"><span class="hs-identifier">GHC.Data.FastMutInt</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.7-inplace/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../containers-0.7-inplace/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../bytestring-0.12.2.0-inplace/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../base-4.20.1.0-inplace/src/Data.Monoid.html"><span class="hs-identifier">Data.Monoid</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../base-4.20.1.0-inplace/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="annot"><span class="hs-comment">-- | A State monad over IO holding the generator state.</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">type</span><span> </span><span id="G"><span class="annot"><a href="GHC.StgToJS.Types.html#G"><span class="hs-identifier hs-var">G</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.1-inplace/src/Control.Monad.Trans.State.Strict.html#StateT"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#GenState"><span class="hs-identifier hs-type">GenState</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="annot"><span class="hs-comment">-- | The JS code generator state</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">data</span><span> </span><span id="GenState"><span class="annot"><a href="GHC.StgToJS.Types.html#GenState"><span class="hs-identifier hs-var">GenState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="GenState"><span class="annot"><a href="GHC.StgToJS.Types.html#GenState"><span class="hs-identifier hs-var">GenState</span></a></span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="gsSettings"><span class="annot"><span class="annottext">GenState -&gt; StgToJSConfig
</span><a href="GHC.StgToJS.Types.html#gsSettings"><span class="hs-identifier hs-var hs-var">gsSettings</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#StgToJSConfig"><span class="hs-identifier hs-type">StgToJSConfig</span></a></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ codegen settings, read-only</span></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="gsModule"><span class="annot"><span class="annottext">GenState -&gt; Module
</span><a href="GHC.StgToJS.Types.html#gsModule"><span class="hs-identifier hs-var hs-var">gsModule</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>                </span><span class="annot"><span class="hs-comment">-- ^ current module</span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="gsId"><span class="annot"><span class="annottext">GenState -&gt; FastMutInt
</span><a href="GHC.StgToJS.Types.html#gsId"><span class="hs-identifier hs-var hs-var">gsId</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-pragma">{-# UNPACK</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastMutInt.html#FastMutInt"><span class="hs-identifier hs-type">FastMutInt</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ unique number for the id generator</span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="gsIdents"><span class="annot"><span class="annottext">GenState -&gt; IdCache
</span><a href="GHC.StgToJS.Types.html#gsIdents"><span class="hs-identifier hs-var hs-var">gsIdents</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#IdCache"><span class="hs-identifier hs-type">IdCache</span></a></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ hash consing for identifiers from a Unique</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="gsUnfloated"><span class="annot"><span class="annottext">GenState -&gt; UniqFM Id CgStgExpr
</span><a href="GHC.StgToJS.Types.html#gsUnfloated"><span class="hs-identifier hs-var hs-var">gsUnfloated</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#CgStgExpr"><span class="hs-identifier hs-type">CgStgExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ unfloated arguments</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="gsGroup"><span class="annot"><span class="annottext">GenState -&gt; GenGroupState
</span><a href="GHC.StgToJS.Types.html#gsGroup"><span class="hs-identifier hs-var hs-var">gsGroup</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#GenGroupState"><span class="hs-identifier hs-type">GenGroupState</span></a></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ state for the current binding group</span></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="gsGlobal"><span class="annot"><span class="annottext">GenState -&gt; [JStgStat]
</span><a href="GHC.StgToJS.Types.html#gsGlobal"><span class="hs-identifier hs-var hs-var">gsGlobal</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.JStg.Syntax.html#JStgStat"><span class="hs-identifier hs-type">JStgStat</span></a></span><span class="hs-special">]</span><span>             </span><span class="annot"><span class="hs-comment">-- ^ global (per module) statements (gets included when anything else from the module is used)</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="annot"><span class="hs-comment">-- | The JS code generator state relevant for the current binding group</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">data</span><span> </span><span id="GenGroupState"><span class="annot"><a href="GHC.StgToJS.Types.html#GenGroupState"><span class="hs-identifier hs-var">GenGroupState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="GenGroupState"><span class="annot"><a href="GHC.StgToJS.Types.html#GenGroupState"><span class="hs-identifier hs-var">GenGroupState</span></a></span></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="ggsToplevelStats"><span class="annot"><span class="annottext">GenGroupState -&gt; [JStgStat]
</span><a href="GHC.StgToJS.Types.html#ggsToplevelStats"><span class="hs-identifier hs-var hs-var">ggsToplevelStats</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.JStg.Syntax.html#JStgStat"><span class="hs-identifier hs-type">JStgStat</span></a></span><span class="hs-special">]</span><span>     </span><span class="annot"><span class="hs-comment">-- ^ extra toplevel statements for the binding group</span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsClosureInfo"><span class="annot"><span class="annottext">GenGroupState -&gt; [ClosureInfo]
</span><a href="GHC.StgToJS.Types.html#ggsClosureInfo"><span class="hs-identifier hs-var hs-var">ggsClosureInfo</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureInfo"><span class="hs-identifier hs-type">ClosureInfo</span></a></span><span class="hs-special">]</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ closure metadata (info tables) for the binding group</span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsStatic"><span class="annot"><span class="annottext">GenGroupState -&gt; [StaticInfo]
</span><a href="GHC.StgToJS.Types.html#ggsStatic"><span class="hs-identifier hs-var hs-var">ggsStatic</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticInfo"><span class="hs-identifier hs-type">StaticInfo</span></a></span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ static (CAF) data in our binding group</span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsStack"><span class="annot"><span class="annottext">GenGroupState -&gt; [StackSlot]
</span><a href="GHC.StgToJS.Types.html#ggsStack"><span class="hs-identifier hs-var hs-var">ggsStack</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StackSlot"><span class="hs-identifier hs-type">StackSlot</span></a></span><span class="hs-special">]</span><span>    </span><span class="annot"><span class="hs-comment">-- ^ stack info for the current expression</span></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsStackDepth"><span class="annot"><span class="annottext">GenGroupState -&gt; Int
</span><a href="GHC.StgToJS.Types.html#ggsStackDepth"><span class="hs-identifier hs-var hs-var">ggsStackDepth</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ current stack depth</span></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsExtraDeps"><span class="annot"><span class="annottext">GenGroupState -&gt; Set OtherSymb
</span><a href="GHC.StgToJS.Types.html#ggsExtraDeps"><span class="hs-identifier hs-var hs-var">ggsExtraDeps</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.7-inplace/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-type">OtherSymb</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ extra dependencies for the linkable unit that contains this group</span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsGlobalIdCache"><span class="annot"><span class="annottext">GenGroupState -&gt; GlobalIdCache
</span><a href="GHC.StgToJS.Types.html#ggsGlobalIdCache"><span class="hs-identifier hs-var hs-var">ggsGlobalIdCache</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#GlobalIdCache"><span class="hs-identifier hs-type">GlobalIdCache</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ggsForeignRefs"><span class="annot"><span class="annottext">GenGroupState -&gt; [ForeignJSRef]
</span><a href="GHC.StgToJS.Types.html#ggsForeignRefs"><span class="hs-identifier hs-var hs-var">ggsForeignRefs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#ForeignJSRef"><span class="hs-identifier hs-type">ForeignJSRef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><span class="hs-comment">-- | The Configuration record for the StgToJS pass</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">data</span><span> </span><span id="StgToJSConfig"><span class="annot"><a href="GHC.StgToJS.Types.html#StgToJSConfig"><span class="hs-identifier hs-var">StgToJSConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StgToJSConfig"><span class="annot"><a href="GHC.StgToJS.Types.html#StgToJSConfig"><span class="hs-identifier hs-var">StgToJSConfig</span></a></span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-comment">-- flags</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="csInlinePush"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csInlinePush"><span class="hs-identifier hs-var hs-var">csInlinePush</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csInlineBlackhole"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csInlineBlackhole"><span class="hs-identifier hs-var hs-var">csInlineBlackhole</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csInlineLoadRegs"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csInlineLoadRegs"><span class="hs-identifier hs-var hs-var">csInlineLoadRegs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csInlineEnter"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csInlineEnter"><span class="hs-identifier hs-var hs-var">csInlineEnter</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csInlineAlloc"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csInlineAlloc"><span class="hs-identifier hs-var hs-var">csInlineAlloc</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csPrettyRender"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csPrettyRender"><span class="hs-identifier hs-var hs-var">csPrettyRender</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csTraceRts"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csTraceRts"><span class="hs-identifier hs-var hs-var">csTraceRts</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csAssertRts"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csAssertRts"><span class="hs-identifier hs-var hs-var">csAssertRts</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csBoundsCheck"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csBoundsCheck"><span class="hs-identifier hs-var hs-var">csBoundsCheck</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csDebugAlloc"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csDebugAlloc"><span class="hs-identifier hs-var hs-var">csDebugAlloc</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csTraceForeign"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csTraceForeign"><span class="hs-identifier hs-var hs-var">csTraceForeign</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csProf"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csProf"><span class="hs-identifier hs-var hs-var">csProf</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Profiling enabled</span></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csRuntimeAssert"><span class="annot"><span class="annottext">StgToJSConfig -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#csRuntimeAssert"><span class="hs-identifier hs-var hs-var">csRuntimeAssert</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-comment">-- ^ Enable runtime assertions</span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-comment">-- settings</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csContext"><span class="annot"><span class="annottext">StgToJSConfig -&gt; SDocContext
</span><a href="GHC.StgToJS.Types.html#csContext"><span class="hs-identifier hs-var hs-var">csContext</span></a></span></span><span>         </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Utils.Outputable.html#SDocContext"><span class="hs-identifier hs-type">SDocContext</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="csLinkerConfig"><span class="annot"><span class="annottext">StgToJSConfig -&gt; LinkerConfig
</span><a href="GHC.StgToJS.Types.html#csLinkerConfig"><span class="hs-identifier hs-var hs-var">csLinkerConfig</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Linker.Config.html#LinkerConfig"><span class="hs-identifier hs-type">LinkerConfig</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Emscripten linker</span></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><span class="hs-comment">-- | Information relevenat to code generation for closures.</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">data</span><span> </span><span id="ClosureInfo"><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureInfo"><span class="hs-identifier hs-var">ClosureInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ClosureInfo"><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureInfo"><span class="hs-identifier hs-var">ClosureInfo</span></a></span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="ciVar"><span class="annot"><span class="annottext">ClosureInfo -&gt; Ident
</span><a href="GHC.StgToJS.Types.html#ciVar"><span class="hs-identifier hs-var hs-var">ciVar</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ object being infod</span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ciRegs"><span class="annot"><span class="annottext">ClosureInfo -&gt; CIRegs
</span><a href="GHC.StgToJS.Types.html#ciRegs"><span class="hs-identifier hs-var hs-var">ciRegs</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#CIRegs"><span class="hs-identifier hs-type">CIRegs</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ size of the payload (in number of JS values)</span></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ciName"><span class="annot"><span class="annottext">ClosureInfo -&gt; FastString
</span><a href="GHC.StgToJS.Types.html#ciName"><span class="hs-identifier hs-var hs-var">ciName</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ friendly name for printing</span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ciLayout"><span class="annot"><span class="annottext">ClosureInfo -&gt; CILayout
</span><a href="GHC.StgToJS.Types.html#ciLayout"><span class="hs-identifier hs-var hs-var">ciLayout</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#CILayout"><span class="hs-identifier hs-type">CILayout</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ heap/stack layout of the object</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ciType"><span class="annot"><span class="annottext">ClosureInfo -&gt; CIType
</span><a href="GHC.StgToJS.Types.html#ciType"><span class="hs-identifier hs-var hs-var">ciType</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#CIType"><span class="hs-identifier hs-type">CIType</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ type of the object, with extra info where required</span></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ciStatic"><span class="annot"><span class="annottext">ClosureInfo -&gt; CIStatic
</span><a href="GHC.StgToJS.Types.html#ciStatic"><span class="hs-identifier hs-var hs-var">ciStatic</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#CIStatic"><span class="hs-identifier hs-type">CIStatic</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ static references of this object</span></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682517902"><span id="local-6989586621682517916"><span class="annot"><span class="annottext">ClosureInfo -&gt; ClosureInfo -&gt; Bool
(ClosureInfo -&gt; ClosureInfo -&gt; Bool)
-&gt; (ClosureInfo -&gt; ClosureInfo -&gt; Bool) -&gt; Eq ClosureInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ClosureInfo -&gt; ClosureInfo -&gt; Bool
== :: ClosureInfo -&gt; ClosureInfo -&gt; Bool
$c/= :: ClosureInfo -&gt; ClosureInfo -&gt; Bool
/= :: ClosureInfo -&gt; ClosureInfo -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682517921"><span id="local-6989586621682517937"><span id="local-6989586621682517941"><span class="annot"><span class="annottext">Int -&gt; ClosureInfo -&gt; ShowS
[ClosureInfo] -&gt; ShowS
ClosureInfo -&gt; String
(Int -&gt; ClosureInfo -&gt; ShowS)
-&gt; (ClosureInfo -&gt; String)
-&gt; ([ClosureInfo] -&gt; ShowS)
-&gt; Show ClosureInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ClosureInfo -&gt; ShowS
showsPrec :: Int -&gt; ClosureInfo -&gt; ShowS
$cshow :: ClosureInfo -&gt; String
show :: ClosureInfo -&gt; String
$cshowList :: [ClosureInfo] -&gt; ShowS
showList :: [ClosureInfo] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="annot"><span class="hs-comment">-- | Closure information, 'ClosureInfo', registers</span></span><span>
</span><span id="line-113"></span><span class="hs-keyword">data</span><span> </span><span id="CIRegs"><span class="annot"><a href="GHC.StgToJS.Types.html#CIRegs"><span class="hs-identifier hs-var">CIRegs</span></a></span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CIRegsUnknown"><span class="annot"><a href="GHC.StgToJS.Types.html#CIRegsUnknown"><span class="hs-identifier hs-var">CIRegsUnknown</span></a></span></span><span>                     </span><span class="annot"><span class="hs-comment">-- ^ A value witnessing a state of unknown registers</span></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CIRegs"><span class="annot"><a href="GHC.StgToJS.Types.html#CIRegs"><span class="hs-identifier hs-var">CIRegs</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="ciRegsSkip"><span class="annot"><span class="annottext">CIRegs -&gt; Int
</span><a href="GHC.StgToJS.Types.html#ciRegsSkip"><span class="hs-identifier hs-var hs-var">ciRegsSkip</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ unused registers before actual args start</span></span><span>
</span><span id="line-116"></span><span>           </span><span class="hs-special">,</span><span> </span><span id="ciRegsTypes"><span class="annot"><span class="annottext">CIRegs -&gt; [JSRep]
</span><a href="GHC.StgToJS.Types.html#ciRegsTypes"><span class="hs-identifier hs-var hs-var">ciRegsTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#JSRep"><span class="hs-identifier hs-type">JSRep</span></a></span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ args</span></span><span>
</span><span id="line-117"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682517950"><span id="local-6989586621682517960"><span class="annot"><span class="annottext">CIRegs -&gt; CIRegs -&gt; Bool
(CIRegs -&gt; CIRegs -&gt; Bool)
-&gt; (CIRegs -&gt; CIRegs -&gt; Bool) -&gt; Eq CIRegs
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CIRegs -&gt; CIRegs -&gt; Bool
== :: CIRegs -&gt; CIRegs -&gt; Bool
$c/= :: CIRegs -&gt; CIRegs -&gt; Bool
/= :: CIRegs -&gt; CIRegs -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682517966"><span id="local-6989586621682517972"><span id="local-6989586621682517977"><span id="local-6989586621682517981"><span id="local-6989586621682517984"><span id="local-6989586621682517987"><span id="local-6989586621682517990"><span class="annot"><span class="annottext">Eq CIRegs
Eq CIRegs =&gt;
(CIRegs -&gt; CIRegs -&gt; Ordering)
-&gt; (CIRegs -&gt; CIRegs -&gt; Bool)
-&gt; (CIRegs -&gt; CIRegs -&gt; Bool)
-&gt; (CIRegs -&gt; CIRegs -&gt; Bool)
-&gt; (CIRegs -&gt; CIRegs -&gt; Bool)
-&gt; (CIRegs -&gt; CIRegs -&gt; CIRegs)
-&gt; (CIRegs -&gt; CIRegs -&gt; CIRegs)
-&gt; Ord CIRegs
CIRegs -&gt; CIRegs -&gt; Bool
CIRegs -&gt; CIRegs -&gt; Ordering
CIRegs -&gt; CIRegs -&gt; CIRegs
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CIRegs -&gt; CIRegs -&gt; Ordering
compare :: CIRegs -&gt; CIRegs -&gt; Ordering
$c&lt; :: CIRegs -&gt; CIRegs -&gt; Bool
&lt; :: CIRegs -&gt; CIRegs -&gt; Bool
$c&lt;= :: CIRegs -&gt; CIRegs -&gt; Bool
&lt;= :: CIRegs -&gt; CIRegs -&gt; Bool
$c&gt; :: CIRegs -&gt; CIRegs -&gt; Bool
&gt; :: CIRegs -&gt; CIRegs -&gt; Bool
$c&gt;= :: CIRegs -&gt; CIRegs -&gt; Bool
&gt;= :: CIRegs -&gt; CIRegs -&gt; Bool
$cmax :: CIRegs -&gt; CIRegs -&gt; CIRegs
max :: CIRegs -&gt; CIRegs -&gt; CIRegs
$cmin :: CIRegs -&gt; CIRegs -&gt; CIRegs
min :: CIRegs -&gt; CIRegs -&gt; CIRegs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682517999"><span id="local-6989586621682518007"><span id="local-6989586621682518010"><span class="annot"><span class="annottext">Int -&gt; CIRegs -&gt; ShowS
[CIRegs] -&gt; ShowS
CIRegs -&gt; String
(Int -&gt; CIRegs -&gt; ShowS)
-&gt; (CIRegs -&gt; String) -&gt; ([CIRegs] -&gt; ShowS) -&gt; Show CIRegs
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CIRegs -&gt; ShowS
showsPrec :: Int -&gt; CIRegs -&gt; ShowS
$cshow :: CIRegs -&gt; String
show :: CIRegs -&gt; String
$cshowList :: [CIRegs] -&gt; ShowS
showList :: [CIRegs] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="annot"><span class="hs-comment">-- | Closure Information, 'ClosureInfo', layout</span></span><span>
</span><span id="line-121"></span><span class="hs-keyword">data</span><span> </span><span id="CILayout"><span class="annot"><a href="GHC.StgToJS.Types.html#CILayout"><span class="hs-identifier hs-var">CILayout</span></a></span></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CILayoutVariable"><span class="annot"><a href="GHC.StgToJS.Types.html#CILayoutVariable"><span class="hs-identifier hs-var">CILayoutVariable</span></a></span></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ layout stored in object itself, first position from the start</span></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CILayoutUnknown"><span class="annot"><a href="GHC.StgToJS.Types.html#CILayoutUnknown"><span class="hs-identifier hs-var">CILayoutUnknown</span></a></span></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ fixed size, but content unknown (for example stack apply frame)</span></span><span>
</span><span id="line-124"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="layoutSize"><span class="annot"><span class="annottext">CILayout -&gt; Int
</span><a href="GHC.StgToJS.Types.html#layoutSize"><span class="hs-identifier hs-var hs-var">layoutSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-125"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CILayoutFixed"><span class="annot"><a href="GHC.StgToJS.Types.html#CILayoutFixed"><span class="hs-identifier hs-var">CILayoutFixed</span></a></span></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ whole layout known</span></span><span>
</span><span id="line-127"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="layoutSize"><span class="annot"><a href="GHC.StgToJS.Types.html#layoutSize"><span class="hs-identifier hs-var">layoutSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ closure size in array positions, including entry</span></span><span>
</span><span id="line-128"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="layout"><span class="annot"><span class="annottext">CILayout -&gt; [JSRep]
</span><a href="GHC.StgToJS.Types.html#layout"><span class="hs-identifier hs-var hs-var">layout</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#JSRep"><span class="hs-identifier hs-type">JSRep</span></a></span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ The list of JSReps to layout</span></span><span>
</span><span id="line-129"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518019"><span id="local-6989586621682518027"><span class="annot"><span class="annottext">CILayout -&gt; CILayout -&gt; Bool
(CILayout -&gt; CILayout -&gt; Bool)
-&gt; (CILayout -&gt; CILayout -&gt; Bool) -&gt; Eq CILayout
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CILayout -&gt; CILayout -&gt; Bool
== :: CILayout -&gt; CILayout -&gt; Bool
$c/= :: CILayout -&gt; CILayout -&gt; Bool
/= :: CILayout -&gt; CILayout -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518032"><span id="local-6989586621682518038"><span id="local-6989586621682518044"><span id="local-6989586621682518048"><span id="local-6989586621682518051"><span id="local-6989586621682518054"><span id="local-6989586621682518057"><span class="annot"><span class="annottext">Eq CILayout
Eq CILayout =&gt;
(CILayout -&gt; CILayout -&gt; Ordering)
-&gt; (CILayout -&gt; CILayout -&gt; Bool)
-&gt; (CILayout -&gt; CILayout -&gt; Bool)
-&gt; (CILayout -&gt; CILayout -&gt; Bool)
-&gt; (CILayout -&gt; CILayout -&gt; Bool)
-&gt; (CILayout -&gt; CILayout -&gt; CILayout)
-&gt; (CILayout -&gt; CILayout -&gt; CILayout)
-&gt; Ord CILayout
CILayout -&gt; CILayout -&gt; Bool
CILayout -&gt; CILayout -&gt; Ordering
CILayout -&gt; CILayout -&gt; CILayout
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CILayout -&gt; CILayout -&gt; Ordering
compare :: CILayout -&gt; CILayout -&gt; Ordering
$c&lt; :: CILayout -&gt; CILayout -&gt; Bool
&lt; :: CILayout -&gt; CILayout -&gt; Bool
$c&lt;= :: CILayout -&gt; CILayout -&gt; Bool
&lt;= :: CILayout -&gt; CILayout -&gt; Bool
$c&gt; :: CILayout -&gt; CILayout -&gt; Bool
&gt; :: CILayout -&gt; CILayout -&gt; Bool
$c&gt;= :: CILayout -&gt; CILayout -&gt; Bool
&gt;= :: CILayout -&gt; CILayout -&gt; Bool
$cmax :: CILayout -&gt; CILayout -&gt; CILayout
max :: CILayout -&gt; CILayout -&gt; CILayout
$cmin :: CILayout -&gt; CILayout -&gt; CILayout
min :: CILayout -&gt; CILayout -&gt; CILayout
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518060"><span id="local-6989586621682518068"><span id="local-6989586621682518071"><span class="annot"><span class="annottext">Int -&gt; CILayout -&gt; ShowS
[CILayout] -&gt; ShowS
CILayout -&gt; String
(Int -&gt; CILayout -&gt; ShowS)
-&gt; (CILayout -&gt; String) -&gt; ([CILayout] -&gt; ShowS) -&gt; Show CILayout
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CILayout -&gt; ShowS
showsPrec :: Int -&gt; CILayout -&gt; ShowS
$cshow :: CILayout -&gt; String
show :: CILayout -&gt; String
$cshowList :: [CILayout] -&gt; ShowS
showList :: [CILayout] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="annot"><span class="hs-comment">-- | The type of 'ClosureInfo'</span></span><span>
</span><span id="line-133"></span><span class="hs-keyword">data</span><span> </span><span id="CIType"><span class="annot"><a href="GHC.StgToJS.Types.html#CIType"><span class="hs-identifier hs-var">CIType</span></a></span></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CIFun"><span class="annot"><a href="GHC.StgToJS.Types.html#CIFun"><span class="hs-identifier hs-var">CIFun</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="citArity"><span class="annot"><span class="annottext">CIType -&gt; Int
</span><a href="GHC.StgToJS.Types.html#citArity"><span class="hs-identifier hs-var hs-var">citArity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ function arity</span></span><span>
</span><span id="line-135"></span><span>          </span><span class="hs-special">,</span><span> </span><span id="citRegs"><span class="annot"><span class="annottext">CIType -&gt; Int
</span><a href="GHC.StgToJS.Types.html#citRegs"><span class="hs-identifier hs-var hs-var">citRegs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ number of registers for the args</span></span><span>
</span><span id="line-136"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CIThunk"><span class="annot"><a href="GHC.StgToJS.Types.html#CIThunk"><span class="hs-identifier hs-var">CIThunk</span></a></span></span><span>                          </span><span class="annot"><span class="hs-comment">-- ^ The closure is a THUNK</span></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CICon"><span class="annot"><a href="GHC.StgToJS.Types.html#CICon"><span class="hs-identifier hs-var">CICon</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="citConstructor"><span class="annot"><span class="annottext">CIType -&gt; Int
</span><a href="GHC.StgToJS.Types.html#citConstructor"><span class="hs-identifier hs-var hs-var">citConstructor</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">}</span><span> </span><span class="annot"><span class="hs-comment">-- ^ The closure is a Constructor</span></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CIPap"><span class="annot"><a href="GHC.StgToJS.Types.html#CIPap"><span class="hs-identifier hs-var">CIPap</span></a></span></span><span>                            </span><span class="annot"><span class="hs-comment">-- ^ The closure is a Partial Application</span></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CIBlackhole"><span class="annot"><a href="GHC.StgToJS.Types.html#CIBlackhole"><span class="hs-identifier hs-var">CIBlackhole</span></a></span></span><span>                      </span><span class="annot"><span class="hs-comment">-- ^ The closure is a black hole</span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CIStackFrame"><span class="annot"><a href="GHC.StgToJS.Types.html#CIStackFrame"><span class="hs-identifier hs-var">CIStackFrame</span></a></span></span><span>                     </span><span class="annot"><span class="hs-comment">-- ^ The closure is a stack frame</span></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518083"><span id="local-6989586621682518090"><span class="annot"><span class="annottext">CIType -&gt; CIType -&gt; Bool
(CIType -&gt; CIType -&gt; Bool)
-&gt; (CIType -&gt; CIType -&gt; Bool) -&gt; Eq CIType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CIType -&gt; CIType -&gt; Bool
== :: CIType -&gt; CIType -&gt; Bool
$c/= :: CIType -&gt; CIType -&gt; Bool
/= :: CIType -&gt; CIType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518095"><span id="local-6989586621682518103"><span id="local-6989586621682518107"><span id="local-6989586621682518110"><span id="local-6989586621682518113"><span id="local-6989586621682518116"><span id="local-6989586621682518119"><span class="annot"><span class="annottext">Eq CIType
Eq CIType =&gt;
(CIType -&gt; CIType -&gt; Ordering)
-&gt; (CIType -&gt; CIType -&gt; Bool)
-&gt; (CIType -&gt; CIType -&gt; Bool)
-&gt; (CIType -&gt; CIType -&gt; Bool)
-&gt; (CIType -&gt; CIType -&gt; Bool)
-&gt; (CIType -&gt; CIType -&gt; CIType)
-&gt; (CIType -&gt; CIType -&gt; CIType)
-&gt; Ord CIType
CIType -&gt; CIType -&gt; Bool
CIType -&gt; CIType -&gt; Ordering
CIType -&gt; CIType -&gt; CIType
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: CIType -&gt; CIType -&gt; Ordering
compare :: CIType -&gt; CIType -&gt; Ordering
$c&lt; :: CIType -&gt; CIType -&gt; Bool
&lt; :: CIType -&gt; CIType -&gt; Bool
$c&lt;= :: CIType -&gt; CIType -&gt; Bool
&lt;= :: CIType -&gt; CIType -&gt; Bool
$c&gt; :: CIType -&gt; CIType -&gt; Bool
&gt; :: CIType -&gt; CIType -&gt; Bool
$c&gt;= :: CIType -&gt; CIType -&gt; Bool
&gt;= :: CIType -&gt; CIType -&gt; Bool
$cmax :: CIType -&gt; CIType -&gt; CIType
max :: CIType -&gt; CIType -&gt; CIType
$cmin :: CIType -&gt; CIType -&gt; CIType
min :: CIType -&gt; CIType -&gt; CIType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518122"><span id="local-6989586621682518129"><span id="local-6989586621682518132"><span class="annot"><span class="annottext">Int -&gt; CIType -&gt; ShowS
[CIType] -&gt; ShowS
CIType -&gt; String
(Int -&gt; CIType -&gt; ShowS)
-&gt; (CIType -&gt; String) -&gt; ([CIType] -&gt; ShowS) -&gt; Show CIType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CIType -&gt; ShowS
showsPrec :: Int -&gt; CIType -&gt; ShowS
$cshow :: CIType -&gt; String
show :: CIType -&gt; String
$cshowList :: [CIType] -&gt; ShowS
showList :: [CIType] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="annot"><span class="hs-comment">-- | Static references that must be kept alive</span></span><span>
</span><span id="line-145"></span><span class="hs-keyword">newtype</span><span> </span><span id="CIStatic"><span class="annot"><a href="GHC.StgToJS.Types.html#CIStatic"><span class="hs-identifier hs-var">CIStatic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CIStaticRefs"><span class="annot"><a href="GHC.StgToJS.Types.html#CIStaticRefs"><span class="hs-identifier hs-var">CIStaticRefs</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="staticRefs"><span class="annot"><span class="annottext">CIStatic -&gt; [FastString]
</span><a href="GHC.StgToJS.Types.html#staticRefs"><span class="hs-identifier hs-var hs-var">staticRefs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621682518137"><span id="local-6989586621682518141"><span class="annot"><span class="annottext">CIStatic -&gt; CIStatic -&gt; Bool
(CIStatic -&gt; CIStatic -&gt; Bool)
-&gt; (CIStatic -&gt; CIStatic -&gt; Bool) -&gt; Eq CIStatic
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: CIStatic -&gt; CIStatic -&gt; Bool
== :: CIStatic -&gt; CIStatic -&gt; Bool
$c/= :: CIStatic -&gt; CIStatic -&gt; Bool
/= :: CIStatic -&gt; CIStatic -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518144"><span id="local-6989586621682518149"><span id="local-6989586621682518155"><span class="annot"><span class="annottext">NonEmpty CIStatic -&gt; CIStatic
CIStatic -&gt; CIStatic -&gt; CIStatic
(CIStatic -&gt; CIStatic -&gt; CIStatic)
-&gt; (NonEmpty CIStatic -&gt; CIStatic)
-&gt; (forall b. Integral b =&gt; b -&gt; CIStatic -&gt; CIStatic)
-&gt; Semigroup CIStatic
forall b. Integral b =&gt; b -&gt; CIStatic -&gt; CIStatic
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
$c&lt;&gt; :: CIStatic -&gt; CIStatic -&gt; CIStatic
&lt;&gt; :: CIStatic -&gt; CIStatic -&gt; CIStatic
$csconcat :: NonEmpty CIStatic -&gt; CIStatic
sconcat :: NonEmpty CIStatic -&gt; CIStatic
$cstimes :: forall b. Integral b =&gt; b -&gt; CIStatic -&gt; CIStatic
stimes :: forall b. Integral b =&gt; b -&gt; CIStatic -&gt; CIStatic
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518167"><span id="local-6989586621682518172"><span id="local-6989586621682518176"><span class="annot"><span class="annottext">Semigroup CIStatic
CIStatic
Semigroup CIStatic =&gt;
CIStatic
-&gt; (CIStatic -&gt; CIStatic -&gt; CIStatic)
-&gt; ([CIStatic] -&gt; CIStatic)
-&gt; Monoid CIStatic
[CIStatic] -&gt; CIStatic
CIStatic -&gt; CIStatic -&gt; CIStatic
forall a.
Semigroup a =&gt;
a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
$cmempty :: CIStatic
mempty :: CIStatic
$cmappend :: CIStatic -&gt; CIStatic -&gt; CIStatic
mappend :: CIStatic -&gt; CIStatic -&gt; CIStatic
$cmconcat :: [CIStatic] -&gt; CIStatic
mconcat :: [CIStatic] -&gt; CIStatic
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518182"><span id="local-6989586621682518187"><span id="local-6989586621682518192"><span class="annot"><span class="annottext">Int -&gt; CIStatic -&gt; ShowS
[CIStatic] -&gt; ShowS
CIStatic -&gt; String
(Int -&gt; CIStatic -&gt; ShowS)
-&gt; (CIStatic -&gt; String) -&gt; ([CIStatic] -&gt; ShowS) -&gt; Show CIStatic
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; CIStatic -&gt; ShowS
showsPrec :: Int -&gt; CIStatic -&gt; ShowS
$cshow :: CIStatic -&gt; String
show :: CIStatic -&gt; String
$cshowList :: [CIStatic] -&gt; ShowS
showList :: [CIStatic] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- | static refs: array = references, null = nothing to report</span><span>
</span><span id="line-150"></span><span class="hs-comment">--   note: only works after all top-level objects have been created</span><span>
</span><span id="line-151"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682518200"><span class="annot"><a href="GHC.JS.Make.html#ToJExpr"><span class="hs-identifier hs-type">ToJExpr</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#CIStatic"><span class="hs-identifier hs-type">CIStatic</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>  </span><span id="local-6989586621682518208"><span class="annot"><span class="annottext">toJExpr :: CIStatic -&gt; JStgExpr
</span><a href="#local-6989586621682518208"><span class="hs-identifier hs-var hs-var hs-var">toJExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#CIStaticRefs"><span class="hs-identifier hs-type">CIStaticRefs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStgExpr
</span><a href="GHC.JS.Make.html#null_"><span class="hs-identifier hs-var">null_</span></a></span><span> </span><span class="hs-comment">-- [je| null |]</span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#CIStaticRefs"><span class="hs-identifier hs-type">CIStaticRefs</span></a></span><span> </span><span id="local-6989586621682518211"><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621682518211"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Ident] -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FastString -&gt; Ident) -&gt; [FastString] -&gt; [Ident]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Ident
</span><a href="GHC.JS.Ident.html#global"><span class="hs-identifier hs-var">global</span></a></span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621682518211"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="annot"><span class="hs-comment">-- | JS primitive representations</span></span><span>
</span><span id="line-156"></span><span class="hs-keyword">data</span><span> </span><span id="JSRep"><span class="annot"><a href="GHC.StgToJS.Types.html#JSRep"><span class="hs-identifier hs-var">JSRep</span></a></span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PtrV"><span class="annot"><a href="GHC.StgToJS.Types.html#PtrV"><span class="hs-identifier hs-var">PtrV</span></a></span></span><span>     </span><span class="hs-comment">-- ^ pointer = reference to heap object (closure object), lifted or not.</span><span>
</span><span id="line-158"></span><span>             </span><span class="hs-comment">-- Can also be some RTS object (e.g. TVar#, MVar#, MutVar#, Weak#)</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="VoidV"><span class="annot"><a href="GHC.StgToJS.Types.html#VoidV"><span class="hs-identifier hs-var">VoidV</span></a></span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ no fields</span></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DoubleV"><span class="annot"><a href="GHC.StgToJS.Types.html#DoubleV"><span class="hs-identifier hs-var">DoubleV</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ A Double: one field</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IntV"><span class="annot"><a href="GHC.StgToJS.Types.html#IntV"><span class="hs-identifier hs-var">IntV</span></a></span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ An Int (32bit because JS): one field</span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LongV"><span class="annot"><a href="GHC.StgToJS.Types.html#LongV"><span class="hs-identifier hs-var">LongV</span></a></span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ A Long: two fields one for the upper 32bits, one for the lower (NB: JS is little endian)</span></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AddrV"><span class="annot"><a href="GHC.StgToJS.Types.html#AddrV"><span class="hs-identifier hs-var">AddrV</span></a></span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ a pointer not to the heap: two fields, array + index</span></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ObjV"><span class="annot"><a href="GHC.StgToJS.Types.html#ObjV"><span class="hs-identifier hs-var">ObjV</span></a></span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ some JS object, user supplied, be careful around these, can be anything</span></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ArrV"><span class="annot"><a href="GHC.StgToJS.Types.html#ArrV"><span class="hs-identifier hs-var">ArrV</span></a></span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ boxed array</span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518222"><span id="local-6989586621682518226"><span class="annot"><span class="annottext">JSRep -&gt; JSRep -&gt; Bool
(JSRep -&gt; JSRep -&gt; Bool) -&gt; (JSRep -&gt; JSRep -&gt; Bool) -&gt; Eq JSRep
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: JSRep -&gt; JSRep -&gt; Bool
== :: JSRep -&gt; JSRep -&gt; Bool
$c/= :: JSRep -&gt; JSRep -&gt; Bool
/= :: JSRep -&gt; JSRep -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518231"><span id="local-6989586621682518235"><span id="local-6989586621682518239"><span id="local-6989586621682518242"><span id="local-6989586621682518245"><span id="local-6989586621682518248"><span id="local-6989586621682518251"><span class="annot"><span class="annottext">Eq JSRep
Eq JSRep =&gt;
(JSRep -&gt; JSRep -&gt; Ordering)
-&gt; (JSRep -&gt; JSRep -&gt; Bool)
-&gt; (JSRep -&gt; JSRep -&gt; Bool)
-&gt; (JSRep -&gt; JSRep -&gt; Bool)
-&gt; (JSRep -&gt; JSRep -&gt; Bool)
-&gt; (JSRep -&gt; JSRep -&gt; JSRep)
-&gt; (JSRep -&gt; JSRep -&gt; JSRep)
-&gt; Ord JSRep
JSRep -&gt; JSRep -&gt; Bool
JSRep -&gt; JSRep -&gt; Ordering
JSRep -&gt; JSRep -&gt; JSRep
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: JSRep -&gt; JSRep -&gt; Ordering
compare :: JSRep -&gt; JSRep -&gt; Ordering
$c&lt; :: JSRep -&gt; JSRep -&gt; Bool
&lt; :: JSRep -&gt; JSRep -&gt; Bool
$c&lt;= :: JSRep -&gt; JSRep -&gt; Bool
&lt;= :: JSRep -&gt; JSRep -&gt; Bool
$c&gt; :: JSRep -&gt; JSRep -&gt; Bool
&gt; :: JSRep -&gt; JSRep -&gt; Bool
$c&gt;= :: JSRep -&gt; JSRep -&gt; Bool
&gt;= :: JSRep -&gt; JSRep -&gt; Bool
$cmax :: JSRep -&gt; JSRep -&gt; JSRep
max :: JSRep -&gt; JSRep -&gt; JSRep
$cmin :: JSRep -&gt; JSRep -&gt; JSRep
min :: JSRep -&gt; JSRep -&gt; JSRep
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518254"><span id="local-6989586621682518261"><span id="local-6989586621682518268"><span id="local-6989586621682518276"><span id="local-6989586621682518279"><span id="local-6989586621682518284"><span id="local-6989586621682518290"><span id="local-6989586621682518294"><span class="annot"><span class="annottext">Int -&gt; JSRep
JSRep -&gt; Int
JSRep -&gt; [JSRep]
JSRep -&gt; JSRep
JSRep -&gt; JSRep -&gt; [JSRep]
JSRep -&gt; JSRep -&gt; JSRep -&gt; [JSRep]
(JSRep -&gt; JSRep)
-&gt; (JSRep -&gt; JSRep)
-&gt; (Int -&gt; JSRep)
-&gt; (JSRep -&gt; Int)
-&gt; (JSRep -&gt; [JSRep])
-&gt; (JSRep -&gt; JSRep -&gt; [JSRep])
-&gt; (JSRep -&gt; JSRep -&gt; [JSRep])
-&gt; (JSRep -&gt; JSRep -&gt; JSRep -&gt; [JSRep])
-&gt; Enum JSRep
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
$csucc :: JSRep -&gt; JSRep
succ :: JSRep -&gt; JSRep
$cpred :: JSRep -&gt; JSRep
pred :: JSRep -&gt; JSRep
$ctoEnum :: Int -&gt; JSRep
toEnum :: Int -&gt; JSRep
$cfromEnum :: JSRep -&gt; Int
fromEnum :: JSRep -&gt; Int
$cenumFrom :: JSRep -&gt; [JSRep]
enumFrom :: JSRep -&gt; [JSRep]
$cenumFromThen :: JSRep -&gt; JSRep -&gt; [JSRep]
enumFromThen :: JSRep -&gt; JSRep -&gt; [JSRep]
$cenumFromTo :: JSRep -&gt; JSRep -&gt; [JSRep]
enumFromTo :: JSRep -&gt; JSRep -&gt; [JSRep]
$cenumFromThenTo :: JSRep -&gt; JSRep -&gt; JSRep -&gt; [JSRep]
enumFromThenTo :: JSRep -&gt; JSRep -&gt; JSRep -&gt; [JSRep]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518302"><span id="local-6989586621682518304"><span class="annot"><span class="annottext">JSRep
JSRep -&gt; JSRep -&gt; Bounded JSRep
forall a. a -&gt; a -&gt; Bounded a
$cminBound :: JSRep
minBound :: JSRep
$cmaxBound :: JSRep
maxBound :: JSRep
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518310"><span id="local-6989586621682518312"><span id="local-6989586621682518315"><span class="annot"><span class="annottext">Int -&gt; JSRep -&gt; ShowS
[JSRep] -&gt; ShowS
JSRep -&gt; String
(Int -&gt; JSRep -&gt; ShowS)
-&gt; (JSRep -&gt; String) -&gt; ([JSRep] -&gt; ShowS) -&gt; Show JSRep
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; JSRep -&gt; ShowS
showsPrec :: Int -&gt; JSRep -&gt; ShowS
$cshow :: JSRep -&gt; String
show :: JSRep -&gt; String
$cshowList :: [JSRep] -&gt; ShowS
showList :: [JSRep] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682518319"><span class="annot"><a href="GHC.JS.Make.html#ToJExpr"><span class="hs-identifier hs-type">ToJExpr</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#JSRep"><span class="hs-identifier hs-type">JSRep</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>  </span><span id="local-6989586621682518325"><span class="annot"><span class="annottext">toJExpr :: JSRep -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var hs-var hs-var">toJExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; JStgExpr) -&gt; (JSRep -&gt; Int) -&gt; JSRep -&gt; JStgExpr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">JSRep -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">-- | The type of identifiers. These determine the suffix of generated functions</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- in JS Land. For example, the entry function for the 'Just' constructor is a</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- 'IdConEntry' which compiles to:</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- function h$ghczminternalZCGHCziInternalziMaybeziJust_con_e() { return h$rs() };</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- which just returns whatever the stack point is pointing to. Whereas the entry</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- function to 'Just' is an 'IdEntry' and does the work. It compiles to:</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- function h$ghczminternalZCGHCziInternalziMaybeziJust_e() {</span><span>
</span><span id="line-181"></span><span class="hs-comment">--    var h$$baseZCGHCziMaybezieta_8KXnScrCjF5 = h$r2;</span><span>
</span><span id="line-182"></span><span class="hs-comment">--    h$r1 = h$c1(h$ghczminternalZCGHCziInternalziMaybeziJust_con_e, h$$ghczminternalZCGHCziInternalziMaybezieta_8KXnScrCjF5);</span><span>
</span><span id="line-183"></span><span class="hs-comment">--    return h$rs();</span><span>
</span><span id="line-184"></span><span class="hs-comment">--    };</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- Which loads some payload from register 2, and applies the Constructor Entry</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- function for the Just to the payload, returns the result in register 1 and</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- returns whatever is on top of the stack</span><span>
</span><span id="line-189"></span><span class="hs-keyword">data</span><span> </span><span id="IdType"><span class="annot"><a href="GHC.StgToJS.Types.html#IdType"><span class="hs-identifier hs-var">IdType</span></a></span></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="IdPlain"><span class="annot"><a href="GHC.StgToJS.Types.html#IdPlain"><span class="hs-identifier hs-var">IdPlain</span></a></span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ A plain identifier for values, no suffix added</span></span><span>
</span><span id="line-191"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IdEntry"><span class="annot"><a href="GHC.StgToJS.Types.html#IdEntry"><span class="hs-identifier hs-var">IdEntry</span></a></span></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ An entry function, suffix = &quot;_e&quot; in 'GHC.StgToJS.Ids.makeIdentForId'</span></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IdConEntry"><span class="annot"><a href="GHC.StgToJS.Types.html#IdConEntry"><span class="hs-identifier hs-var">IdConEntry</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ A Constructor entry function, suffix = &quot;_con_e&quot; in 'GHC.StgToJS.Ids.makeIdentForId'</span></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518331"><span id="local-6989586621682518338"><span id="local-6989586621682518345"><span id="local-6989586621682518353"><span id="local-6989586621682518356"><span id="local-6989586621682518360"><span id="local-6989586621682518366"><span id="local-6989586621682518370"><span class="annot"><span class="annottext">Int -&gt; IdType
IdType -&gt; Int
IdType -&gt; [IdType]
IdType -&gt; IdType
IdType -&gt; IdType -&gt; [IdType]
IdType -&gt; IdType -&gt; IdType -&gt; [IdType]
(IdType -&gt; IdType)
-&gt; (IdType -&gt; IdType)
-&gt; (Int -&gt; IdType)
-&gt; (IdType -&gt; Int)
-&gt; (IdType -&gt; [IdType])
-&gt; (IdType -&gt; IdType -&gt; [IdType])
-&gt; (IdType -&gt; IdType -&gt; [IdType])
-&gt; (IdType -&gt; IdType -&gt; IdType -&gt; [IdType])
-&gt; Enum IdType
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
$csucc :: IdType -&gt; IdType
succ :: IdType -&gt; IdType
$cpred :: IdType -&gt; IdType
pred :: IdType -&gt; IdType
$ctoEnum :: Int -&gt; IdType
toEnum :: Int -&gt; IdType
$cfromEnum :: IdType -&gt; Int
fromEnum :: IdType -&gt; Int
$cenumFrom :: IdType -&gt; [IdType]
enumFrom :: IdType -&gt; [IdType]
$cenumFromThen :: IdType -&gt; IdType -&gt; [IdType]
enumFromThen :: IdType -&gt; IdType -&gt; [IdType]
$cenumFromTo :: IdType -&gt; IdType -&gt; [IdType]
enumFromTo :: IdType -&gt; IdType -&gt; [IdType]
$cenumFromThenTo :: IdType -&gt; IdType -&gt; IdType -&gt; [IdType]
enumFromThenTo :: IdType -&gt; IdType -&gt; IdType -&gt; [IdType]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518373"><span id="local-6989586621682518377"><span class="annot"><span class="annottext">IdType -&gt; IdType -&gt; Bool
(IdType -&gt; IdType -&gt; Bool)
-&gt; (IdType -&gt; IdType -&gt; Bool) -&gt; Eq IdType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: IdType -&gt; IdType -&gt; Bool
== :: IdType -&gt; IdType -&gt; Bool
$c/= :: IdType -&gt; IdType -&gt; Bool
/= :: IdType -&gt; IdType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518383"><span id="local-6989586621682518387"><span id="local-6989586621682518391"><span id="local-6989586621682518395"><span id="local-6989586621682518398"><span id="local-6989586621682518401"><span id="local-6989586621682518404"><span class="annot"><span class="annottext">Eq IdType
Eq IdType =&gt;
(IdType -&gt; IdType -&gt; Ordering)
-&gt; (IdType -&gt; IdType -&gt; Bool)
-&gt; (IdType -&gt; IdType -&gt; Bool)
-&gt; (IdType -&gt; IdType -&gt; Bool)
-&gt; (IdType -&gt; IdType -&gt; Bool)
-&gt; (IdType -&gt; IdType -&gt; IdType)
-&gt; (IdType -&gt; IdType -&gt; IdType)
-&gt; Ord IdType
IdType -&gt; IdType -&gt; Bool
IdType -&gt; IdType -&gt; Ordering
IdType -&gt; IdType -&gt; IdType
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: IdType -&gt; IdType -&gt; Ordering
compare :: IdType -&gt; IdType -&gt; Ordering
$c&lt; :: IdType -&gt; IdType -&gt; Bool
&lt; :: IdType -&gt; IdType -&gt; Bool
$c&lt;= :: IdType -&gt; IdType -&gt; Bool
&lt;= :: IdType -&gt; IdType -&gt; Bool
$c&gt; :: IdType -&gt; IdType -&gt; Bool
&gt; :: IdType -&gt; IdType -&gt; Bool
$c&gt;= :: IdType -&gt; IdType -&gt; Bool
&gt;= :: IdType -&gt; IdType -&gt; Bool
$cmax :: IdType -&gt; IdType -&gt; IdType
max :: IdType -&gt; IdType -&gt; IdType
$cmin :: IdType -&gt; IdType -&gt; IdType
min :: IdType -&gt; IdType -&gt; IdType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><span class="hs-comment">-- | Keys to differentiate Ident's in the ID Cache</span></span><span>
</span><span id="line-196"></span><span class="hs-keyword">data</span><span> </span><span id="IdKey"><span class="annot"><a href="GHC.StgToJS.Types.html#IdKey"><span class="hs-identifier hs-var">IdKey</span></a></span></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="IdKey"><span class="annot"><a href="GHC.StgToJS.Types.html#IdKey"><span class="hs-identifier hs-var">IdKey</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#IdType"><span class="hs-identifier hs-type">IdType</span></a></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518408"><span id="local-6989586621682518414"><span class="annot"><span class="annottext">IdKey -&gt; IdKey -&gt; Bool
(IdKey -&gt; IdKey -&gt; Bool) -&gt; (IdKey -&gt; IdKey -&gt; Bool) -&gt; Eq IdKey
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: IdKey -&gt; IdKey -&gt; Bool
== :: IdKey -&gt; IdKey -&gt; Bool
$c/= :: IdKey -&gt; IdKey -&gt; Bool
/= :: IdKey -&gt; IdKey -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518420"><span id="local-6989586621682518426"><span id="local-6989586621682518431"><span id="local-6989586621682518435"><span id="local-6989586621682518438"><span id="local-6989586621682518441"><span id="local-6989586621682518444"><span class="annot"><span class="annottext">Eq IdKey
Eq IdKey =&gt;
(IdKey -&gt; IdKey -&gt; Ordering)
-&gt; (IdKey -&gt; IdKey -&gt; Bool)
-&gt; (IdKey -&gt; IdKey -&gt; Bool)
-&gt; (IdKey -&gt; IdKey -&gt; Bool)
-&gt; (IdKey -&gt; IdKey -&gt; Bool)
-&gt; (IdKey -&gt; IdKey -&gt; IdKey)
-&gt; (IdKey -&gt; IdKey -&gt; IdKey)
-&gt; Ord IdKey
IdKey -&gt; IdKey -&gt; Bool
IdKey -&gt; IdKey -&gt; Ordering
IdKey -&gt; IdKey -&gt; IdKey
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: IdKey -&gt; IdKey -&gt; Ordering
compare :: IdKey -&gt; IdKey -&gt; Ordering
$c&lt; :: IdKey -&gt; IdKey -&gt; Bool
&lt; :: IdKey -&gt; IdKey -&gt; Bool
$c&lt;= :: IdKey -&gt; IdKey -&gt; Bool
&lt;= :: IdKey -&gt; IdKey -&gt; Bool
$c&gt; :: IdKey -&gt; IdKey -&gt; Bool
&gt; :: IdKey -&gt; IdKey -&gt; Bool
$c&gt;= :: IdKey -&gt; IdKey -&gt; Bool
&gt;= :: IdKey -&gt; IdKey -&gt; Bool
$cmax :: IdKey -&gt; IdKey -&gt; IdKey
max :: IdKey -&gt; IdKey -&gt; IdKey
$cmin :: IdKey -&gt; IdKey -&gt; IdKey
min :: IdKey -&gt; IdKey -&gt; IdKey
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><span class="hs-comment">-- | Some other symbol</span></span><span>
</span><span id="line-201"></span><span class="hs-keyword">data</span><span> </span><span id="OtherSymb"><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-var">OtherSymb</span></a></span></span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="OtherSymb"><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-var">OtherSymb</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621682518448"><span id="local-6989586621682518454"><span class="annot"><span class="annottext">OtherSymb -&gt; OtherSymb -&gt; Bool
(OtherSymb -&gt; OtherSymb -&gt; Bool)
-&gt; (OtherSymb -&gt; OtherSymb -&gt; Bool) -&gt; Eq OtherSymb
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: OtherSymb -&gt; OtherSymb -&gt; Bool
== :: OtherSymb -&gt; OtherSymb -&gt; Bool
$c/= :: OtherSymb -&gt; OtherSymb -&gt; Bool
/= :: OtherSymb -&gt; OtherSymb -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682518464"><span id="local-6989586621682518468"><span id="local-6989586621682518471"><span id="local-6989586621682518474"><span id="local-6989586621682518477"><span id="local-6989586621682518480"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-type">OtherSymb</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>  </span><span id="local-6989586621682518484"><span class="annot"><span class="annottext">compare :: OtherSymb -&gt; OtherSymb -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var">compare</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-type">OtherSymb</span></a></span><span> </span><span id="local-6989586621682518485"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682518485"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621682518486"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518486"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-type">OtherSymb</span></a></span><span> </span><span id="local-6989586621682518487"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682518487"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span id="local-6989586621682518488"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518488"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; Module -&gt; Ordering
</span><a href="GHC.Unit.Module.html#stableModuleCmp"><span class="hs-identifier hs-var">stableModuleCmp</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682518485"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682518487"><span class="hs-identifier hs-var">m2</span></a></span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Ordering
</span><a href="GHC.Data.FastString.html#lexicalCompareFS"><span class="hs-identifier hs-var">lexicalCompareFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518486"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518488"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="annot"><span class="hs-comment">-- | The identifier cache indexed on 'IdKey' local to a module</span></span><span>
</span><span id="line-210"></span><span class="hs-keyword">newtype</span><span> </span><span id="IdCache"><span class="annot"><a href="GHC.StgToJS.Types.html#IdCache"><span class="hs-identifier hs-var">IdCache</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IdCache"><span class="annot"><a href="GHC.StgToJS.Types.html#IdCache"><span class="hs-identifier hs-var">IdCache</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#IdKey"><span class="hs-identifier hs-type">IdKey</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="annot"><span class="hs-comment">-- | The global Identifier Cache</span></span><span>
</span><span id="line-213"></span><span class="hs-keyword">newtype</span><span> </span><span id="GlobalIdCache"><span class="annot"><a href="GHC.StgToJS.Types.html#GlobalIdCache"><span class="hs-identifier hs-var">GlobalIdCache</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="GlobalIdCache"><span class="annot"><a href="GHC.StgToJS.Types.html#GlobalIdCache"><span class="hs-identifier hs-var">GlobalIdCache</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#IdKey"><span class="hs-identifier hs-type">IdKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- | A Stack Slot is either known or unknown. We avoid maybe here for more</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- strictness.</span><span>
</span><span id="line-217"></span><span class="hs-keyword">data</span><span> </span><span id="StackSlot"><span class="annot"><a href="GHC.StgToJS.Types.html#StackSlot"><span class="hs-identifier hs-var">StackSlot</span></a></span></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SlotId"><span class="annot"><a href="GHC.StgToJS.Types.html#SlotId"><span class="hs-identifier hs-var">SlotId</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SlotUnknown"><span class="annot"><a href="GHC.StgToJS.Types.html#SlotUnknown"><span class="hs-identifier hs-var">SlotUnknown</span></a></span></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518497"><span id="local-6989586621682518504"><span class="annot"><span class="annottext">StackSlot -&gt; StackSlot -&gt; Bool
(StackSlot -&gt; StackSlot -&gt; Bool)
-&gt; (StackSlot -&gt; StackSlot -&gt; Bool) -&gt; Eq StackSlot
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StackSlot -&gt; StackSlot -&gt; Bool
== :: StackSlot -&gt; StackSlot -&gt; Bool
$c/= :: StackSlot -&gt; StackSlot -&gt; Bool
/= :: StackSlot -&gt; StackSlot -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518510"><span id="local-6989586621682518515"><span id="local-6989586621682518519"><span id="local-6989586621682518523"><span id="local-6989586621682518526"><span id="local-6989586621682518529"><span id="local-6989586621682518532"><span class="annot"><span class="annottext">Eq StackSlot
Eq StackSlot =&gt;
(StackSlot -&gt; StackSlot -&gt; Ordering)
-&gt; (StackSlot -&gt; StackSlot -&gt; Bool)
-&gt; (StackSlot -&gt; StackSlot -&gt; Bool)
-&gt; (StackSlot -&gt; StackSlot -&gt; Bool)
-&gt; (StackSlot -&gt; StackSlot -&gt; Bool)
-&gt; (StackSlot -&gt; StackSlot -&gt; StackSlot)
-&gt; (StackSlot -&gt; StackSlot -&gt; StackSlot)
-&gt; Ord StackSlot
StackSlot -&gt; StackSlot -&gt; Bool
StackSlot -&gt; StackSlot -&gt; Ordering
StackSlot -&gt; StackSlot -&gt; StackSlot
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: StackSlot -&gt; StackSlot -&gt; Ordering
compare :: StackSlot -&gt; StackSlot -&gt; Ordering
$c&lt; :: StackSlot -&gt; StackSlot -&gt; Bool
&lt; :: StackSlot -&gt; StackSlot -&gt; Bool
$c&lt;= :: StackSlot -&gt; StackSlot -&gt; Bool
&lt;= :: StackSlot -&gt; StackSlot -&gt; Bool
$c&gt; :: StackSlot -&gt; StackSlot -&gt; Bool
&gt; :: StackSlot -&gt; StackSlot -&gt; Bool
$c&gt;= :: StackSlot -&gt; StackSlot -&gt; Bool
&gt;= :: StackSlot -&gt; StackSlot -&gt; Bool
$cmax :: StackSlot -&gt; StackSlot -&gt; StackSlot
max :: StackSlot -&gt; StackSlot -&gt; StackSlot
$cmin :: StackSlot -&gt; StackSlot -&gt; StackSlot
min :: StackSlot -&gt; StackSlot -&gt; StackSlot
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-keyword">data</span><span> </span><span id="StaticInfo"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticInfo"><span class="hs-identifier hs-var">StaticInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StaticInfo"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticInfo"><span class="hs-identifier hs-var">StaticInfo</span></a></span></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="siVar"><span class="annot"><span class="annottext">StaticInfo -&gt; FastString
</span><a href="GHC.StgToJS.Types.html#siVar"><span class="hs-identifier hs-var hs-var">siVar</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ global object</span></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="siVal"><span class="annot"><span class="annottext">StaticInfo -&gt; StaticVal
</span><a href="GHC.StgToJS.Types.html#siVal"><span class="hs-identifier hs-var hs-var">siVal</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticVal"><span class="hs-identifier hs-type">StaticVal</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ static initialization</span></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="siCC"><span class="annot"><span class="annottext">StaticInfo -&gt; Maybe Ident
</span><a href="GHC.StgToJS.Types.html#siCC"><span class="hs-identifier hs-var hs-var">siCC</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.JS.Ident.html#Ident"><span class="hs-identifier hs-type">Ident</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ optional CCS name</span></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518539"><span id="local-6989586621682518547"><span class="annot"><span class="annottext">StaticInfo -&gt; StaticInfo -&gt; Bool
(StaticInfo -&gt; StaticInfo -&gt; Bool)
-&gt; (StaticInfo -&gt; StaticInfo -&gt; Bool) -&gt; Eq StaticInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StaticInfo -&gt; StaticInfo -&gt; Bool
== :: StaticInfo -&gt; StaticInfo -&gt; Bool
$c/= :: StaticInfo -&gt; StaticInfo -&gt; Bool
/= :: StaticInfo -&gt; StaticInfo -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518551"><span id="local-6989586621682518560"><span id="local-6989586621682518564"><span class="annot"><span class="annottext">Int -&gt; StaticInfo -&gt; ShowS
[StaticInfo] -&gt; ShowS
StaticInfo -&gt; String
(Int -&gt; StaticInfo -&gt; ShowS)
-&gt; (StaticInfo -&gt; String)
-&gt; ([StaticInfo] -&gt; ShowS)
-&gt; Show StaticInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; StaticInfo -&gt; ShowS
showsPrec :: Int -&gt; StaticInfo -&gt; ShowS
$cshow :: StaticInfo -&gt; String
show :: StaticInfo -&gt; String
$cshowList :: [StaticInfo] -&gt; ShowS
showList :: [StaticInfo] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-keyword">data</span><span> </span><span id="StaticVal"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticVal"><span class="hs-identifier hs-var">StaticVal</span></a></span></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StaticFun"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticFun"><span class="hs-identifier hs-var">StaticFun</span></a></span></span><span>     </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-type">StaticArg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ heap object for function</span></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticThunk"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticThunk"><span class="hs-identifier hs-var">StaticThunk</span></a></span></span><span>   </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-type">StaticArg</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-comment">-- ^ heap object for CAF (field is Nothing when thunk is initialized in an</span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-comment">-- alternative way, like string thunks through h$str)</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticUnboxed"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxed"><span class="hs-identifier hs-var">StaticUnboxed</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxed"><span class="hs-identifier hs-type">StaticUnboxed</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ unboxed constructor (Bool, Int, Double etc)</span></span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticData"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticData"><span class="hs-identifier hs-var">StaticData</span></a></span></span><span>    </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-type">StaticArg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-237"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ regular datacon app</span></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticList"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticList"><span class="hs-identifier hs-var">StaticList</span></a></span></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-type">StaticArg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ list initializer (with optional tail)</span></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518572"><span id="local-6989586621682518587"><span class="annot"><span class="annottext">StaticVal -&gt; StaticVal -&gt; Bool
(StaticVal -&gt; StaticVal -&gt; Bool)
-&gt; (StaticVal -&gt; StaticVal -&gt; Bool) -&gt; Eq StaticVal
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StaticVal -&gt; StaticVal -&gt; Bool
== :: StaticVal -&gt; StaticVal -&gt; Bool
$c/= :: StaticVal -&gt; StaticVal -&gt; Bool
/= :: StaticVal -&gt; StaticVal -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518592"><span id="local-6989586621682518610"><span id="local-6989586621682518613"><span class="annot"><span class="annottext">Int -&gt; StaticVal -&gt; ShowS
[StaticVal] -&gt; ShowS
StaticVal -&gt; String
(Int -&gt; StaticVal -&gt; ShowS)
-&gt; (StaticVal -&gt; String)
-&gt; ([StaticVal] -&gt; ShowS)
-&gt; Show StaticVal
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; StaticVal -&gt; ShowS
showsPrec :: Int -&gt; StaticVal -&gt; ShowS
$cshow :: StaticVal -&gt; String
show :: StaticVal -&gt; String
$cshowList :: [StaticVal] -&gt; ShowS
showList :: [StaticVal] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-keyword">data</span><span> </span><span id="StaticUnboxed"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxed"><span class="hs-identifier hs-var">StaticUnboxed</span></a></span></span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StaticUnboxedBool"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxedBool"><span class="hs-identifier hs-var">StaticUnboxedBool</span></a></span></span><span>         </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticUnboxedInt"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxedInt"><span class="hs-identifier hs-var">StaticUnboxedInt</span></a></span></span><span>          </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticUnboxedDouble"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxedDouble"><span class="hs-identifier hs-var">StaticUnboxedDouble</span></a></span></span><span>       </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.SaneDouble.html#SaneDouble"><span class="hs-identifier hs-type">SaneDouble</span></a></span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticUnboxedString"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxedString"><span class="hs-identifier hs-var">StaticUnboxedString</span></a></span></span><span>       </span><span class="hs-glyph">!</span><span class="annot"><a href="../../bytestring-0.12.2.0-inplace/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticUnboxedStringOffset"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticUnboxedStringOffset"><span class="hs-identifier hs-var">StaticUnboxedStringOffset</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../bytestring-0.12.2.0-inplace/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518623"><span id="local-6989586621682518636"><span class="annot"><span class="annottext">StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
(StaticUnboxed -&gt; StaticUnboxed -&gt; Bool)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; Bool) -&gt; Eq StaticUnboxed
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
== :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
$c/= :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
/= :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518641"><span id="local-6989586621682518653"><span id="local-6989586621682518657"><span id="local-6989586621682518660"><span id="local-6989586621682518663"><span id="local-6989586621682518666"><span id="local-6989586621682518669"><span class="annot"><span class="annottext">Eq StaticUnboxed
Eq StaticUnboxed =&gt;
(StaticUnboxed -&gt; StaticUnboxed -&gt; Ordering)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; Bool)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; Bool)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; Bool)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; Bool)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed)
-&gt; (StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed)
-&gt; Ord StaticUnboxed
StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
StaticUnboxed -&gt; StaticUnboxed -&gt; Ordering
StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: StaticUnboxed -&gt; StaticUnboxed -&gt; Ordering
compare :: StaticUnboxed -&gt; StaticUnboxed -&gt; Ordering
$c&lt; :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
&lt; :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
$c&lt;= :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
&lt;= :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
$c&gt; :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
&gt; :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
$c&gt;= :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
&gt;= :: StaticUnboxed -&gt; StaticUnboxed -&gt; Bool
$cmax :: StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed
max :: StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed
$cmin :: StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed
min :: StaticUnboxed -&gt; StaticUnboxed -&gt; StaticUnboxed
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518672"><span id="local-6989586621682518688"><span id="local-6989586621682518691"><span class="annot"><span class="annottext">Int -&gt; StaticUnboxed -&gt; ShowS
[StaticUnboxed] -&gt; ShowS
StaticUnboxed -&gt; String
(Int -&gt; StaticUnboxed -&gt; ShowS)
-&gt; (StaticUnboxed -&gt; String)
-&gt; ([StaticUnboxed] -&gt; ShowS)
-&gt; Show StaticUnboxed
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; StaticUnboxed -&gt; ShowS
showsPrec :: Int -&gt; StaticUnboxed -&gt; ShowS
$cshow :: StaticUnboxed -&gt; String
show :: StaticUnboxed -&gt; String
$cshowList :: [StaticUnboxed] -&gt; ShowS
showList :: [StaticUnboxed] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">-- | Static Arguments. Static Arguments are things that are statically</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- allocated, i.e., they exist at program startup. These are static heap objects</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- or literals or things that have been floated to the top level binding by ghc.</span><span>
</span><span id="line-253"></span><span class="hs-keyword">data</span><span> </span><span id="StaticArg"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-var">StaticArg</span></a></span></span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="StaticObjArg"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticObjArg"><span class="hs-identifier hs-var">StaticObjArg</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ reference to a heap object</span></span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticLitArg"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticLitArg"><span class="hs-identifier hs-var">StaticLitArg</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticLit"><span class="hs-identifier hs-type">StaticLit</span></a></span><span>              </span><span class="annot"><span class="hs-comment">-- ^ literal</span></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StaticConArg"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticConArg"><span class="hs-identifier hs-var">StaticConArg</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-type">StaticArg</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ unfloated constructor</span></span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518697"><span id="local-6989586621682518707"><span class="annot"><span class="annottext">StaticArg -&gt; StaticArg -&gt; Bool
(StaticArg -&gt; StaticArg -&gt; Bool)
-&gt; (StaticArg -&gt; StaticArg -&gt; Bool) -&gt; Eq StaticArg
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StaticArg -&gt; StaticArg -&gt; Bool
== :: StaticArg -&gt; StaticArg -&gt; Bool
$c/= :: StaticArg -&gt; StaticArg -&gt; Bool
/= :: StaticArg -&gt; StaticArg -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518710"><span id="local-6989586621682518721"><span id="local-6989586621682518724"><span class="annot"><span class="annottext">Int -&gt; StaticArg -&gt; ShowS
[StaticArg] -&gt; ShowS
StaticArg -&gt; String
(Int -&gt; StaticArg -&gt; ShowS)
-&gt; (StaticArg -&gt; String)
-&gt; ([StaticArg] -&gt; ShowS)
-&gt; Show StaticArg
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; StaticArg -&gt; ShowS
showsPrec :: Int -&gt; StaticArg -&gt; ShowS
$cshow :: StaticArg -&gt; String
show :: StaticArg -&gt; String
$cshowList :: [StaticArg] -&gt; ShowS
showList :: [StaticArg] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticArg"><span class="hs-identifier hs-type">StaticArg</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621682518732"><span class="annot"><span class="annottext">ppr :: StaticArg -&gt; SDoc
</span><a href="#local-6989586621682518732"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621682518734"><span class="annot"><span class="annottext">StaticArg
</span><a href="#local-6989586621682518734"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StaticArg -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">StaticArg
</span><a href="#local-6989586621682518734"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="annot"><span class="hs-comment">-- | A Static literal value</span></span><span>
</span><span id="line-263"></span><span class="hs-keyword">data</span><span> </span><span id="StaticLit"><span class="annot"><a href="GHC.StgToJS.Types.html#StaticLit"><span class="hs-identifier hs-var">StaticLit</span></a></span></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="BoolLit"><span class="annot"><a href="GHC.StgToJS.Types.html#BoolLit"><span class="hs-identifier hs-var">BoolLit</span></a></span></span><span>   </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="IntLit"><span class="annot"><a href="GHC.StgToJS.Types.html#IntLit"><span class="hs-identifier hs-var">IntLit</span></a></span></span><span>    </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NullLit"><span class="annot"><a href="GHC.StgToJS.Types.html#NullLit"><span class="hs-identifier hs-var">NullLit</span></a></span></span><span>
</span><span id="line-267"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DoubleLit"><span class="annot"><a href="GHC.StgToJS.Types.html#DoubleLit"><span class="hs-identifier hs-var">DoubleLit</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.SaneDouble.html#SaneDouble"><span class="hs-identifier hs-type">SaneDouble</span></a></span><span> </span><span class="hs-comment">-- should we actually use double here?</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StringLit"><span class="annot"><a href="GHC.StgToJS.Types.html#StringLit"><span class="hs-identifier hs-var">StringLit</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="BinLit"><span class="annot"><a href="GHC.StgToJS.Types.html#BinLit"><span class="hs-identifier hs-var">BinLit</span></a></span></span><span>    </span><span class="hs-glyph">!</span><span class="annot"><a href="../../bytestring-0.12.2.0-inplace/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LabelLit"><span class="annot"><a href="GHC.StgToJS.Types.html#LabelLit"><span class="hs-identifier hs-var">LabelLit</span></a></span></span><span>  </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ is function pointer, label (also used for string / binary init)</span></span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518743"><span id="local-6989586621682518754"><span class="annot"><span class="annottext">StaticLit -&gt; StaticLit -&gt; Bool
(StaticLit -&gt; StaticLit -&gt; Bool)
-&gt; (StaticLit -&gt; StaticLit -&gt; Bool) -&gt; Eq StaticLit
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: StaticLit -&gt; StaticLit -&gt; Bool
== :: StaticLit -&gt; StaticLit -&gt; Bool
$c/= :: StaticLit -&gt; StaticLit -&gt; Bool
/= :: StaticLit -&gt; StaticLit -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518757"><span id="local-6989586621682518772"><span id="local-6989586621682518775"><span class="annot"><span class="annottext">Int -&gt; StaticLit -&gt; ShowS
[StaticLit] -&gt; ShowS
StaticLit -&gt; String
(Int -&gt; StaticLit -&gt; ShowS)
-&gt; (StaticLit -&gt; String)
-&gt; ([StaticLit] -&gt; ShowS)
-&gt; Show StaticLit
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; StaticLit -&gt; ShowS
showsPrec :: Int -&gt; StaticLit -&gt; ShowS
$cshow :: StaticLit -&gt; String
show :: StaticLit -&gt; String
$cshowList :: [StaticLit] -&gt; ShowS
showList :: [StaticLit] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticLit"><span class="hs-identifier hs-type">StaticLit</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-274"></span><span>  </span><span id="local-6989586621682518781"><span class="annot"><span class="annottext">ppr :: StaticLit -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621682518782"><span class="annot"><span class="annottext">StaticLit
</span><a href="#local-6989586621682518782"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StaticLit -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">StaticLit
</span><a href="#local-6989586621682518782"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682518785"><span class="annot"><a href="GHC.JS.Make.html#ToJExpr"><span class="hs-identifier hs-type">ToJExpr</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticLit"><span class="hs-identifier hs-type">StaticLit</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621682518799"><span class="annot"><span class="annottext">toJExpr :: StaticLit -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var hs-var hs-var">toJExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#BoolLit"><span class="hs-identifier hs-type">BoolLit</span></a></span><span> </span><span id="local-6989586621682518800"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682518800"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682518800"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#IntLit"><span class="hs-identifier hs-type">IntLit</span></a></span><span> </span><span id="local-6989586621682518801"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682518801"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682518801"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="annot"><span class="annottext">StaticLit
</span><a href="GHC.StgToJS.Types.html#NullLit"><span class="hs-identifier hs-var">NullLit</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">JStgExpr
</span><a href="GHC.JS.Make.html#null_"><span class="hs-identifier hs-var">null_</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#DoubleLit"><span class="hs-identifier hs-type">DoubleLit</span></a></span><span> </span><span id="local-6989586621682518802"><span class="annot"><span class="annottext">SaneDouble
</span><a href="#local-6989586621682518802"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SaneDouble -&gt; Double
</span><a href="GHC.Types.SaneDouble.html#unSaneDouble"><span class="hs-identifier hs-var">unSaneDouble</span></a></span><span> </span><span class="annot"><span class="annottext">SaneDouble
</span><a href="#local-6989586621682518802"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#StringLit"><span class="hs-identifier hs-type">StringLit</span></a></span><span> </span><span id="local-6989586621682518804"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518804"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [JStgExpr] -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;h$str&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FastString -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518804"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#BinLit"><span class="hs-identifier hs-type">BinLit</span></a></span><span> </span><span id="local-6989586621682518807"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682518807"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [JStgExpr] -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;h$rstr&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Integer] -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word8 -&gt; Integer) -&gt; [Word8] -&gt; [Integer]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Word8 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [Word8]
</span><a href="../../bytestring-0.12.2.0-inplace/src/Data.ByteString.html#unpack"><span class="hs-identifier hs-var">BS.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682518807"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-283"></span><span>  </span><span class="annot"><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#LabelLit"><span class="hs-identifier hs-type">LabelLit</span></a></span><span> </span><span id="local-6989586621682518809"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682518809"><span class="hs-identifier hs-var">_isFun</span></a></span></span><span> </span><span id="local-6989586621682518810"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518810"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; JStgExpr
</span><a href="GHC.JS.JStg.Syntax.html#var"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682518810"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="annot"><span class="hs-comment">-- | A foreign reference to some JS code</span></span><span>
</span><span id="line-286"></span><span class="hs-keyword">data</span><span> </span><span id="ForeignJSRef"><span class="annot"><a href="GHC.StgToJS.Types.html#ForeignJSRef"><span class="hs-identifier hs-var">ForeignJSRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ForeignJSRef"><span class="annot"><a href="GHC.StgToJS.Types.html#ForeignJSRef"><span class="hs-identifier hs-var">ForeignJSRef</span></a></span></span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="foreignRefSrcSpan"><span class="annot"><span class="annottext">ForeignJSRef -&gt; FastString
</span><a href="GHC.StgToJS.Types.html#foreignRefSrcSpan"><span class="hs-identifier hs-var hs-var">foreignRefSrcSpan</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foreignRefPattern"><span class="annot"><span class="annottext">ForeignJSRef -&gt; FastString
</span><a href="GHC.StgToJS.Types.html#foreignRefPattern"><span class="hs-identifier hs-var hs-var">foreignRefPattern</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foreignRefSafety"><span class="annot"><span class="annottext">ForeignJSRef -&gt; Safety
</span><a href="GHC.StgToJS.Types.html#foreignRefSafety"><span class="hs-identifier hs-var hs-var">foreignRefSafety</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foreignRefCConv"><span class="annot"><span class="annottext">ForeignJSRef -&gt; CCallConv
</span><a href="GHC.StgToJS.Types.html#foreignRefCConv"><span class="hs-identifier hs-var hs-var">foreignRefCConv</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foreignRefArgs"><span class="annot"><span class="annottext">ForeignJSRef -&gt; [FastString]
</span><a href="GHC.StgToJS.Types.html#foreignRefArgs"><span class="hs-identifier hs-var hs-var">foreignRefArgs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="foreignRefResult"><span class="annot"><span class="annottext">ForeignJSRef -&gt; FastString
</span><a href="GHC.StgToJS.Types.html#foreignRefResult"><span class="hs-identifier hs-var hs-var">foreignRefResult</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="annot"><span class="hs-comment">-- | data used to generate one ObjBlock in our object file</span></span><span>
</span><span id="line-296"></span><span class="hs-keyword">data</span><span> </span><span id="LinkableUnit"><span class="annot"><a href="GHC.StgToJS.Types.html#LinkableUnit"><span class="hs-identifier hs-var">LinkableUnit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LinkableUnit"><span class="annot"><a href="GHC.StgToJS.Types.html#LinkableUnit"><span class="hs-identifier hs-var">LinkableUnit</span></a></span></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="luObjBlock"><span class="annot"><span class="annottext">LinkableUnit -&gt; ObjBlock
</span><a href="GHC.StgToJS.Types.html#luObjBlock"><span class="hs-identifier hs-var hs-var">luObjBlock</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#ObjBlock"><span class="hs-identifier hs-type">ObjBlock</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ serializable unit info</span></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luIdExports"><span class="annot"><span class="annottext">LinkableUnit -&gt; [Id]
</span><a href="GHC.StgToJS.Types.html#luIdExports"><span class="hs-identifier hs-var hs-var">luIdExports</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span>          </span><span class="annot"><span class="hs-comment">-- ^ exported names from haskell identifiers</span></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luOtherExports"><span class="annot"><span class="annottext">LinkableUnit -&gt; [FastString]
</span><a href="GHC.StgToJS.Types.html#luOtherExports"><span class="hs-identifier hs-var hs-var">luOtherExports</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">]</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ other exports</span></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luIdDeps"><span class="annot"><span class="annottext">LinkableUnit -&gt; [Id]
</span><a href="GHC.StgToJS.Types.html#luIdDeps"><span class="hs-identifier hs-var hs-var">luIdDeps</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span>          </span><span class="annot"><span class="hs-comment">-- ^ identifiers this unit depends on</span></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luPseudoIdDeps"><span class="annot"><span class="annottext">LinkableUnit -&gt; [Unique]
</span><a href="GHC.StgToJS.Types.html#luPseudoIdDeps"><span class="hs-identifier hs-var hs-var">luPseudoIdDeps</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">]</span><span>      </span><span class="annot"><span class="hs-comment">-- ^ pseudo-id identifiers this unit depends on (fixme)</span></span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luOtherDeps"><span class="annot"><span class="annottext">LinkableUnit -&gt; [OtherSymb]
</span><a href="GHC.StgToJS.Types.html#luOtherDeps"><span class="hs-identifier hs-var hs-var">luOtherDeps</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#OtherSymb"><span class="hs-identifier hs-type">OtherSymb</span></a></span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ symbols not from a haskell id that this unit depends on</span></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luRequired"><span class="annot"><span class="annottext">LinkableUnit -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#luRequired"><span class="hs-identifier hs-var hs-var">luRequired</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ always link this unit</span></span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="luForeignRefs"><span class="annot"><span class="annottext">LinkableUnit -&gt; [ForeignJSRef]
</span><a href="GHC.StgToJS.Types.html#luForeignRefs"><span class="hs-identifier hs-var hs-var">luForeignRefs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#ForeignJSRef"><span class="hs-identifier hs-type">ForeignJSRef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><span class="hs-comment">-- | one toplevel block in the object file</span></span><span>
</span><span id="line-308"></span><span class="hs-keyword">data</span><span> </span><span id="ObjBlock"><span class="annot"><a href="GHC.StgToJS.Types.html#ObjBlock"><span class="hs-identifier hs-var">ObjBlock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ObjBlock"><span class="annot"><a href="GHC.StgToJS.Types.html#ObjBlock"><span class="hs-identifier hs-var">ObjBlock</span></a></span></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="oiSymbols"><span class="annot"><span class="annottext">ObjBlock -&gt; [FastString]
</span><a href="GHC.StgToJS.Types.html#oiSymbols"><span class="hs-identifier hs-var hs-var">oiSymbols</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ toplevel symbols (stored in index)</span></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oiClInfo"><span class="annot"><span class="annottext">ObjBlock -&gt; [ClosureInfo]
</span><a href="GHC.StgToJS.Types.html#oiClInfo"><span class="hs-identifier hs-var hs-var">oiClInfo</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureInfo"><span class="hs-identifier hs-type">ClosureInfo</span></a></span><span class="hs-special">]</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ closure information of all closures in block</span></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oiStatic"><span class="annot"><span class="annottext">ObjBlock -&gt; [StaticInfo]
</span><a href="GHC.StgToJS.Types.html#oiStatic"><span class="hs-identifier hs-var hs-var">oiStatic</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#StaticInfo"><span class="hs-identifier hs-type">StaticInfo</span></a></span><span class="hs-special">]</span><span>   </span><span class="annot"><span class="hs-comment">-- ^ static closure data</span></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oiStat"><span class="annot"><span class="annottext">ObjBlock -&gt; JStat
</span><a href="GHC.StgToJS.Types.html#oiStat"><span class="hs-identifier hs-var hs-var">oiStat</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.JS.Syntax.html#JStat"><span class="hs-identifier hs-type">Sat.JStat</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ the code</span></span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oiRaw"><span class="annot"><span class="annottext">ObjBlock -&gt; ByteString
</span><a href="GHC.StgToJS.Types.html#oiRaw"><span class="hs-identifier hs-var hs-var">oiRaw</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../bytestring-0.12.2.0-inplace/src/Data.ByteString.Internal.Type.html#ByteString"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ raw JS code</span></span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oiFExports"><span class="annot"><span class="annottext">ObjBlock -&gt; [ExpFun]
</span><a href="GHC.StgToJS.Types.html#oiFExports"><span class="hs-identifier hs-var hs-var">oiFExports</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#ExpFun"><span class="hs-identifier hs-type">ExpFun</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="oiFImports"><span class="annot"><span class="annottext">ObjBlock -&gt; [ForeignJSRef]
</span><a href="GHC.StgToJS.Types.html#oiFImports"><span class="hs-identifier hs-var hs-var">oiFImports</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#ForeignJSRef"><span class="hs-identifier hs-type">ForeignJSRef</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-316"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-keyword">data</span><span> </span><span id="ExpFun"><span class="annot"><a href="GHC.StgToJS.Types.html#ExpFun"><span class="hs-identifier hs-var">ExpFun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ExpFun"><span class="annot"><a href="GHC.StgToJS.Types.html#ExpFun"><span class="hs-identifier hs-var">ExpFun</span></a></span></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="isIO"><span class="annot"><span class="annottext">ExpFun -&gt; Bool
</span><a href="GHC.StgToJS.Types.html#isIO"><span class="hs-identifier hs-var hs-var">isIO</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="args"><span class="annot"><span class="annottext">ExpFun -&gt; [JSFFIType]
</span><a href="GHC.StgToJS.Types.html#args"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToJS.Types.html#JSFFIType"><span class="hs-identifier hs-type">JSFFIType</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-321"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="result"><span class="annot"><span class="annottext">ExpFun -&gt; JSFFIType
</span><a href="GHC.StgToJS.Types.html#result"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.StgToJS.Types.html#JSFFIType"><span class="hs-identifier hs-type">JSFFIType</span></a></span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518841"><span id="local-6989586621682518847"><span class="annot"><span class="annottext">ExpFun -&gt; ExpFun -&gt; Bool
(ExpFun -&gt; ExpFun -&gt; Bool)
-&gt; (ExpFun -&gt; ExpFun -&gt; Bool) -&gt; Eq ExpFun
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ExpFun -&gt; ExpFun -&gt; Bool
== :: ExpFun -&gt; ExpFun -&gt; Bool
$c/= :: ExpFun -&gt; ExpFun -&gt; Bool
/= :: ExpFun -&gt; ExpFun -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518854"><span id="local-6989586621682518860"><span id="local-6989586621682518866"><span id="local-6989586621682518870"><span id="local-6989586621682518873"><span id="local-6989586621682518876"><span id="local-6989586621682518879"><span class="annot"><span class="annottext">Eq ExpFun
Eq ExpFun =&gt;
(ExpFun -&gt; ExpFun -&gt; Ordering)
-&gt; (ExpFun -&gt; ExpFun -&gt; Bool)
-&gt; (ExpFun -&gt; ExpFun -&gt; Bool)
-&gt; (ExpFun -&gt; ExpFun -&gt; Bool)
-&gt; (ExpFun -&gt; ExpFun -&gt; Bool)
-&gt; (ExpFun -&gt; ExpFun -&gt; ExpFun)
-&gt; (ExpFun -&gt; ExpFun -&gt; ExpFun)
-&gt; Ord ExpFun
ExpFun -&gt; ExpFun -&gt; Bool
ExpFun -&gt; ExpFun -&gt; Ordering
ExpFun -&gt; ExpFun -&gt; ExpFun
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: ExpFun -&gt; ExpFun -&gt; Ordering
compare :: ExpFun -&gt; ExpFun -&gt; Ordering
$c&lt; :: ExpFun -&gt; ExpFun -&gt; Bool
&lt; :: ExpFun -&gt; ExpFun -&gt; Bool
$c&lt;= :: ExpFun -&gt; ExpFun -&gt; Bool
&lt;= :: ExpFun -&gt; ExpFun -&gt; Bool
$c&gt; :: ExpFun -&gt; ExpFun -&gt; Bool
&gt; :: ExpFun -&gt; ExpFun -&gt; Bool
$c&gt;= :: ExpFun -&gt; ExpFun -&gt; Bool
&gt;= :: ExpFun -&gt; ExpFun -&gt; Bool
$cmax :: ExpFun -&gt; ExpFun -&gt; ExpFun
max :: ExpFun -&gt; ExpFun -&gt; ExpFun
$cmin :: ExpFun -&gt; ExpFun -&gt; ExpFun
min :: ExpFun -&gt; ExpFun -&gt; ExpFun
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518883"><span id="local-6989586621682518890"><span id="local-6989586621682518894"><span class="annot"><span class="annottext">Int -&gt; ExpFun -&gt; ShowS
[ExpFun] -&gt; ShowS
ExpFun -&gt; String
(Int -&gt; ExpFun -&gt; ShowS)
-&gt; (ExpFun -&gt; String) -&gt; ([ExpFun] -&gt; ShowS) -&gt; Show ExpFun
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ExpFun -&gt; ShowS
showsPrec :: Int -&gt; ExpFun -&gt; ShowS
$cshow :: ExpFun -&gt; String
show :: ExpFun -&gt; String
$cshowList :: [ExpFun] -&gt; ShowS
showList :: [ExpFun] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="annot"><span class="hs-comment">-- | Types of FFI values</span></span><span>
</span><span id="line-325"></span><span class="hs-keyword">data</span><span> </span><span id="JSFFIType"><span class="annot"><a href="GHC.StgToJS.Types.html#JSFFIType"><span class="hs-identifier hs-var">JSFFIType</span></a></span></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Int8Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Int8Type"><span class="hs-identifier hs-var">Int8Type</span></a></span></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Int16Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Int16Type"><span class="hs-identifier hs-var">Int16Type</span></a></span></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Int32Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Int32Type"><span class="hs-identifier hs-var">Int32Type</span></a></span></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Int64Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Int64Type"><span class="hs-identifier hs-var">Int64Type</span></a></span></span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Word8Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Word8Type"><span class="hs-identifier hs-var">Word8Type</span></a></span></span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Word16Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Word16Type"><span class="hs-identifier hs-var">Word16Type</span></a></span></span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Word32Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Word32Type"><span class="hs-identifier hs-var">Word32Type</span></a></span></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Word64Type"><span class="annot"><a href="GHC.StgToJS.Types.html#Word64Type"><span class="hs-identifier hs-var">Word64Type</span></a></span></span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DoubleType"><span class="annot"><a href="GHC.StgToJS.Types.html#DoubleType"><span class="hs-identifier hs-var">DoubleType</span></a></span></span><span>
</span><span id="line-335"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ByteArrayType"><span class="annot"><a href="GHC.StgToJS.Types.html#ByteArrayType"><span class="hs-identifier hs-var">ByteArrayType</span></a></span></span><span>
</span><span id="line-336"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PtrType"><span class="annot"><a href="GHC.StgToJS.Types.html#PtrType"><span class="hs-identifier hs-var">PtrType</span></a></span></span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RefType"><span class="annot"><a href="GHC.StgToJS.Types.html#RefType"><span class="hs-identifier hs-var">RefType</span></a></span></span><span>
</span><span id="line-338"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682518910"><span id="local-6989586621682518912"><span id="local-6989586621682518915"><span class="annot"><span class="annottext">Int -&gt; JSFFIType -&gt; ShowS
[JSFFIType] -&gt; ShowS
JSFFIType -&gt; String
(Int -&gt; JSFFIType -&gt; ShowS)
-&gt; (JSFFIType -&gt; String)
-&gt; ([JSFFIType] -&gt; ShowS)
-&gt; Show JSFFIType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; JSFFIType -&gt; ShowS
showsPrec :: Int -&gt; JSFFIType -&gt; ShowS
$cshow :: JSFFIType -&gt; String
show :: JSFFIType -&gt; String
$cshowList :: [JSFFIType] -&gt; ShowS
showList :: [JSFFIType] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518920"><span id="local-6989586621682518924"><span id="local-6989586621682518928"><span id="local-6989586621682518931"><span id="local-6989586621682518934"><span id="local-6989586621682518937"><span id="local-6989586621682518940"><span class="annot"><span class="annottext">Eq JSFFIType
Eq JSFFIType =&gt;
(JSFFIType -&gt; JSFFIType -&gt; Ordering)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; Bool)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; Bool)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; Bool)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; Bool)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; JSFFIType)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; JSFFIType)
-&gt; Ord JSFFIType
JSFFIType -&gt; JSFFIType -&gt; Bool
JSFFIType -&gt; JSFFIType -&gt; Ordering
JSFFIType -&gt; JSFFIType -&gt; JSFFIType
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: JSFFIType -&gt; JSFFIType -&gt; Ordering
compare :: JSFFIType -&gt; JSFFIType -&gt; Ordering
$c&lt; :: JSFFIType -&gt; JSFFIType -&gt; Bool
&lt; :: JSFFIType -&gt; JSFFIType -&gt; Bool
$c&lt;= :: JSFFIType -&gt; JSFFIType -&gt; Bool
&lt;= :: JSFFIType -&gt; JSFFIType -&gt; Bool
$c&gt; :: JSFFIType -&gt; JSFFIType -&gt; Bool
&gt; :: JSFFIType -&gt; JSFFIType -&gt; Bool
$c&gt;= :: JSFFIType -&gt; JSFFIType -&gt; Bool
&gt;= :: JSFFIType -&gt; JSFFIType -&gt; Bool
$cmax :: JSFFIType -&gt; JSFFIType -&gt; JSFFIType
max :: JSFFIType -&gt; JSFFIType -&gt; JSFFIType
$cmin :: JSFFIType -&gt; JSFFIType -&gt; JSFFIType
min :: JSFFIType -&gt; JSFFIType -&gt; JSFFIType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518943"><span id="local-6989586621682518947"><span class="annot"><span class="annottext">JSFFIType -&gt; JSFFIType -&gt; Bool
(JSFFIType -&gt; JSFFIType -&gt; Bool)
-&gt; (JSFFIType -&gt; JSFFIType -&gt; Bool) -&gt; Eq JSFFIType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: JSFFIType -&gt; JSFFIType -&gt; Bool
== :: JSFFIType -&gt; JSFFIType -&gt; Bool
$c/= :: JSFFIType -&gt; JSFFIType -&gt; Bool
/= :: JSFFIType -&gt; JSFFIType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682518950"><span id="local-6989586621682518957"><span id="local-6989586621682518964"><span id="local-6989586621682518972"><span id="local-6989586621682518975"><span id="local-6989586621682518979"><span id="local-6989586621682518985"><span id="local-6989586621682518989"><span class="annot"><span class="annottext">Int -&gt; JSFFIType
JSFFIType -&gt; Int
JSFFIType -&gt; [JSFFIType]
JSFFIType -&gt; JSFFIType
JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
JSFFIType -&gt; JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
(JSFFIType -&gt; JSFFIType)
-&gt; (JSFFIType -&gt; JSFFIType)
-&gt; (Int -&gt; JSFFIType)
-&gt; (JSFFIType -&gt; Int)
-&gt; (JSFFIType -&gt; [JSFFIType])
-&gt; (JSFFIType -&gt; JSFFIType -&gt; [JSFFIType])
-&gt; (JSFFIType -&gt; JSFFIType -&gt; [JSFFIType])
-&gt; (JSFFIType -&gt; JSFFIType -&gt; JSFFIType -&gt; [JSFFIType])
-&gt; Enum JSFFIType
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
$csucc :: JSFFIType -&gt; JSFFIType
succ :: JSFFIType -&gt; JSFFIType
$cpred :: JSFFIType -&gt; JSFFIType
pred :: JSFFIType -&gt; JSFFIType
$ctoEnum :: Int -&gt; JSFFIType
toEnum :: Int -&gt; JSFFIType
$cfromEnum :: JSFFIType -&gt; Int
fromEnum :: JSFFIType -&gt; Int
$cenumFrom :: JSFFIType -&gt; [JSFFIType]
enumFrom :: JSFFIType -&gt; [JSFFIType]
$cenumFromThen :: JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
enumFromThen :: JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
$cenumFromTo :: JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
enumFromTo :: JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
$cenumFromThenTo :: JSFFIType -&gt; JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
enumFromThenTo :: JSFFIType -&gt; JSFFIType -&gt; JSFFIType -&gt; [JSFFIType]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="annot"><span class="hs-comment">-- | Typed expression</span></span><span>
</span><span id="line-342"></span><span class="hs-keyword">data</span><span> </span><span id="TypedExpr"><span class="annot"><a href="GHC.StgToJS.Types.html#TypedExpr"><span class="hs-identifier hs-var">TypedExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TypedExpr"><span class="annot"><a href="GHC.StgToJS.Types.html#TypedExpr"><span class="hs-identifier hs-var">TypedExpr</span></a></span></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="typex_typ"><span class="annot"><span class="annottext">TypedExpr -&gt; PrimRep
</span><a href="GHC.StgToJS.Types.html#typex_typ"><span class="hs-identifier hs-var hs-var">typex_typ</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Core.TyCon.html#PrimRep"><span class="hs-identifier hs-type">PrimRep</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="typex_expr"><span class="annot"><span class="annottext">TypedExpr -&gt; [JStgExpr]
</span><a href="GHC.StgToJS.Types.html#typex_expr"><span class="hs-identifier hs-var hs-var">typex_expr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.JStg.Syntax.html#JStgExpr"><span class="hs-identifier hs-type">JStgExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#TypedExpr"><span class="hs-identifier hs-type">TypedExpr</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>  </span><span id="local-6989586621682519004"><span class="annot"><span class="annottext">ppr :: TypedExpr -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToJS.Types.html#TypedExpr"><span class="hs-identifier hs-type">TypedExpr</span></a></span><span> </span><span id="local-6989586621682519005"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682519005"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span id="local-6989586621682519006"><span class="annot"><span class="annottext">[JStgExpr]
</span><a href="#local-6989586621682519006"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PrimRep, [JStgExpr]) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682519005"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[JStgExpr]
</span><a href="#local-6989586621682519006"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-comment">-- | A Primop result is either an inlining of some JS payload, or a primitive</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- call to a JS function defined in Shim files in base.</span><span>
</span><span id="line-352"></span><span class="hs-keyword">data</span><span> </span><span id="PrimRes"><span class="annot"><a href="GHC.StgToJS.Types.html#PrimRes"><span class="hs-identifier hs-var">PrimRes</span></a></span></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PrimInline"><span class="annot"><a href="GHC.StgToJS.Types.html#PrimInline"><span class="hs-identifier hs-var">PrimInline</span></a></span></span><span> </span><span class="annot"><a href="GHC.JS.JStg.Syntax.html#JStgStat"><span class="hs-identifier hs-type">JStgStat</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ primop is inline, result is assigned directly</span></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PRPrimCall"><span class="annot"><a href="GHC.StgToJS.Types.html#PRPrimCall"><span class="hs-identifier hs-var">PRPrimCall</span></a></span></span><span> </span><span class="annot"><a href="GHC.JS.JStg.Syntax.html#JStgStat"><span class="hs-identifier hs-type">JStgStat</span></a></span><span>  </span><span class="hs-comment">-- ^ primop is async call, primop returns the next</span><span>
</span><span id="line-355"></span><span>                         </span><span class="hs-comment">-- function to run. result returned to stack top in</span><span>
</span><span id="line-356"></span><span>                         </span><span class="hs-comment">-- registers</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-keyword">data</span><span> </span><span id="ExprResult"><span class="annot"><a href="GHC.StgToJS.Types.html#ExprResult"><span class="hs-identifier hs-var">ExprResult</span></a></span></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ExprCont"><span class="annot"><a href="GHC.StgToJS.Types.html#ExprCont"><span class="hs-identifier hs-var">ExprCont</span></a></span></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ExprInline"><span class="annot"><a href="GHC.StgToJS.Types.html#ExprInline"><span class="hs-identifier hs-var">ExprInline</span></a></span></span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682519013"><span id="local-6989586621682519017"><span class="annot"><span class="annottext">ExprResult -&gt; ExprResult -&gt; Bool
(ExprResult -&gt; ExprResult -&gt; Bool)
-&gt; (ExprResult -&gt; ExprResult -&gt; Bool) -&gt; Eq ExprResult
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ExprResult -&gt; ExprResult -&gt; Bool
== :: ExprResult -&gt; ExprResult -&gt; Bool
$c/= :: ExprResult -&gt; ExprResult -&gt; Bool
/= :: ExprResult -&gt; ExprResult -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-keyword">newtype</span><span> </span><span id="ExprValData"><span class="annot"><a href="GHC.StgToJS.Types.html#ExprValData"><span class="hs-identifier hs-var">ExprValData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ExprValData"><span class="annot"><a href="GHC.StgToJS.Types.html#ExprValData"><span class="hs-identifier hs-var">ExprValData</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.JS.JStg.Syntax.html#JStgExpr"><span class="hs-identifier hs-type">JStgExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682519022"><span id="local-6989586621682519027"><span class="annot"><span class="annottext">ExprValData -&gt; ExprValData -&gt; Bool
(ExprValData -&gt; ExprValData -&gt; Bool)
-&gt; (ExprValData -&gt; ExprValData -&gt; Bool) -&gt; Eq ExprValData
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ExprValData -&gt; ExprValData -&gt; Bool
== :: ExprValData -&gt; ExprValData -&gt; Bool
$c/= :: ExprValData -&gt; ExprValData -&gt; Bool
/= :: ExprValData -&gt; ExprValData -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="annot"><span class="hs-comment">-- | A Closure is one of six types</span></span><span>
</span><span id="line-367"></span><span class="hs-keyword">data</span><span> </span><span id="ClosureType"><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureType"><span class="hs-identifier hs-var">ClosureType</span></a></span></span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Thunk"><span class="annot"><a href="GHC.StgToJS.Types.html#Thunk"><span class="hs-identifier hs-var">Thunk</span></a></span></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ The closure is a THUNK</span></span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Fun"><span class="annot"><a href="GHC.StgToJS.Types.html#Fun"><span class="hs-identifier hs-var">Fun</span></a></span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ The closure is a Function</span></span><span>
</span><span id="line-370"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Pap"><span class="annot"><a href="GHC.StgToJS.Types.html#Pap"><span class="hs-identifier hs-var">Pap</span></a></span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ The closure is a Partial Application</span></span><span>
</span><span id="line-371"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Con"><span class="annot"><a href="GHC.StgToJS.Types.html#Con"><span class="hs-identifier hs-var">Con</span></a></span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ The closure is a Constructor</span></span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Blackhole"><span class="annot"><a href="GHC.StgToJS.Types.html#Blackhole"><span class="hs-identifier hs-var">Blackhole</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ The closure is a Blackhole</span></span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="StackFrame"><span class="annot"><a href="GHC.StgToJS.Types.html#StackFrame"><span class="hs-identifier hs-var">StackFrame</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The closure is a stack frame</span></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682519041"><span id="local-6989586621682519043"><span id="local-6989586621682519047"><span class="annot"><span class="annottext">Int -&gt; ClosureType -&gt; ShowS
[ClosureType] -&gt; ShowS
ClosureType -&gt; String
(Int -&gt; ClosureType -&gt; ShowS)
-&gt; (ClosureType -&gt; String)
-&gt; ([ClosureType] -&gt; ShowS)
-&gt; Show ClosureType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ClosureType -&gt; ShowS
showsPrec :: Int -&gt; ClosureType -&gt; ShowS
$cshow :: ClosureType -&gt; String
show :: ClosureType -&gt; String
$cshowList :: [ClosureType] -&gt; ShowS
showList :: [ClosureType] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519050"><span id="local-6989586621682519054"><span class="annot"><span class="annottext">ClosureType -&gt; ClosureType -&gt; Bool
(ClosureType -&gt; ClosureType -&gt; Bool)
-&gt; (ClosureType -&gt; ClosureType -&gt; Bool) -&gt; Eq ClosureType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ClosureType -&gt; ClosureType -&gt; Bool
== :: ClosureType -&gt; ClosureType -&gt; Bool
$c/= :: ClosureType -&gt; ClosureType -&gt; Bool
/= :: ClosureType -&gt; ClosureType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519060"><span id="local-6989586621682519064"><span id="local-6989586621682519068"><span id="local-6989586621682519072"><span id="local-6989586621682519075"><span id="local-6989586621682519078"><span id="local-6989586621682519081"><span class="annot"><span class="annottext">Eq ClosureType
Eq ClosureType =&gt;
(ClosureType -&gt; ClosureType -&gt; Ordering)
-&gt; (ClosureType -&gt; ClosureType -&gt; Bool)
-&gt; (ClosureType -&gt; ClosureType -&gt; Bool)
-&gt; (ClosureType -&gt; ClosureType -&gt; Bool)
-&gt; (ClosureType -&gt; ClosureType -&gt; Bool)
-&gt; (ClosureType -&gt; ClosureType -&gt; ClosureType)
-&gt; (ClosureType -&gt; ClosureType -&gt; ClosureType)
-&gt; Ord ClosureType
ClosureType -&gt; ClosureType -&gt; Bool
ClosureType -&gt; ClosureType -&gt; Ordering
ClosureType -&gt; ClosureType -&gt; ClosureType
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: ClosureType -&gt; ClosureType -&gt; Ordering
compare :: ClosureType -&gt; ClosureType -&gt; Ordering
$c&lt; :: ClosureType -&gt; ClosureType -&gt; Bool
&lt; :: ClosureType -&gt; ClosureType -&gt; Bool
$c&lt;= :: ClosureType -&gt; ClosureType -&gt; Bool
&lt;= :: ClosureType -&gt; ClosureType -&gt; Bool
$c&gt; :: ClosureType -&gt; ClosureType -&gt; Bool
&gt; :: ClosureType -&gt; ClosureType -&gt; Bool
$c&gt;= :: ClosureType -&gt; ClosureType -&gt; Bool
&gt;= :: ClosureType -&gt; ClosureType -&gt; Bool
$cmax :: ClosureType -&gt; ClosureType -&gt; ClosureType
max :: ClosureType -&gt; ClosureType -&gt; ClosureType
$cmin :: ClosureType -&gt; ClosureType -&gt; ClosureType
min :: ClosureType -&gt; ClosureType -&gt; ClosureType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519084"><span id="local-6989586621682519091"><span id="local-6989586621682519098"><span id="local-6989586621682519106"><span id="local-6989586621682519109"><span id="local-6989586621682519113"><span id="local-6989586621682519119"><span id="local-6989586621682519123"><span class="annot"><span class="annottext">Int -&gt; ClosureType
ClosureType -&gt; Int
ClosureType -&gt; [ClosureType]
ClosureType -&gt; ClosureType
ClosureType -&gt; ClosureType -&gt; [ClosureType]
ClosureType -&gt; ClosureType -&gt; ClosureType -&gt; [ClosureType]
(ClosureType -&gt; ClosureType)
-&gt; (ClosureType -&gt; ClosureType)
-&gt; (Int -&gt; ClosureType)
-&gt; (ClosureType -&gt; Int)
-&gt; (ClosureType -&gt; [ClosureType])
-&gt; (ClosureType -&gt; ClosureType -&gt; [ClosureType])
-&gt; (ClosureType -&gt; ClosureType -&gt; [ClosureType])
-&gt; (ClosureType -&gt; ClosureType -&gt; ClosureType -&gt; [ClosureType])
-&gt; Enum ClosureType
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
$csucc :: ClosureType -&gt; ClosureType
succ :: ClosureType -&gt; ClosureType
$cpred :: ClosureType -&gt; ClosureType
pred :: ClosureType -&gt; ClosureType
$ctoEnum :: Int -&gt; ClosureType
toEnum :: Int -&gt; ClosureType
$cfromEnum :: ClosureType -&gt; Int
fromEnum :: ClosureType -&gt; Int
$cenumFrom :: ClosureType -&gt; [ClosureType]
enumFrom :: ClosureType -&gt; [ClosureType]
$cenumFromThen :: ClosureType -&gt; ClosureType -&gt; [ClosureType]
enumFromThen :: ClosureType -&gt; ClosureType -&gt; [ClosureType]
$cenumFromTo :: ClosureType -&gt; ClosureType -&gt; [ClosureType]
enumFromTo :: ClosureType -&gt; ClosureType -&gt; [ClosureType]
$cenumFromThenTo :: ClosureType -&gt; ClosureType -&gt; ClosureType -&gt; [ClosureType]
enumFromThenTo :: ClosureType -&gt; ClosureType -&gt; ClosureType -&gt; [ClosureType]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519126"><span id="local-6989586621682519128"><span class="annot"><span class="annottext">ClosureType
ClosureType -&gt; ClosureType -&gt; Bounded ClosureType
forall a. a -&gt; a -&gt; Bounded a
$cminBound :: ClosureType
minBound :: ClosureType
$cmaxBound :: ClosureType
maxBound :: ClosureType
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="annot"><span class="hs-comment">-- | Convert 'ClosureType' to an Int</span></span><span>
</span><span id="line-377"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-type">ctNum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureType"><span class="hs-identifier hs-type">ClosureType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-378"></span><span id="ctNum"><span class="annot"><span class="annottext">ctNum :: ClosureType -&gt; Int
</span><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var hs-var">ctNum</span></a></span></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Fun"><span class="hs-identifier hs-var">Fun</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-379"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var">ctNum</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-380"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var">ctNum</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Thunk"><span class="hs-identifier hs-var">Thunk</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-381"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var">ctNum</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Pap"><span class="hs-identifier hs-var">Pap</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-382"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var">ctNum</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Blackhole"><span class="hs-identifier hs-var">Blackhole</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-383"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var">ctNum</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#StackFrame"><span class="hs-identifier hs-var">StackFrame</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="annot"><span class="hs-comment">-- | Convert 'ClosureType' to a String</span></span><span>
</span><span id="line-386"></span><span class="annot"><a href="GHC.StgToJS.Types.html#ctJsName"><span class="hs-identifier hs-type">ctJsName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureType"><span class="hs-identifier hs-type">ClosureType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-387"></span><span id="ctJsName"><span class="annot"><span class="annottext">ctJsName :: ClosureType -&gt; String
</span><a href="GHC.StgToJS.Types.html#ctJsName"><span class="hs-identifier hs-var hs-var">ctJsName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Thunk"><span class="hs-identifier hs-var">Thunk</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CLOSURE_TYPE_THUNK&quot;</span></span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Fun"><span class="hs-identifier hs-var">Fun</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CLOSURE_TYPE_FUN&quot;</span></span><span>
</span><span id="line-390"></span><span>  </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Pap"><span class="hs-identifier hs-var">Pap</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CLOSURE_TYPE_PAP&quot;</span></span><span>
</span><span id="line-391"></span><span>  </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CLOSURE_TYPE_CON&quot;</span></span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#Blackhole"><span class="hs-identifier hs-var">Blackhole</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CLOSURE_TYPE_BLACKHOLE&quot;</span></span><span>
</span><span id="line-393"></span><span>  </span><span class="annot"><span class="annottext">ClosureType
</span><a href="GHC.StgToJS.Types.html#StackFrame"><span class="hs-identifier hs-var">StackFrame</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CLOSURE_TYPE_STACKFRAME&quot;</span></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682519134"><span class="annot"><a href="GHC.JS.Make.html#ToJExpr"><span class="hs-identifier hs-type">ToJExpr</span></a></span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#ClosureType"><span class="hs-identifier hs-type">ClosureType</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-396"></span><span>  </span><span id="local-6989586621682519138"><span class="annot"><span class="annottext">toJExpr :: ClosureType -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var hs-var hs-var">toJExpr</span></a></span></span><span> </span><span id="local-6989586621682519139"><span class="annot"><span class="annottext">ClosureType
</span><a href="#local-6989586621682519139"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; JStgExpr
forall a. ToJExpr a =&gt; a -&gt; JStgExpr
</span><a href="GHC.JS.Make.html#toJExpr"><span class="hs-identifier hs-var">toJExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ClosureType -&gt; Int
</span><a href="GHC.StgToJS.Types.html#ctNum"><span class="hs-identifier hs-var">ctNum</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureType
</span><a href="#local-6989586621682519139"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="annot"><span class="hs-comment">-- | A thread is in one of 4 states</span></span><span>
</span><span id="line-400"></span><span class="hs-keyword">data</span><span> </span><span id="ThreadStatus"><span class="annot"><a href="GHC.StgToJS.Types.html#ThreadStatus"><span class="hs-identifier hs-var">ThreadStatus</span></a></span></span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Running"><span class="annot"><a href="GHC.StgToJS.Types.html#Running"><span class="hs-identifier hs-var">Running</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ The thread is running</span></span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Blocked"><span class="annot"><a href="GHC.StgToJS.Types.html#Blocked"><span class="hs-identifier hs-var">Blocked</span></a></span></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ The thread is blocked</span></span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Finished"><span class="annot"><a href="GHC.StgToJS.Types.html#Finished"><span class="hs-identifier hs-var">Finished</span></a></span></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ The thread is done</span></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Died"><span class="annot"><a href="GHC.StgToJS.Types.html#Died"><span class="hs-identifier hs-var">Died</span></a></span></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ The thread has died</span></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682519145"><span id="local-6989586621682519147"><span id="local-6989586621682519151"><span class="annot"><span class="annottext">Int -&gt; ThreadStatus -&gt; ShowS
[ThreadStatus] -&gt; ShowS
ThreadStatus -&gt; String
(Int -&gt; ThreadStatus -&gt; ShowS)
-&gt; (ThreadStatus -&gt; String)
-&gt; ([ThreadStatus] -&gt; ShowS)
-&gt; Show ThreadStatus
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ThreadStatus -&gt; ShowS
showsPrec :: Int -&gt; ThreadStatus -&gt; ShowS
$cshow :: ThreadStatus -&gt; String
show :: ThreadStatus -&gt; String
$cshowList :: [ThreadStatus] -&gt; ShowS
showList :: [ThreadStatus] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519154"><span id="local-6989586621682519158"><span class="annot"><span class="annottext">ThreadStatus -&gt; ThreadStatus -&gt; Bool
(ThreadStatus -&gt; ThreadStatus -&gt; Bool)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; Bool) -&gt; Eq ThreadStatus
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
== :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
$c/= :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
/= :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519164"><span id="local-6989586621682519168"><span id="local-6989586621682519172"><span id="local-6989586621682519176"><span id="local-6989586621682519179"><span id="local-6989586621682519182"><span id="local-6989586621682519185"><span class="annot"><span class="annottext">Eq ThreadStatus
Eq ThreadStatus =&gt;
(ThreadStatus -&gt; ThreadStatus -&gt; Ordering)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; Bool)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; Bool)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; Bool)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; Bool)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus)
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus)
-&gt; Ord ThreadStatus
ThreadStatus -&gt; ThreadStatus -&gt; Bool
ThreadStatus -&gt; ThreadStatus -&gt; Ordering
ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: ThreadStatus -&gt; ThreadStatus -&gt; Ordering
compare :: ThreadStatus -&gt; ThreadStatus -&gt; Ordering
$c&lt; :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
&lt; :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
$c&lt;= :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
&lt;= :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
$c&gt; :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
&gt; :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
$c&gt;= :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
&gt;= :: ThreadStatus -&gt; ThreadStatus -&gt; Bool
$cmax :: ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus
max :: ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus
$cmin :: ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus
min :: ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519188"><span id="local-6989586621682519195"><span id="local-6989586621682519202"><span id="local-6989586621682519210"><span id="local-6989586621682519213"><span id="local-6989586621682519217"><span id="local-6989586621682519223"><span id="local-6989586621682519227"><span class="annot"><span class="annottext">Int -&gt; ThreadStatus
ThreadStatus -&gt; Int
ThreadStatus -&gt; [ThreadStatus]
ThreadStatus -&gt; ThreadStatus
ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
(ThreadStatus -&gt; ThreadStatus)
-&gt; (ThreadStatus -&gt; ThreadStatus)
-&gt; (Int -&gt; ThreadStatus)
-&gt; (ThreadStatus -&gt; Int)
-&gt; (ThreadStatus -&gt; [ThreadStatus])
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus])
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus])
-&gt; (ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus])
-&gt; Enum ThreadStatus
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
$csucc :: ThreadStatus -&gt; ThreadStatus
succ :: ThreadStatus -&gt; ThreadStatus
$cpred :: ThreadStatus -&gt; ThreadStatus
pred :: ThreadStatus -&gt; ThreadStatus
$ctoEnum :: Int -&gt; ThreadStatus
toEnum :: Int -&gt; ThreadStatus
$cfromEnum :: ThreadStatus -&gt; Int
fromEnum :: ThreadStatus -&gt; Int
$cenumFrom :: ThreadStatus -&gt; [ThreadStatus]
enumFrom :: ThreadStatus -&gt; [ThreadStatus]
$cenumFromThen :: ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
enumFromThen :: ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
$cenumFromTo :: ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
enumFromTo :: ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
$cenumFromThenTo :: ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
enumFromThenTo :: ThreadStatus -&gt; ThreadStatus -&gt; ThreadStatus -&gt; [ThreadStatus]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682519230"><span id="local-6989586621682519232"><span class="annot"><span class="annottext">ThreadStatus
ThreadStatus -&gt; ThreadStatus -&gt; Bounded ThreadStatus
forall a. a -&gt; a -&gt; Bounded a
$cminBound :: ThreadStatus
minBound :: ThreadStatus
$cmaxBound :: ThreadStatus
maxBound :: ThreadStatus
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="annot"><span class="hs-comment">-- | Convert the status of a thread in JS land to an Int</span></span><span>
</span><span id="line-408"></span><span class="annot"><a href="GHC.StgToJS.Types.html#threadStatusNum"><span class="hs-identifier hs-type">threadStatusNum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#ThreadStatus"><span class="hs-identifier hs-type">ThreadStatus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-409"></span><span id="threadStatusNum"><span class="annot"><span class="annottext">threadStatusNum :: ThreadStatus -&gt; Int
</span><a href="GHC.StgToJS.Types.html#threadStatusNum"><span class="hs-identifier hs-var hs-var">threadStatusNum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-410"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Running"><span class="hs-identifier hs-var">Running</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-411"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Blocked"><span class="hs-identifier hs-var">Blocked</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Finished"><span class="hs-identifier hs-var">Finished</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span>
</span><span id="line-413"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Died"><span class="hs-identifier hs-var">Died</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">17</span></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="annot"><span class="hs-comment">-- | convert the status of a thread in JS land to a string</span></span><span>
</span><span id="line-416"></span><span class="annot"><a href="GHC.StgToJS.Types.html#threadStatusJsName"><span class="hs-identifier hs-type">threadStatusJsName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToJS.Types.html#ThreadStatus"><span class="hs-identifier hs-type">ThreadStatus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-417"></span><span id="threadStatusJsName"><span class="annot"><span class="annottext">threadStatusJsName :: ThreadStatus -&gt; String
</span><a href="GHC.StgToJS.Types.html#threadStatusJsName"><span class="hs-identifier hs-var hs-var">threadStatusJsName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Running"><span class="hs-identifier hs-var">Running</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;THREAD_RUNNING&quot;</span></span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Blocked"><span class="hs-identifier hs-var">Blocked</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;THREAD_BLOCKED&quot;</span></span><span>
</span><span id="line-420"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Finished"><span class="hs-identifier hs-var">Finished</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;THREAD_FINISHED&quot;</span></span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><span class="annottext">ThreadStatus
</span><a href="GHC.StgToJS.Types.html#Died"><span class="hs-identifier hs-var">Died</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;THREAD_DIED&quot;</span></span><span>
</span><span id="line-422"></span></pre></body></html>