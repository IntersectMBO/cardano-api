<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RecordWildCards #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-- | This module manages storing the various GHC option flags in a modules</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- interface file as part of the recompilation checking infrastructure.</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html"><span class="hs-identifier">GHC.Iface.Recomp.Flags</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-6"></span><span>        </span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html#fingerprintDynFlags"><span class="hs-identifier">fingerprintDynFlags</span></a></span><span>
</span><span id="line-7"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html#fingerprintOptFlags"><span class="hs-identifier">fingerprintOptFlags</span></a></span><span>
</span><span id="line-8"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html#fingerprintHpcFlags"><span class="hs-identifier">fingerprintHpcFlags</span></a></span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html"><span class="hs-identifier">GHC.Driver.Session</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Env.html"><span class="hs-identifier">GHC.Driver.Env</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Binary.html"><span class="hs-identifier">GHC.Utils.Binary</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SafeHaskell.html"><span class="hs-identifier">GHC.Types.SafeHaskell</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Fingerprint.html"><span class="hs-identifier">GHC.Utils.Fingerprint</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Iface.Recomp.Binary.html"><span class="hs-identifier">GHC.Iface.Recomp.Binary</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Opt.CallerCC.html"><span class="hs-identifier">GHC.Core.Opt.CallerCC</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- for Binary instances</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.EnumSet.html"><span class="hs-identifier">GHC.Data.EnumSet</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">EnumSet</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../template-haskell-2.22.0.0-inplace/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../filepath-1.5.4.0-inplace/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier">normalise</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- | Produce a fingerprint of a @DynFlags@ value. We only base</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- the finger print on important fields in @DynFlags@ so that</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- the recompilation checker can use this fingerprint.</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- NB: The 'Module' parameter is the 'Module' recorded by the *interface*</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- file, not the actual 'Module' according to our 'DynFlags'.</span><span>
</span><span id="line-33"></span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html#fingerprintDynFlags"><span class="hs-identifier hs-type">fingerprintDynFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.Env.Types.html#HscEnv"><span class="hs-identifier hs-type">HscEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>
</span><span id="line-34"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Binary.html#BinHandle"><span class="hs-identifier hs-type">BinHandle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fingerprint</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span id="fingerprintDynFlags"><span class="annot"><span class="annottext">fingerprintDynFlags :: HscEnv -&gt; Module -&gt; (BinHandle -&gt; Name -&gt; IO ()) -&gt; IO Fingerprint
</span><a href="GHC.Iface.Recomp.Flags.html#fingerprintDynFlags"><span class="hs-identifier hs-var hs-var">fingerprintDynFlags</span></a></span></span><span> </span><span id="local-6989586621682771065"><span class="annot"><span class="annottext">HscEnv
</span><a href="#local-6989586621682771065"><span class="hs-identifier hs-var">hsc_env</span></a></span></span><span> </span><span id="local-6989586621682771066"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682771066"><span class="hs-identifier hs-var">this_mod</span></a></span></span><span> </span><span id="local-6989586621682771067"><span class="annot"><span class="annottext">BinHandle -&gt; Name -&gt; IO ()
</span><a href="#local-6989586621682771067"><span class="hs-identifier hs-var">nameio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682771068"><span class="annot"><span class="annottext">dflags :: DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span class="hs-special">{</span><span id="local-6989586621682771069"><span id="local-6989586621682771070"><span id="local-6989586621682771071"><span id="local-6989586621682771072"><span id="local-6989586621682771073"><span id="local-6989586621682771074"><span id="local-6989586621682771075"><span id="local-6989586621682771076"><span id="local-6989586621682771077"><span id="local-6989586621682771078"><span id="local-6989586621682771079"><span id="local-6989586621682771080"><span id="local-6989586621682771081"><span id="local-6989586621682771082"><span id="local-6989586621682771083"><span id="local-6989586621682771084"><span id="local-6989586621682771085"><span id="local-6989586621682771086"><span id="local-6989586621682771087"><span id="local-6989586621682771088"><span id="local-6989586621682771089"><span id="local-6989586621682771090"><span id="local-6989586621682771091"><span id="local-6989586621682771092"><span id="local-6989586621682771093"><span id="local-6989586621682771094"><span id="local-6989586621682771095"><span id="local-6989586621682771096"><span id="local-6989586621682771097"><span id="local-6989586621682771098"><span id="local-6989586621682771099"><span id="local-6989586621682771100"><span id="local-6989586621682771101"><span id="local-6989586621682771102"><span id="local-6989586621682771103"><span id="local-6989586621682771104"><span id="local-6989586621682771105"><span id="local-6989586621682771106"><span id="local-6989586621682771107"><span id="local-6989586621682771108"><span id="local-6989586621682771109"><span id="local-6989586621682771110"><span id="local-6989586621682771111"><span id="local-6989586621682771112"><span id="local-6989586621682771113"><span id="local-6989586621682771114"><span id="local-6989586621682771115"><span id="local-6989586621682771116"><span id="local-6989586621682771117"><span id="local-6989586621682771118"><span id="local-6989586621682771119"><span id="local-6989586621682771120"><span id="local-6989586621682771121"><span id="local-6989586621682771122"><span id="local-6989586621682771123"><span id="local-6989586621682771124"><span id="local-6989586621682771125"><span id="local-6989586621682771126"><span id="local-6989586621682771127"><span id="local-6989586621682771128"><span id="local-6989586621682771129"><span id="local-6989586621682771130"><span id="local-6989586621682771131"><span id="local-6989586621682771132"><span id="local-6989586621682771133"><span id="local-6989586621682771134"><span id="local-6989586621682771135"><span id="local-6989586621682771136"><span id="local-6989586621682771137"><span id="local-6989586621682771138"><span id="local-6989586621682771139"><span id="local-6989586621682771140"><span id="local-6989586621682771141"><span id="local-6989586621682771142"><span id="local-6989586621682771143"><span id="local-6989586621682771144"><span id="local-6989586621682771145"><span id="local-6989586621682771146"><span id="local-6989586621682771147"><span id="local-6989586621682771148"><span id="local-6989586621682771149"><span id="local-6989586621682771150"><span id="local-6989586621682771151"><span id="local-6989586621682771152"><span id="local-6989586621682771153"><span id="local-6989586621682771154"><span id="local-6989586621682771155"><span id="local-6989586621682771156"><span id="local-6989586621682771157"><span id="local-6989586621682771158"><span id="local-6989586621682771159"><span id="local-6989586621682771160"><span id="local-6989586621682771161"><span id="local-6989586621682771162"><span id="local-6989586621682771163"><span id="local-6989586621682771164"><span id="local-6989586621682771165"><span id="local-6989586621682771166"><span id="local-6989586621682771167"><span id="local-6989586621682771168"><span id="local-6989586621682771169"><span id="local-6989586621682771170"><span id="local-6989586621682771171"><span id="local-6989586621682771172"><span id="local-6989586621682771173"><span id="local-6989586621682771174"><span id="local-6989586621682771175"><span id="local-6989586621682771176"><span id="local-6989586621682771177"><span id="local-6989586621682771178"><span id="local-6989586621682771179"><span id="local-6989586621682771180"><span id="local-6989586621682771181"><span id="local-6989586621682771182"><span id="local-6989586621682771183"><span id="local-6989586621682771184"><span id="local-6989586621682771185"><span id="local-6989586621682771186"><span id="local-6989586621682771187"><span id="local-6989586621682771188"><span id="local-6989586621682771189"><span id="local-6989586621682771190"><span id="local-6989586621682771191"><span id="local-6989586621682771192"><span id="local-6989586621682771193"><span id="local-6989586621682771194"><span id="local-6989586621682771195"><span id="local-6989586621682771196"><span id="local-6989586621682771197"><span id="local-6989586621682771198"><span id="local-6989586621682771199"><span id="local-6989586621682771200"><span id="local-6989586621682771201"><span id="local-6989586621682771202"><span id="local-6989586621682771203"><span id="local-6989586621682771204"><span id="local-6989586621682771205"><span id="local-6989586621682771206"><span id="local-6989586621682771207"><span id="local-6989586621682771208"><span id="local-6989586621682771209"><span id="local-6989586621682771210"><span id="local-6989586621682771211"><span id="local-6989586621682771212"><span id="local-6989586621682771213"><span id="local-6989586621682771214"><span id="local-6989586621682771215"><span id="local-6989586621682771216"><span id="local-6989586621682771217"><span id="local-6989586621682771218"><span id="local-6989586621682771219"><span id="local-6989586621682771220"><span id="local-6989586621682771221"><span id="local-6989586621682771222"><span id="local-6989586621682771223"><span id="local-6989586621682771224"><span class="annot"><span class="annottext">Bool
Int
String
[Int]
[String]
[(String, String)]
[(ModuleName, String)]
[(ModuleName, Module)]
[ModuleName]
[Option]
[ExternalPluginSpec]
[CallerCcFilter]
[PackageDBFlag]
[PackageFlag]
[TrustFlag]
[IgnorePackageFlag]
[OnOff Extension]
Maybe Int
Maybe String
Maybe Word
Maybe (String, Int)
Maybe UnitId
Maybe Language
Maybe BmiVersion
Maybe SseVersion
Maybe ParMakeCount
Word64
Set ModuleName
Ways
OverridingBool
Scheme
ModuleName
UnitId
UnfoldingOpts
ProfAuto
Weights
SrcSpan
EnumSet Extension
EnumSet WarningFlag
EnumSet GeneralFlag
EnumSet DumpFlag
SafeHaskellMode
IntWithInf
PlatformMisc
Platform
WarningCategorySet
GhcNameVersion
FileSettings
ToolSettings
TempDir
Backend
IncludeSpecs
RtsOptsEnabled
DynLibLoader
GhcLink
GhcMode
FlushOut
ghcMode :: GhcMode
ghcLink :: GhcLink
backend :: Backend
ghcNameVersion :: GhcNameVersion
fileSettings :: FileSettings
targetPlatform :: Platform
toolSettings :: ToolSettings
platformMisc :: PlatformMisc
rawSettings :: [(String, String)]
tmpDir :: TempDir
llvmOptLevel :: Int
verbosity :: Int
debugLevel :: Int
simplPhases :: Int
maxSimplIterations :: Int
ruleCheck :: Maybe String
strictnessBefore :: [Int]
parMakeCount :: Maybe ParMakeCount
enableTimeStats :: Bool
ghcHeapSize :: Maybe Int
maxRelevantBinds :: Maybe Int
maxValidHoleFits :: Maybe Int
maxRefHoleFits :: Maybe Int
refLevelHoleFits :: Maybe Int
maxUncoveredPatterns :: Int
maxPmCheckModels :: Int
simplTickFactor :: Int
dmdUnboxWidth :: Int
specConstrThreshold :: Maybe Int
specConstrCount :: Maybe Int
specConstrRecursive :: Int
binBlobThreshold :: Maybe Word
liberateCaseThreshold :: Maybe Int
floatLamArgs :: Maybe Int
liftLamsRecArgs :: Maybe Int
liftLamsNonRecArgs :: Maybe Int
liftLamsKnown :: Bool
cmmProcAlignment :: Maybe Int
historySize :: Int
importPaths :: [String]
mainModuleNameIs :: ModuleName
mainFunIs :: Maybe String
reductionDepth :: IntWithInf
solverIterations :: IntWithInf
givensFuel :: Int
wantedsFuel :: Int
qcsFuel :: Int
homeUnitId_ :: UnitId
homeUnitInstanceOf_ :: Maybe UnitId
homeUnitInstantiations_ :: [(ModuleName, Module)]
workingDirectory :: Maybe String
thisPackageName :: Maybe String
hiddenModules :: Set ModuleName
reexportedModules :: Set ModuleName
targetWays_ :: Ways
splitInfo :: Maybe (String, Int)
objectDir :: Maybe String
dylibInstallName :: Maybe String
hiDir :: Maybe String
hieDir :: Maybe String
stubDir :: Maybe String
dumpDir :: Maybe String
objectSuf_ :: String
hcSuf :: String
hiSuf_ :: String
hieSuf :: String
dynObjectSuf_ :: String
dynHiSuf_ :: String
outputFile_ :: Maybe String
dynOutputFile_ :: Maybe String
outputHi :: Maybe String
dynOutputHi :: Maybe String
dynLibLoader :: DynLibLoader
dynamicNow :: Bool
dumpPrefix :: String
dumpPrefixForce :: Maybe String
ldInputs :: [Option]
includePaths :: IncludeSpecs
libraryPaths :: [String]
frameworkPaths :: [String]
cmdlineFrameworks :: [String]
rtsOpts :: Maybe String
rtsOptsEnabled :: RtsOptsEnabled
rtsOptsSuggestions :: Bool
hpcDir :: String
pluginModNames :: [ModuleName]
pluginModNameOpts :: [(ModuleName, String)]
frontendPluginOpts :: [String]
externalPluginSpecs :: [ExternalPluginSpec]
depMakefile :: String
depIncludePkgDeps :: Bool
depIncludeCppDeps :: Bool
depExcludeMods :: [ModuleName]
depSuffixes :: [String]
packageDBFlags :: [PackageDBFlag]
ignorePackageFlags :: [IgnorePackageFlag]
packageFlags :: [PackageFlag]
pluginPackageFlags :: [PackageFlag]
trustFlags :: [TrustFlag]
packageEnv :: Maybe String
dumpFlags :: EnumSet DumpFlag
generalFlags :: EnumSet GeneralFlag
warningFlags :: EnumSet WarningFlag
fatalWarningFlags :: EnumSet WarningFlag
customWarningCategories :: WarningCategorySet
fatalCustomWarningCategories :: WarningCategorySet
language :: Maybe Language
safeHaskell :: SafeHaskellMode
safeInfer :: Bool
safeInferred :: Bool
thOnLoc :: SrcSpan
newDerivOnLoc :: SrcSpan
deriveViaOnLoc :: SrcSpan
overlapInstLoc :: SrcSpan
incoherentOnLoc :: SrcSpan
pkgTrustOnLoc :: SrcSpan
warnSafeOnLoc :: SrcSpan
warnUnsafeOnLoc :: SrcSpan
trustworthyOnLoc :: SrcSpan
extensions :: [OnOff Extension]
extensionFlags :: EnumSet Extension
unfoldingOpts :: UnfoldingOpts
maxWorkerArgs :: Int
ghciHistSize :: Int
flushOut :: FlushOut
ghcVersionFile :: Maybe String
haddockOptions :: Maybe String
ghciScripts :: [String]
pprUserLength :: Int
pprCols :: Int
useUnicode :: Bool
useColor :: OverridingBool
canUseColor :: Bool
useErrorLinks :: OverridingBool
canUseErrorLinks :: Bool
colScheme :: Scheme
profAuto :: ProfAuto
callerCcFilters :: [CallerCcFilter]
interactivePrint :: Maybe String
sseVersion :: Maybe SseVersion
bmiVersion :: Maybe BmiVersion
avx :: Bool
avx2 :: Bool
avx512cd :: Bool
avx512er :: Bool
avx512f :: Bool
avx512pf :: Bool
fma :: Bool
maxInlineAllocSize :: Int
maxInlineMemcpyInsns :: Int
maxInlineMemsetInsns :: Int
reverseErrors :: Bool
maxErrors :: Maybe Int
initialUnique :: Word64
uniqueIncrement :: Int
cfgWeights :: Weights
cfgWeights :: DynFlags -&gt; Weights
uniqueIncrement :: DynFlags -&gt; Int
initialUnique :: DynFlags -&gt; Word64
maxErrors :: DynFlags -&gt; Maybe Int
reverseErrors :: DynFlags -&gt; Bool
maxInlineMemsetInsns :: DynFlags -&gt; Int
maxInlineMemcpyInsns :: DynFlags -&gt; Int
maxInlineAllocSize :: DynFlags -&gt; Int
fma :: DynFlags -&gt; Bool
avx512pf :: DynFlags -&gt; Bool
avx512f :: DynFlags -&gt; Bool
avx512er :: DynFlags -&gt; Bool
avx512cd :: DynFlags -&gt; Bool
avx2 :: DynFlags -&gt; Bool
avx :: DynFlags -&gt; Bool
bmiVersion :: DynFlags -&gt; Maybe BmiVersion
sseVersion :: DynFlags -&gt; Maybe SseVersion
interactivePrint :: DynFlags -&gt; Maybe String
callerCcFilters :: DynFlags -&gt; [CallerCcFilter]
profAuto :: DynFlags -&gt; ProfAuto
colScheme :: DynFlags -&gt; Scheme
canUseErrorLinks :: DynFlags -&gt; Bool
useErrorLinks :: DynFlags -&gt; OverridingBool
canUseColor :: DynFlags -&gt; Bool
useColor :: DynFlags -&gt; OverridingBool
useUnicode :: DynFlags -&gt; Bool
pprCols :: DynFlags -&gt; Int
pprUserLength :: DynFlags -&gt; Int
ghciScripts :: DynFlags -&gt; [String]
haddockOptions :: DynFlags -&gt; Maybe String
ghcVersionFile :: DynFlags -&gt; Maybe String
flushOut :: DynFlags -&gt; FlushOut
ghciHistSize :: DynFlags -&gt; Int
maxWorkerArgs :: DynFlags -&gt; Int
unfoldingOpts :: DynFlags -&gt; UnfoldingOpts
extensionFlags :: DynFlags -&gt; EnumSet Extension
extensions :: DynFlags -&gt; [OnOff Extension]
trustworthyOnLoc :: DynFlags -&gt; SrcSpan
warnUnsafeOnLoc :: DynFlags -&gt; SrcSpan
warnSafeOnLoc :: DynFlags -&gt; SrcSpan
pkgTrustOnLoc :: DynFlags -&gt; SrcSpan
incoherentOnLoc :: DynFlags -&gt; SrcSpan
overlapInstLoc :: DynFlags -&gt; SrcSpan
deriveViaOnLoc :: DynFlags -&gt; SrcSpan
newDerivOnLoc :: DynFlags -&gt; SrcSpan
thOnLoc :: DynFlags -&gt; SrcSpan
safeInferred :: DynFlags -&gt; Bool
safeInfer :: DynFlags -&gt; Bool
safeHaskell :: DynFlags -&gt; SafeHaskellMode
language :: DynFlags -&gt; Maybe Language
fatalCustomWarningCategories :: DynFlags -&gt; WarningCategorySet
customWarningCategories :: DynFlags -&gt; WarningCategorySet
fatalWarningFlags :: DynFlags -&gt; EnumSet WarningFlag
warningFlags :: DynFlags -&gt; EnumSet WarningFlag
generalFlags :: DynFlags -&gt; EnumSet GeneralFlag
dumpFlags :: DynFlags -&gt; EnumSet DumpFlag
packageEnv :: DynFlags -&gt; Maybe String
trustFlags :: DynFlags -&gt; [TrustFlag]
pluginPackageFlags :: DynFlags -&gt; [PackageFlag]
packageFlags :: DynFlags -&gt; [PackageFlag]
ignorePackageFlags :: DynFlags -&gt; [IgnorePackageFlag]
packageDBFlags :: DynFlags -&gt; [PackageDBFlag]
depSuffixes :: DynFlags -&gt; [String]
depExcludeMods :: DynFlags -&gt; [ModuleName]
depIncludeCppDeps :: DynFlags -&gt; Bool
depIncludePkgDeps :: DynFlags -&gt; Bool
depMakefile :: DynFlags -&gt; String
externalPluginSpecs :: DynFlags -&gt; [ExternalPluginSpec]
frontendPluginOpts :: DynFlags -&gt; [String]
pluginModNameOpts :: DynFlags -&gt; [(ModuleName, String)]
pluginModNames :: DynFlags -&gt; [ModuleName]
hpcDir :: DynFlags -&gt; String
rtsOptsSuggestions :: DynFlags -&gt; Bool
rtsOptsEnabled :: DynFlags -&gt; RtsOptsEnabled
rtsOpts :: DynFlags -&gt; Maybe String
cmdlineFrameworks :: DynFlags -&gt; [String]
frameworkPaths :: DynFlags -&gt; [String]
libraryPaths :: DynFlags -&gt; [String]
includePaths :: DynFlags -&gt; IncludeSpecs
ldInputs :: DynFlags -&gt; [Option]
dumpPrefixForce :: DynFlags -&gt; Maybe String
dumpPrefix :: DynFlags -&gt; String
dynamicNow :: DynFlags -&gt; Bool
dynLibLoader :: DynFlags -&gt; DynLibLoader
dynOutputHi :: DynFlags -&gt; Maybe String
outputHi :: DynFlags -&gt; Maybe String
dynOutputFile_ :: DynFlags -&gt; Maybe String
outputFile_ :: DynFlags -&gt; Maybe String
dynHiSuf_ :: DynFlags -&gt; String
dynObjectSuf_ :: DynFlags -&gt; String
hieSuf :: DynFlags -&gt; String
hiSuf_ :: DynFlags -&gt; String
hcSuf :: DynFlags -&gt; String
objectSuf_ :: DynFlags -&gt; String
dumpDir :: DynFlags -&gt; Maybe String
stubDir :: DynFlags -&gt; Maybe String
hieDir :: DynFlags -&gt; Maybe String
hiDir :: DynFlags -&gt; Maybe String
dylibInstallName :: DynFlags -&gt; Maybe String
objectDir :: DynFlags -&gt; Maybe String
splitInfo :: DynFlags -&gt; Maybe (String, Int)
targetWays_ :: DynFlags -&gt; Ways
reexportedModules :: DynFlags -&gt; Set ModuleName
hiddenModules :: DynFlags -&gt; Set ModuleName
thisPackageName :: DynFlags -&gt; Maybe String
workingDirectory :: DynFlags -&gt; Maybe String
homeUnitInstantiations_ :: DynFlags -&gt; [(ModuleName, Module)]
homeUnitInstanceOf_ :: DynFlags -&gt; Maybe UnitId
homeUnitId_ :: DynFlags -&gt; UnitId
qcsFuel :: DynFlags -&gt; Int
wantedsFuel :: DynFlags -&gt; Int
givensFuel :: DynFlags -&gt; Int
solverIterations :: DynFlags -&gt; IntWithInf
reductionDepth :: DynFlags -&gt; IntWithInf
mainFunIs :: DynFlags -&gt; Maybe String
mainModuleNameIs :: DynFlags -&gt; ModuleName
importPaths :: DynFlags -&gt; [String]
historySize :: DynFlags -&gt; Int
cmmProcAlignment :: DynFlags -&gt; Maybe Int
liftLamsKnown :: DynFlags -&gt; Bool
liftLamsNonRecArgs :: DynFlags -&gt; Maybe Int
liftLamsRecArgs :: DynFlags -&gt; Maybe Int
floatLamArgs :: DynFlags -&gt; Maybe Int
liberateCaseThreshold :: DynFlags -&gt; Maybe Int
binBlobThreshold :: DynFlags -&gt; Maybe Word
specConstrRecursive :: DynFlags -&gt; Int
specConstrCount :: DynFlags -&gt; Maybe Int
specConstrThreshold :: DynFlags -&gt; Maybe Int
dmdUnboxWidth :: DynFlags -&gt; Int
simplTickFactor :: DynFlags -&gt; Int
maxPmCheckModels :: DynFlags -&gt; Int
maxUncoveredPatterns :: DynFlags -&gt; Int
refLevelHoleFits :: DynFlags -&gt; Maybe Int
maxRefHoleFits :: DynFlags -&gt; Maybe Int
maxValidHoleFits :: DynFlags -&gt; Maybe Int
maxRelevantBinds :: DynFlags -&gt; Maybe Int
ghcHeapSize :: DynFlags -&gt; Maybe Int
enableTimeStats :: DynFlags -&gt; Bool
parMakeCount :: DynFlags -&gt; Maybe ParMakeCount
strictnessBefore :: DynFlags -&gt; [Int]
ruleCheck :: DynFlags -&gt; Maybe String
maxSimplIterations :: DynFlags -&gt; Int
simplPhases :: DynFlags -&gt; Int
debugLevel :: DynFlags -&gt; Int
verbosity :: DynFlags -&gt; Int
llvmOptLevel :: DynFlags -&gt; Int
tmpDir :: DynFlags -&gt; TempDir
rawSettings :: DynFlags -&gt; [(String, String)]
platformMisc :: DynFlags -&gt; PlatformMisc
toolSettings :: DynFlags -&gt; ToolSettings
targetPlatform :: DynFlags -&gt; Platform
fileSettings :: DynFlags -&gt; FileSettings
ghcNameVersion :: DynFlags -&gt; GhcNameVersion
backend :: DynFlags -&gt; Backend
ghcLink :: DynFlags -&gt; GhcLink
ghcMode :: DynFlags -&gt; GhcMode
</span><a href="#local-6989586621682771069"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscEnv -&gt; DynFlags
</span><a href="GHC.Driver.Env.Types.html#hsc_dflags"><span class="hs-identifier hs-var">hsc_dflags</span></a></span><span> </span><span class="annot"><span class="annottext">HscEnv
</span><a href="#local-6989586621682771065"><span class="hs-identifier hs-var">hsc_env</span></a></span><span>
</span><span id="line-39"></span><span>        </span><span id="local-6989586621682771382"><span class="annot"><span class="annottext">mainis :: Maybe (Maybe String)
</span><a href="#local-6989586621682771382"><span class="hs-identifier hs-var hs-var">mainis</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">HomeUnitEnv -&gt; Module
</span><a href="GHC.Driver.Env.html#mainModIs"><span class="hs-identifier hs-var">mainModIs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HscEnv -&gt; HomeUnitEnv
</span><a href="GHC.Driver.Env.html#hsc_HUE"><span class="hs-identifier hs-var">hsc_HUE</span></a></span><span> </span><span class="annot"><span class="annottext">HscEnv
</span><a href="#local-6989586621682771065"><span class="hs-identifier hs-var">hsc_env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Module -&gt; Module -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682771066"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Maybe (Maybe String)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621682771110"><span class="hs-identifier hs-var">mainFunIs</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe String)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-40"></span><span>                      </span><span class="hs-comment">-- see #5878</span><span>
</span><span id="line-41"></span><span>        </span><span class="hs-comment">-- pkgopts  = (homeUnit home_unit, sort $ packageFlags dflags)</span><span>
</span><span id="line-42"></span><span>        </span><span id="local-6989586621682771385"><span class="annot"><span class="annottext">safeHs :: IfaceTrustInfo
</span><a href="#local-6989586621682771385"><span class="hs-identifier hs-var hs-var">safeHs</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SafeHaskellMode -&gt; IfaceTrustInfo
</span><a href="GHC.Types.SafeHaskell.html#setSafeMode"><span class="hs-identifier hs-var">setSafeMode</span></a></span><span> </span><span class="annot"><span class="annottext">SafeHaskellMode
</span><a href="#local-6989586621682771176"><span class="hs-identifier hs-var">safeHaskell</span></a></span><span>
</span><span id="line-43"></span><span>        </span><span class="hs-comment">-- oflags   = sort $ filter filterOFlags $ flags dflags</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>        </span><span class="hs-comment">-- all the extension flags and the language</span><span>
</span><span id="line-46"></span><span>        </span><span id="local-6989586621682771387"><span class="annot"><span class="annottext">lang :: (Maybe Int, [Int])
</span><a href="#local-6989586621682771387"><span class="hs-identifier hs-var hs-var">lang</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Language -&gt; Int) -&gt; Maybe Language -&gt; Maybe Int
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Language -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">Maybe Language
</span><a href="#local-6989586621682771175"><span class="hs-identifier hs-var">language</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>                </span><span class="annot"><span class="annottext">(Extension -&gt; Int) -&gt; [Extension] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Extension -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">([Extension] -&gt; [Int]) -&gt; [Extension] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EnumSet Extension -&gt; [Extension]
forall a. Enum a =&gt; EnumSet a -&gt; [a]
</span><a href="GHC.Data.EnumSet.html#toList"><span class="hs-identifier hs-var">EnumSet.toList</span></a></span><span> </span><span class="annot"><span class="annottext">EnumSet Extension
</span><a href="#local-6989586621682771189"><span class="hs-identifier hs-var">extensionFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>        </span><span class="hs-comment">-- avoid fingerprinting the absolute path to the directory of the source file</span><span>
</span><span id="line-50"></span><span>        </span><span class="hs-comment">-- see Note [Implicit include paths]</span><span>
</span><span id="line-51"></span><span>        </span><span id="local-6989586621682771390"><span class="annot"><span class="annottext">includePathsMinusImplicit :: IncludeSpecs
</span><a href="#local-6989586621682771390"><span class="hs-identifier hs-var hs-var">includePathsMinusImplicit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IncludeSpecs
</span><a href="#local-6989586621682771146"><span class="hs-identifier hs-var">includePaths</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#includePathsQuoteImplicit"><span class="hs-identifier hs-var">includePathsQuoteImplicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>        </span><span class="hs-comment">-- -I, -D and -U flags affect Haskell C/CPP Preprocessor</span><span>
</span><span id="line-54"></span><span>        </span><span id="local-6989586621682771392"><span class="annot"><span class="annottext">cpp :: ([String], [String], ([String], Fingerprint))
</span><a href="#local-6989586621682771392"><span class="hs-identifier hs-var hs-var">cpp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="../../filepath-1.5.4.0-inplace/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier hs-var">normalise</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [String]) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IncludeSpecs -&gt; [String]
</span><a href="GHC.Driver.DynFlags.html#flattenIncludes"><span class="hs-identifier hs-var">flattenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">IncludeSpecs
</span><a href="#local-6989586621682771390"><span class="hs-identifier hs-var">includePathsMinusImplicit</span></a></span><span>
</span><span id="line-55"></span><span>            </span><span class="hs-comment">-- normalise: eliminate spurious differences due to &quot;./foo&quot; vs &quot;foo&quot;</span><span>
</span><span id="line-56"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [String]
</span><a href="GHC.Driver.Session.html#picPOpts"><span class="hs-identifier hs-var">picPOpts</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-57"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; ([String], Fingerprint)
</span><a href="GHC.Driver.Session.html#opt_P_signature"><span class="hs-identifier hs-var">opt_P_signature</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>            </span><span class="hs-comment">-- See Note [Repeated -optP hashing]</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>        </span><span class="hs-comment">-- -I, -D and -U flags affect JavaScript C/CPP Preprocessor</span><span>
</span><span id="line-61"></span><span>        </span><span id="local-6989586621682771396"><span class="annot"><span class="annottext">js :: ([String], [String], ([String], Fingerprint))
</span><a href="#local-6989586621682771396"><span class="hs-identifier hs-var hs-var">js</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="../../filepath-1.5.4.0-inplace/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier hs-var">normalise</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [String]) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IncludeSpecs -&gt; [String]
</span><a href="GHC.Driver.DynFlags.html#flattenIncludes"><span class="hs-identifier hs-var">flattenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">IncludeSpecs
</span><a href="#local-6989586621682771390"><span class="hs-identifier hs-var">includePathsMinusImplicit</span></a></span><span>
</span><span id="line-62"></span><span>            </span><span class="hs-comment">-- normalise: eliminate spurious differences due to &quot;./foo&quot; vs &quot;foo&quot;</span><span>
</span><span id="line-63"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [String]
</span><a href="GHC.Driver.Session.html#picPOpts"><span class="hs-identifier hs-var">picPOpts</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-64"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; ([String], Fingerprint)
</span><a href="GHC.Driver.Session.html#opt_JSP_signature"><span class="hs-identifier hs-var">opt_JSP_signature</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>            </span><span class="hs-comment">-- See Note [Repeated -optP hashing]</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>        </span><span class="hs-comment">-- -I, -D and -U flags affect C-- CPP Preprocessor</span><span>
</span><span id="line-68"></span><span>        </span><span id="local-6989586621682771398"><span class="annot"><span class="annottext">cmm :: ([String], [String], Fingerprint)
</span><a href="#local-6989586621682771398"><span class="hs-identifier hs-var hs-var">cmm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="../../filepath-1.5.4.0-inplace/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier hs-var">normalise</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [String]) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IncludeSpecs -&gt; [String]
</span><a href="GHC.Driver.DynFlags.html#flattenIncludes"><span class="hs-identifier hs-var">flattenIncludes</span></a></span><span> </span><span class="annot"><span class="annottext">IncludeSpecs
</span><a href="#local-6989586621682771390"><span class="hs-identifier hs-var">includePathsMinusImplicit</span></a></span><span>
</span><span id="line-69"></span><span>            </span><span class="hs-comment">-- normalise: eliminate spurious differences due to &quot;./foo&quot; vs &quot;foo&quot;</span><span>
</span><span id="line-70"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; [String]
</span><a href="GHC.Driver.Session.html#picPOpts"><span class="hs-identifier hs-var">picPOpts</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-71"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Fingerprint
</span><a href="GHC.Driver.Session.html#opt_CmmP_signature"><span class="hs-identifier hs-var">opt_CmmP_signature</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span>        </span><span class="hs-comment">-- Note [path flags and recompilation]</span><span>
</span><span id="line-74"></span><span>        </span><span id="local-6989586621682771400"><span class="annot"><span class="annottext">paths :: [String]
</span><a href="#local-6989586621682771400"><span class="hs-identifier hs-var hs-var">paths</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682771132"><span class="hs-identifier hs-var">hcSuf</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>        </span><span class="hs-comment">-- -fprof-auto etc.</span><span>
</span><span id="line-77"></span><span>        </span><span id="local-6989586621682771401"><span class="annot"><span class="annottext">prof :: Int
</span><a href="#local-6989586621682771401"><span class="hs-identifier hs-var hs-var">prof</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#sccProfilingEnabled"><span class="hs-identifier hs-var">sccProfilingEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ProfAuto -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">ProfAuto
</span><a href="#local-6989586621682771205"><span class="hs-identifier hs-var">profAuto</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span>        </span><span class="hs-comment">-- Ticky</span><span>
</span><span id="line-80"></span><span>        </span><span id="local-6989586621682771403"><span class="annot"><span class="annottext">ticky :: [Bool]
</span><a href="#local-6989586621682771403"><span class="hs-identifier hs-var hs-var">ticky</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-81"></span><span>          </span><span class="annot"><span class="annottext">(GeneralFlag -&gt; Bool) -&gt; [GeneralFlag] -&gt; [Bool]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-operator hs-var">`gopt`</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky"><span class="hs-identifier hs-var">Opt_Ticky</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_Allocd"><span class="hs-identifier hs-var">Opt_Ticky_Allocd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_LNE"><span class="hs-identifier hs-var">Opt_Ticky_LNE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_Dyn_Thunk"><span class="hs-identifier hs-var">Opt_Ticky_Dyn_Thunk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_Tag"><span class="hs-identifier hs-var">Opt_Ticky_Tag</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>        </span><span class="hs-comment">-- Other flags which affect code generation</span><span>
</span><span id="line-84"></span><span>        </span><span id="local-6989586621682771410"><span class="annot"><span class="annottext">codegen :: [Bool]
</span><a href="#local-6989586621682771410"><span class="hs-identifier hs-var hs-var">codegen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GeneralFlag -&gt; Bool) -&gt; [GeneralFlag] -&gt; [Bool]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-operator hs-var">`gopt`</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumSet GeneralFlag -&gt; [GeneralFlag]
forall a. Enum a =&gt; EnumSet a -&gt; [a]
</span><a href="GHC.Data.EnumSet.html#toList"><span class="hs-identifier hs-var">EnumSet.toList</span></a></span><span> </span><span class="annot"><span class="annottext">EnumSet GeneralFlag
</span><a href="GHC.Driver.Flags.html#codeGenFlags"><span class="hs-identifier hs-var">codeGenFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>        </span><span class="hs-comment">-- Did we include core for all bindings?</span><span>
</span><span id="line-87"></span><span>        </span><span id="local-6989586621682771412"><span class="annot"><span class="annottext">fat_iface :: Bool
</span><a href="#local-6989586621682771412"><span class="hs-identifier hs-var hs-var">fat_iface</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_WriteIfSimplifiedCore"><span class="hs-identifier hs-var">Opt_WriteIfSimplifiedCore</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771068"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span>        </span><span id="local-6989586621682771414"><span class="annot"><span class="annottext">flags :: ((Maybe (Maybe String), IfaceTrustInfo, (Maybe Int, [Int]),
  ([String], [String], ([String], Fingerprint)),
  ([String], [String], ([String], Fingerprint)),
  ([String], [String], Fingerprint)),
 ([String], Int, [Bool], [Bool], Int, [CallerCcFilter], Bool))
</span><a href="#local-6989586621682771414"><span class="hs-identifier hs-var hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Maybe String)
</span><a href="#local-6989586621682771382"><span class="hs-identifier hs-var">mainis</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IfaceTrustInfo
</span><a href="#local-6989586621682771385"><span class="hs-identifier hs-var">safeHs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Maybe Int, [Int])
</span><a href="#local-6989586621682771387"><span class="hs-identifier hs-var">lang</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([String], [String], ([String], Fingerprint))
</span><a href="#local-6989586621682771392"><span class="hs-identifier hs-var">cpp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([String], [String], ([String], Fingerprint))
</span><a href="#local-6989586621682771396"><span class="hs-identifier hs-var">js</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([String], [String], Fingerprint)
</span><a href="#local-6989586621682771398"><span class="hs-identifier hs-var">cmm</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682771400"><span class="hs-identifier hs-var">paths</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682771401"><span class="hs-identifier hs-var">prof</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621682771403"><span class="hs-identifier hs-var">ticky</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621682771410"><span class="hs-identifier hs-var">codegen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682771081"><span class="hs-identifier hs-var">debugLevel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[CallerCcFilter]
</span><a href="#local-6989586621682771206"><span class="hs-identifier hs-var">callerCcFilters</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682771412"><span class="hs-identifier hs-var">fat_iface</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-comment">-- pprTrace &quot;flags&quot; (ppr flags) $</span><span>
</span><span id="line-92"></span><span>       </span><span class="annot"><span class="annottext">(BinHandle -&gt; Name -&gt; IO ())
-&gt; ((Maybe (Maybe String), IfaceTrustInfo, (Maybe Int, [Int]),
     ([String], [String], ([String], Fingerprint)),
     ([String], [String], ([String], Fingerprint)),
     ([String], [String], Fingerprint)),
    ([String], Int, [Bool], [Bool], Int, [CallerCcFilter], Bool))
-&gt; IO Fingerprint
forall a.
Binary a =&gt;
(BinHandle -&gt; Name -&gt; IO ()) -&gt; a -&gt; IO Fingerprint
</span><a href="GHC.Iface.Recomp.Binary.html#computeFingerprint"><span class="hs-identifier hs-var">computeFingerprint</span></a></span><span> </span><span class="annot"><span class="annottext">BinHandle -&gt; Name -&gt; IO ()
</span><a href="#local-6989586621682771067"><span class="hs-identifier hs-var">nameio</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe (Maybe String), IfaceTrustInfo, (Maybe Int, [Int]),
  ([String], [String], ([String], Fingerprint)),
  ([String], [String], ([String], Fingerprint)),
  ([String], [String], Fingerprint)),
 ([String], Int, [Bool], [Bool], Int, [CallerCcFilter], Bool))
</span><a href="#local-6989586621682771414"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-comment">-- Fingerprint the optimisation info. We keep this separate from the rest of</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- the flags because GHCi users (especially) may wish to ignore changes in</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- optimisation level or optimisation flags so as to use as many pre-existing</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- object files as they can.</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- See Note [Ignoring some flag changes]</span><span>
</span><span id="line-99"></span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html#fingerprintOptFlags"><span class="hs-identifier hs-type">fingerprintOptFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span>
</span><span id="line-100"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Binary.html#BinHandle"><span class="hs-identifier hs-type">BinHandle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fingerprint</span></span><span>
</span><span id="line-102"></span><span id="fingerprintOptFlags"><span class="annot"><span class="annottext">fingerprintOptFlags :: DynFlags -&gt; (BinHandle -&gt; Name -&gt; IO ()) -&gt; IO Fingerprint
</span><a href="GHC.Iface.Recomp.Flags.html#fingerprintOptFlags"><span class="hs-identifier hs-var hs-var">fingerprintOptFlags</span></a></span></span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span class="hs-special">{</span><span id="local-6989586621682771416"><span id="local-6989586621682771417"><span id="local-6989586621682771418"><span id="local-6989586621682771419"><span id="local-6989586621682771420"><span id="local-6989586621682771421"><span id="local-6989586621682771422"><span id="local-6989586621682771423"><span id="local-6989586621682771424"><span id="local-6989586621682771425"><span id="local-6989586621682771426"><span id="local-6989586621682771427"><span id="local-6989586621682771428"><span id="local-6989586621682771429"><span id="local-6989586621682771430"><span id="local-6989586621682771431"><span id="local-6989586621682771432"><span id="local-6989586621682771433"><span id="local-6989586621682771434"><span id="local-6989586621682771435"><span id="local-6989586621682771436"><span id="local-6989586621682771437"><span id="local-6989586621682771438"><span id="local-6989586621682771439"><span id="local-6989586621682771440"><span id="local-6989586621682771441"><span id="local-6989586621682771442"><span id="local-6989586621682771443"><span id="local-6989586621682771444"><span id="local-6989586621682771445"><span id="local-6989586621682771446"><span id="local-6989586621682771447"><span id="local-6989586621682771448"><span id="local-6989586621682771449"><span id="local-6989586621682771450"><span id="local-6989586621682771451"><span id="local-6989586621682771452"><span id="local-6989586621682771453"><span id="local-6989586621682771454"><span id="local-6989586621682771455"><span id="local-6989586621682771456"><span id="local-6989586621682771457"><span id="local-6989586621682771458"><span id="local-6989586621682771459"><span id="local-6989586621682771460"><span id="local-6989586621682771461"><span id="local-6989586621682771462"><span id="local-6989586621682771463"><span id="local-6989586621682771464"><span id="local-6989586621682771465"><span id="local-6989586621682771466"><span id="local-6989586621682771467"><span id="local-6989586621682771468"><span id="local-6989586621682771469"><span id="local-6989586621682771470"><span id="local-6989586621682771471"><span id="local-6989586621682771472"><span id="local-6989586621682771473"><span id="local-6989586621682771474"><span id="local-6989586621682771475"><span id="local-6989586621682771476"><span id="local-6989586621682771477"><span id="local-6989586621682771478"><span id="local-6989586621682771479"><span id="local-6989586621682771480"><span id="local-6989586621682771481"><span id="local-6989586621682771482"><span id="local-6989586621682771483"><span id="local-6989586621682771484"><span id="local-6989586621682771485"><span id="local-6989586621682771486"><span id="local-6989586621682771487"><span id="local-6989586621682771488"><span id="local-6989586621682771489"><span id="local-6989586621682771490"><span id="local-6989586621682771491"><span id="local-6989586621682771492"><span id="local-6989586621682771493"><span id="local-6989586621682771494"><span id="local-6989586621682771495"><span id="local-6989586621682771496"><span id="local-6989586621682771497"><span id="local-6989586621682771498"><span id="local-6989586621682771499"><span id="local-6989586621682771500"><span id="local-6989586621682771501"><span id="local-6989586621682771502"><span id="local-6989586621682771503"><span id="local-6989586621682771504"><span id="local-6989586621682771505"><span id="local-6989586621682771506"><span id="local-6989586621682771507"><span id="local-6989586621682771508"><span id="local-6989586621682771509"><span id="local-6989586621682771510"><span id="local-6989586621682771511"><span id="local-6989586621682771512"><span id="local-6989586621682771513"><span id="local-6989586621682771514"><span id="local-6989586621682771515"><span id="local-6989586621682771516"><span id="local-6989586621682771517"><span id="local-6989586621682771518"><span id="local-6989586621682771519"><span id="local-6989586621682771520"><span id="local-6989586621682771521"><span id="local-6989586621682771522"><span id="local-6989586621682771523"><span id="local-6989586621682771524"><span id="local-6989586621682771525"><span id="local-6989586621682771526"><span id="local-6989586621682771527"><span id="local-6989586621682771528"><span id="local-6989586621682771529"><span id="local-6989586621682771530"><span id="local-6989586621682771531"><span id="local-6989586621682771532"><span id="local-6989586621682771533"><span id="local-6989586621682771534"><span id="local-6989586621682771535"><span id="local-6989586621682771536"><span id="local-6989586621682771537"><span id="local-6989586621682771538"><span id="local-6989586621682771539"><span id="local-6989586621682771540"><span id="local-6989586621682771541"><span id="local-6989586621682771542"><span id="local-6989586621682771543"><span id="local-6989586621682771544"><span id="local-6989586621682771545"><span id="local-6989586621682771546"><span id="local-6989586621682771547"><span id="local-6989586621682771548"><span id="local-6989586621682771549"><span id="local-6989586621682771550"><span id="local-6989586621682771551"><span id="local-6989586621682771552"><span id="local-6989586621682771553"><span id="local-6989586621682771554"><span id="local-6989586621682771555"><span id="local-6989586621682771556"><span id="local-6989586621682771557"><span id="local-6989586621682771558"><span id="local-6989586621682771559"><span id="local-6989586621682771560"><span id="local-6989586621682771561"><span id="local-6989586621682771562"><span id="local-6989586621682771563"><span id="local-6989586621682771564"><span id="local-6989586621682771565"><span id="local-6989586621682771566"><span id="local-6989586621682771567"><span id="local-6989586621682771568"><span id="local-6989586621682771569"><span id="local-6989586621682771570"><span id="local-6989586621682771571"><span class="annot"><span class="annottext">Bool
Int
String
[Int]
[String]
[(String, String)]
[(ModuleName, String)]
[(ModuleName, Module)]
[ModuleName]
[Option]
[ExternalPluginSpec]
[CallerCcFilter]
[PackageDBFlag]
[PackageFlag]
[TrustFlag]
[IgnorePackageFlag]
[OnOff Extension]
Maybe Int
Maybe String
Maybe Word
Maybe (String, Int)
Maybe UnitId
Maybe Language
Maybe BmiVersion
Maybe SseVersion
Maybe ParMakeCount
Word64
Set ModuleName
Ways
OverridingBool
Scheme
ModuleName
UnitId
UnfoldingOpts
ProfAuto
Weights
SrcSpan
EnumSet Extension
EnumSet WarningFlag
EnumSet GeneralFlag
EnumSet DumpFlag
SafeHaskellMode
IntWithInf
PlatformMisc
Platform
WarningCategorySet
GhcNameVersion
FileSettings
ToolSettings
TempDir
Backend
IncludeSpecs
RtsOptsEnabled
DynLibLoader
GhcLink
GhcMode
FlushOut
cfgWeights :: DynFlags -&gt; Weights
uniqueIncrement :: DynFlags -&gt; Int
initialUnique :: DynFlags -&gt; Word64
maxErrors :: DynFlags -&gt; Maybe Int
reverseErrors :: DynFlags -&gt; Bool
maxInlineMemsetInsns :: DynFlags -&gt; Int
maxInlineMemcpyInsns :: DynFlags -&gt; Int
maxInlineAllocSize :: DynFlags -&gt; Int
fma :: DynFlags -&gt; Bool
avx512pf :: DynFlags -&gt; Bool
avx512f :: DynFlags -&gt; Bool
avx512er :: DynFlags -&gt; Bool
avx512cd :: DynFlags -&gt; Bool
avx2 :: DynFlags -&gt; Bool
avx :: DynFlags -&gt; Bool
bmiVersion :: DynFlags -&gt; Maybe BmiVersion
sseVersion :: DynFlags -&gt; Maybe SseVersion
interactivePrint :: DynFlags -&gt; Maybe String
callerCcFilters :: DynFlags -&gt; [CallerCcFilter]
profAuto :: DynFlags -&gt; ProfAuto
colScheme :: DynFlags -&gt; Scheme
canUseErrorLinks :: DynFlags -&gt; Bool
useErrorLinks :: DynFlags -&gt; OverridingBool
canUseColor :: DynFlags -&gt; Bool
useColor :: DynFlags -&gt; OverridingBool
useUnicode :: DynFlags -&gt; Bool
pprCols :: DynFlags -&gt; Int
pprUserLength :: DynFlags -&gt; Int
ghciScripts :: DynFlags -&gt; [String]
haddockOptions :: DynFlags -&gt; Maybe String
ghcVersionFile :: DynFlags -&gt; Maybe String
flushOut :: DynFlags -&gt; FlushOut
ghciHistSize :: DynFlags -&gt; Int
maxWorkerArgs :: DynFlags -&gt; Int
unfoldingOpts :: DynFlags -&gt; UnfoldingOpts
extensionFlags :: DynFlags -&gt; EnumSet Extension
extensions :: DynFlags -&gt; [OnOff Extension]
trustworthyOnLoc :: DynFlags -&gt; SrcSpan
warnUnsafeOnLoc :: DynFlags -&gt; SrcSpan
warnSafeOnLoc :: DynFlags -&gt; SrcSpan
pkgTrustOnLoc :: DynFlags -&gt; SrcSpan
incoherentOnLoc :: DynFlags -&gt; SrcSpan
overlapInstLoc :: DynFlags -&gt; SrcSpan
deriveViaOnLoc :: DynFlags -&gt; SrcSpan
newDerivOnLoc :: DynFlags -&gt; SrcSpan
thOnLoc :: DynFlags -&gt; SrcSpan
safeInferred :: DynFlags -&gt; Bool
safeInfer :: DynFlags -&gt; Bool
safeHaskell :: DynFlags -&gt; SafeHaskellMode
language :: DynFlags -&gt; Maybe Language
fatalCustomWarningCategories :: DynFlags -&gt; WarningCategorySet
customWarningCategories :: DynFlags -&gt; WarningCategorySet
fatalWarningFlags :: DynFlags -&gt; EnumSet WarningFlag
warningFlags :: DynFlags -&gt; EnumSet WarningFlag
generalFlags :: DynFlags -&gt; EnumSet GeneralFlag
dumpFlags :: DynFlags -&gt; EnumSet DumpFlag
packageEnv :: DynFlags -&gt; Maybe String
trustFlags :: DynFlags -&gt; [TrustFlag]
pluginPackageFlags :: DynFlags -&gt; [PackageFlag]
packageFlags :: DynFlags -&gt; [PackageFlag]
ignorePackageFlags :: DynFlags -&gt; [IgnorePackageFlag]
packageDBFlags :: DynFlags -&gt; [PackageDBFlag]
depSuffixes :: DynFlags -&gt; [String]
depExcludeMods :: DynFlags -&gt; [ModuleName]
depIncludeCppDeps :: DynFlags -&gt; Bool
depIncludePkgDeps :: DynFlags -&gt; Bool
depMakefile :: DynFlags -&gt; String
externalPluginSpecs :: DynFlags -&gt; [ExternalPluginSpec]
frontendPluginOpts :: DynFlags -&gt; [String]
pluginModNameOpts :: DynFlags -&gt; [(ModuleName, String)]
pluginModNames :: DynFlags -&gt; [ModuleName]
hpcDir :: DynFlags -&gt; String
rtsOptsSuggestions :: DynFlags -&gt; Bool
rtsOptsEnabled :: DynFlags -&gt; RtsOptsEnabled
rtsOpts :: DynFlags -&gt; Maybe String
cmdlineFrameworks :: DynFlags -&gt; [String]
frameworkPaths :: DynFlags -&gt; [String]
libraryPaths :: DynFlags -&gt; [String]
includePaths :: DynFlags -&gt; IncludeSpecs
ldInputs :: DynFlags -&gt; [Option]
dumpPrefixForce :: DynFlags -&gt; Maybe String
dumpPrefix :: DynFlags -&gt; String
dynamicNow :: DynFlags -&gt; Bool
dynLibLoader :: DynFlags -&gt; DynLibLoader
dynOutputHi :: DynFlags -&gt; Maybe String
outputHi :: DynFlags -&gt; Maybe String
dynOutputFile_ :: DynFlags -&gt; Maybe String
outputFile_ :: DynFlags -&gt; Maybe String
dynHiSuf_ :: DynFlags -&gt; String
dynObjectSuf_ :: DynFlags -&gt; String
hieSuf :: DynFlags -&gt; String
hiSuf_ :: DynFlags -&gt; String
hcSuf :: DynFlags -&gt; String
objectSuf_ :: DynFlags -&gt; String
dumpDir :: DynFlags -&gt; Maybe String
stubDir :: DynFlags -&gt; Maybe String
hieDir :: DynFlags -&gt; Maybe String
hiDir :: DynFlags -&gt; Maybe String
dylibInstallName :: DynFlags -&gt; Maybe String
objectDir :: DynFlags -&gt; Maybe String
splitInfo :: DynFlags -&gt; Maybe (String, Int)
targetWays_ :: DynFlags -&gt; Ways
reexportedModules :: DynFlags -&gt; Set ModuleName
hiddenModules :: DynFlags -&gt; Set ModuleName
thisPackageName :: DynFlags -&gt; Maybe String
workingDirectory :: DynFlags -&gt; Maybe String
homeUnitInstantiations_ :: DynFlags -&gt; [(ModuleName, Module)]
homeUnitInstanceOf_ :: DynFlags -&gt; Maybe UnitId
homeUnitId_ :: DynFlags -&gt; UnitId
qcsFuel :: DynFlags -&gt; Int
wantedsFuel :: DynFlags -&gt; Int
givensFuel :: DynFlags -&gt; Int
solverIterations :: DynFlags -&gt; IntWithInf
reductionDepth :: DynFlags -&gt; IntWithInf
mainFunIs :: DynFlags -&gt; Maybe String
mainModuleNameIs :: DynFlags -&gt; ModuleName
importPaths :: DynFlags -&gt; [String]
historySize :: DynFlags -&gt; Int
cmmProcAlignment :: DynFlags -&gt; Maybe Int
liftLamsKnown :: DynFlags -&gt; Bool
liftLamsNonRecArgs :: DynFlags -&gt; Maybe Int
liftLamsRecArgs :: DynFlags -&gt; Maybe Int
floatLamArgs :: DynFlags -&gt; Maybe Int
liberateCaseThreshold :: DynFlags -&gt; Maybe Int
binBlobThreshold :: DynFlags -&gt; Maybe Word
specConstrRecursive :: DynFlags -&gt; Int
specConstrCount :: DynFlags -&gt; Maybe Int
specConstrThreshold :: DynFlags -&gt; Maybe Int
dmdUnboxWidth :: DynFlags -&gt; Int
simplTickFactor :: DynFlags -&gt; Int
maxPmCheckModels :: DynFlags -&gt; Int
maxUncoveredPatterns :: DynFlags -&gt; Int
refLevelHoleFits :: DynFlags -&gt; Maybe Int
maxRefHoleFits :: DynFlags -&gt; Maybe Int
maxValidHoleFits :: DynFlags -&gt; Maybe Int
maxRelevantBinds :: DynFlags -&gt; Maybe Int
ghcHeapSize :: DynFlags -&gt; Maybe Int
enableTimeStats :: DynFlags -&gt; Bool
parMakeCount :: DynFlags -&gt; Maybe ParMakeCount
strictnessBefore :: DynFlags -&gt; [Int]
ruleCheck :: DynFlags -&gt; Maybe String
maxSimplIterations :: DynFlags -&gt; Int
simplPhases :: DynFlags -&gt; Int
debugLevel :: DynFlags -&gt; Int
verbosity :: DynFlags -&gt; Int
llvmOptLevel :: DynFlags -&gt; Int
tmpDir :: DynFlags -&gt; TempDir
rawSettings :: DynFlags -&gt; [(String, String)]
platformMisc :: DynFlags -&gt; PlatformMisc
toolSettings :: DynFlags -&gt; ToolSettings
targetPlatform :: DynFlags -&gt; Platform
fileSettings :: DynFlags -&gt; FileSettings
ghcNameVersion :: DynFlags -&gt; GhcNameVersion
backend :: DynFlags -&gt; Backend
ghcLink :: DynFlags -&gt; GhcLink
ghcMode :: DynFlags -&gt; GhcMode
ghcMode :: GhcMode
ghcLink :: GhcLink
backend :: Backend
ghcNameVersion :: GhcNameVersion
fileSettings :: FileSettings
targetPlatform :: Platform
toolSettings :: ToolSettings
platformMisc :: PlatformMisc
rawSettings :: [(String, String)]
tmpDir :: TempDir
llvmOptLevel :: Int
verbosity :: Int
debugLevel :: Int
simplPhases :: Int
maxSimplIterations :: Int
ruleCheck :: Maybe String
strictnessBefore :: [Int]
parMakeCount :: Maybe ParMakeCount
enableTimeStats :: Bool
ghcHeapSize :: Maybe Int
maxRelevantBinds :: Maybe Int
maxValidHoleFits :: Maybe Int
maxRefHoleFits :: Maybe Int
refLevelHoleFits :: Maybe Int
maxUncoveredPatterns :: Int
maxPmCheckModels :: Int
simplTickFactor :: Int
dmdUnboxWidth :: Int
specConstrThreshold :: Maybe Int
specConstrCount :: Maybe Int
specConstrRecursive :: Int
binBlobThreshold :: Maybe Word
liberateCaseThreshold :: Maybe Int
floatLamArgs :: Maybe Int
liftLamsRecArgs :: Maybe Int
liftLamsNonRecArgs :: Maybe Int
liftLamsKnown :: Bool
cmmProcAlignment :: Maybe Int
historySize :: Int
importPaths :: [String]
mainModuleNameIs :: ModuleName
mainFunIs :: Maybe String
reductionDepth :: IntWithInf
solverIterations :: IntWithInf
givensFuel :: Int
wantedsFuel :: Int
qcsFuel :: Int
homeUnitId_ :: UnitId
homeUnitInstanceOf_ :: Maybe UnitId
homeUnitInstantiations_ :: [(ModuleName, Module)]
workingDirectory :: Maybe String
thisPackageName :: Maybe String
hiddenModules :: Set ModuleName
reexportedModules :: Set ModuleName
targetWays_ :: Ways
splitInfo :: Maybe (String, Int)
objectDir :: Maybe String
dylibInstallName :: Maybe String
hiDir :: Maybe String
hieDir :: Maybe String
stubDir :: Maybe String
dumpDir :: Maybe String
objectSuf_ :: String
hcSuf :: String
hiSuf_ :: String
hieSuf :: String
dynObjectSuf_ :: String
dynHiSuf_ :: String
outputFile_ :: Maybe String
dynOutputFile_ :: Maybe String
outputHi :: Maybe String
dynOutputHi :: Maybe String
dynLibLoader :: DynLibLoader
dynamicNow :: Bool
dumpPrefix :: String
dumpPrefixForce :: Maybe String
ldInputs :: [Option]
includePaths :: IncludeSpecs
libraryPaths :: [String]
frameworkPaths :: [String]
cmdlineFrameworks :: [String]
rtsOpts :: Maybe String
rtsOptsEnabled :: RtsOptsEnabled
rtsOptsSuggestions :: Bool
hpcDir :: String
pluginModNames :: [ModuleName]
pluginModNameOpts :: [(ModuleName, String)]
frontendPluginOpts :: [String]
externalPluginSpecs :: [ExternalPluginSpec]
depMakefile :: String
depIncludePkgDeps :: Bool
depIncludeCppDeps :: Bool
depExcludeMods :: [ModuleName]
depSuffixes :: [String]
packageDBFlags :: [PackageDBFlag]
ignorePackageFlags :: [IgnorePackageFlag]
packageFlags :: [PackageFlag]
pluginPackageFlags :: [PackageFlag]
trustFlags :: [TrustFlag]
packageEnv :: Maybe String
dumpFlags :: EnumSet DumpFlag
generalFlags :: EnumSet GeneralFlag
warningFlags :: EnumSet WarningFlag
fatalWarningFlags :: EnumSet WarningFlag
customWarningCategories :: WarningCategorySet
fatalCustomWarningCategories :: WarningCategorySet
language :: Maybe Language
safeHaskell :: SafeHaskellMode
safeInfer :: Bool
safeInferred :: Bool
thOnLoc :: SrcSpan
newDerivOnLoc :: SrcSpan
deriveViaOnLoc :: SrcSpan
overlapInstLoc :: SrcSpan
incoherentOnLoc :: SrcSpan
pkgTrustOnLoc :: SrcSpan
warnSafeOnLoc :: SrcSpan
warnUnsafeOnLoc :: SrcSpan
trustworthyOnLoc :: SrcSpan
extensions :: [OnOff Extension]
extensionFlags :: EnumSet Extension
unfoldingOpts :: UnfoldingOpts
maxWorkerArgs :: Int
ghciHistSize :: Int
flushOut :: FlushOut
ghcVersionFile :: Maybe String
haddockOptions :: Maybe String
ghciScripts :: [String]
pprUserLength :: Int
pprCols :: Int
useUnicode :: Bool
useColor :: OverridingBool
canUseColor :: Bool
useErrorLinks :: OverridingBool
canUseErrorLinks :: Bool
colScheme :: Scheme
profAuto :: ProfAuto
callerCcFilters :: [CallerCcFilter]
interactivePrint :: Maybe String
sseVersion :: Maybe SseVersion
bmiVersion :: Maybe BmiVersion
avx :: Bool
avx2 :: Bool
avx512cd :: Bool
avx512er :: Bool
avx512f :: Bool
avx512pf :: Bool
fma :: Bool
maxInlineAllocSize :: Int
maxInlineMemcpyInsns :: Int
maxInlineMemsetInsns :: Int
reverseErrors :: Bool
maxErrors :: Maybe Int
initialUnique :: Word64
uniqueIncrement :: Int
cfgWeights :: Weights
</span><a href="GHC.Driver.DynFlags.html#cfgWeights"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621682771572"><span class="annot"><span class="annottext">BinHandle -&gt; Name -&gt; IO ()
</span><a href="#local-6989586621682771572"><span class="hs-identifier hs-var">nameio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-103"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-104"></span><span>        </span><span class="hs-comment">-- See https://gitlab.haskell.org/ghc/ghc/issues/10923</span><span>
</span><span id="line-105"></span><span>        </span><span class="hs-comment">-- We used to fingerprint the optimisation level, but as Joachim</span><span>
</span><span id="line-106"></span><span>        </span><span class="hs-comment">-- Breitner pointed out in comment 9 on that ticket, it's better</span><span>
</span><span id="line-107"></span><span>        </span><span class="hs-comment">-- to ignore that and just look at the individual optimisation flags.</span><span>
</span><span id="line-108"></span><span>        </span><span id="local-6989586621682771573"><span class="annot"><span class="annottext">opt_flags :: [Int]
</span><a href="#local-6989586621682771573"><span class="hs-identifier hs-var hs-var">opt_flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GeneralFlag -&gt; Int) -&gt; [GeneralFlag] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">([GeneralFlag] -&gt; [Int]) -&gt; [GeneralFlag] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(GeneralFlag -&gt; Bool) -&gt; [GeneralFlag] -&gt; [GeneralFlag]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GeneralFlag -&gt; EnumSet GeneralFlag -&gt; Bool
forall a. Enum a =&gt; a -&gt; EnumSet a -&gt; Bool
</span><a href="GHC.Data.EnumSet.html#member"><span class="hs-operator hs-var">`EnumSet.member`</span></a></span><span> </span><span class="annot"><span class="annottext">EnumSet GeneralFlag
</span><a href="GHC.Driver.Flags.html#optimisationFlags"><span class="hs-identifier hs-var">optimisationFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumSet GeneralFlag -&gt; [GeneralFlag]
forall a. Enum a =&gt; EnumSet a -&gt; [a]
</span><a href="GHC.Data.EnumSet.html#toList"><span class="hs-identifier hs-var">EnumSet.toList</span></a></span><span> </span><span class="annot"><span class="annottext">EnumSet GeneralFlag
</span><a href="#local-6989586621682771517"><span class="hs-identifier hs-var">generalFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(BinHandle -&gt; Name -&gt; IO ()) -&gt; [Int] -&gt; IO Fingerprint
forall a.
Binary a =&gt;
(BinHandle -&gt; Name -&gt; IO ()) -&gt; a -&gt; IO Fingerprint
</span><a href="GHC.Iface.Recomp.Binary.html#computeFingerprint"><span class="hs-identifier hs-var">computeFingerprint</span></a></span><span> </span><span class="annot"><span class="annottext">BinHandle -&gt; Name -&gt; IO ()
</span><a href="#local-6989586621682771572"><span class="hs-identifier hs-var">nameio</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621682771573"><span class="hs-identifier hs-var">opt_flags</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">-- Fingerprint the HPC info. We keep this separate from the rest of</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- the flags because GHCi users (especially) may wish to use an object</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- file compiled for HPC when not actually using HPC.</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- See Note [Ignoring some flag changes]</span><span>
</span><span id="line-117"></span><span class="annot"><a href="GHC.Iface.Recomp.Flags.html#fingerprintHpcFlags"><span class="hs-identifier hs-type">fingerprintHpcFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span>
</span><span id="line-118"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Binary.html#BinHandle"><span class="hs-identifier hs-type">BinHandle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fingerprint</span></span><span>
</span><span id="line-120"></span><span id="fingerprintHpcFlags"><span class="annot"><span class="annottext">fingerprintHpcFlags :: DynFlags -&gt; (BinHandle -&gt; Name -&gt; IO ()) -&gt; IO Fingerprint
</span><a href="GHC.Iface.Recomp.Flags.html#fingerprintHpcFlags"><span class="hs-identifier hs-var hs-var">fingerprintHpcFlags</span></a></span></span><span> </span><span id="local-6989586621682771576"><span class="annot"><span class="annottext">dflags :: DynFlags
</span><a href="#local-6989586621682771576"><span class="hs-identifier hs-var">dflags</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span class="hs-special">{</span><span id="local-6989586621682771577"><span id="local-6989586621682771578"><span id="local-6989586621682771579"><span id="local-6989586621682771580"><span id="local-6989586621682771581"><span id="local-6989586621682771582"><span id="local-6989586621682771583"><span id="local-6989586621682771584"><span id="local-6989586621682771585"><span id="local-6989586621682771586"><span id="local-6989586621682771587"><span id="local-6989586621682771588"><span id="local-6989586621682771589"><span id="local-6989586621682771590"><span id="local-6989586621682771591"><span id="local-6989586621682771592"><span id="local-6989586621682771593"><span id="local-6989586621682771594"><span id="local-6989586621682771595"><span id="local-6989586621682771596"><span id="local-6989586621682771597"><span id="local-6989586621682771598"><span id="local-6989586621682771599"><span id="local-6989586621682771600"><span id="local-6989586621682771601"><span id="local-6989586621682771602"><span id="local-6989586621682771603"><span id="local-6989586621682771604"><span id="local-6989586621682771605"><span id="local-6989586621682771606"><span id="local-6989586621682771607"><span id="local-6989586621682771608"><span id="local-6989586621682771609"><span id="local-6989586621682771610"><span id="local-6989586621682771611"><span id="local-6989586621682771612"><span id="local-6989586621682771613"><span id="local-6989586621682771614"><span id="local-6989586621682771615"><span id="local-6989586621682771616"><span id="local-6989586621682771617"><span id="local-6989586621682771618"><span id="local-6989586621682771619"><span id="local-6989586621682771620"><span id="local-6989586621682771621"><span id="local-6989586621682771622"><span id="local-6989586621682771623"><span id="local-6989586621682771624"><span id="local-6989586621682771625"><span id="local-6989586621682771626"><span id="local-6989586621682771627"><span id="local-6989586621682771628"><span id="local-6989586621682771629"><span id="local-6989586621682771630"><span id="local-6989586621682771631"><span id="local-6989586621682771632"><span id="local-6989586621682771633"><span id="local-6989586621682771634"><span id="local-6989586621682771635"><span id="local-6989586621682771636"><span id="local-6989586621682771637"><span id="local-6989586621682771638"><span id="local-6989586621682771639"><span id="local-6989586621682771640"><span id="local-6989586621682771641"><span id="local-6989586621682771642"><span id="local-6989586621682771643"><span id="local-6989586621682771644"><span id="local-6989586621682771645"><span id="local-6989586621682771646"><span id="local-6989586621682771647"><span id="local-6989586621682771648"><span id="local-6989586621682771649"><span id="local-6989586621682771650"><span id="local-6989586621682771651"><span id="local-6989586621682771652"><span id="local-6989586621682771653"><span id="local-6989586621682771654"><span id="local-6989586621682771655"><span id="local-6989586621682771656"><span id="local-6989586621682771657"><span id="local-6989586621682771658"><span id="local-6989586621682771659"><span id="local-6989586621682771660"><span id="local-6989586621682771661"><span id="local-6989586621682771662"><span id="local-6989586621682771663"><span id="local-6989586621682771664"><span id="local-6989586621682771665"><span id="local-6989586621682771666"><span id="local-6989586621682771667"><span id="local-6989586621682771668"><span id="local-6989586621682771669"><span id="local-6989586621682771670"><span id="local-6989586621682771671"><span id="local-6989586621682771672"><span id="local-6989586621682771673"><span id="local-6989586621682771674"><span id="local-6989586621682771675"><span id="local-6989586621682771676"><span id="local-6989586621682771677"><span id="local-6989586621682771678"><span id="local-6989586621682771679"><span id="local-6989586621682771680"><span id="local-6989586621682771681"><span id="local-6989586621682771682"><span id="local-6989586621682771683"><span id="local-6989586621682771684"><span id="local-6989586621682771685"><span id="local-6989586621682771686"><span id="local-6989586621682771687"><span id="local-6989586621682771688"><span id="local-6989586621682771689"><span id="local-6989586621682771690"><span id="local-6989586621682771691"><span id="local-6989586621682771692"><span id="local-6989586621682771693"><span id="local-6989586621682771694"><span id="local-6989586621682771695"><span id="local-6989586621682771696"><span id="local-6989586621682771697"><span id="local-6989586621682771698"><span id="local-6989586621682771699"><span id="local-6989586621682771700"><span id="local-6989586621682771701"><span id="local-6989586621682771702"><span id="local-6989586621682771703"><span id="local-6989586621682771704"><span id="local-6989586621682771705"><span id="local-6989586621682771706"><span id="local-6989586621682771707"><span id="local-6989586621682771708"><span id="local-6989586621682771709"><span id="local-6989586621682771710"><span id="local-6989586621682771711"><span id="local-6989586621682771712"><span id="local-6989586621682771713"><span id="local-6989586621682771714"><span id="local-6989586621682771715"><span id="local-6989586621682771716"><span id="local-6989586621682771717"><span id="local-6989586621682771718"><span id="local-6989586621682771719"><span id="local-6989586621682771720"><span id="local-6989586621682771721"><span id="local-6989586621682771722"><span id="local-6989586621682771723"><span id="local-6989586621682771724"><span id="local-6989586621682771725"><span id="local-6989586621682771726"><span id="local-6989586621682771727"><span id="local-6989586621682771728"><span id="local-6989586621682771729"><span id="local-6989586621682771730"><span id="local-6989586621682771731"><span id="local-6989586621682771732"><span class="annot"><span class="annottext">Bool
Int
String
[Int]
[String]
[(String, String)]
[(ModuleName, String)]
[(ModuleName, Module)]
[ModuleName]
[Option]
[ExternalPluginSpec]
[CallerCcFilter]
[PackageDBFlag]
[PackageFlag]
[TrustFlag]
[IgnorePackageFlag]
[OnOff Extension]
Maybe Int
Maybe String
Maybe Word
Maybe (String, Int)
Maybe UnitId
Maybe Language
Maybe BmiVersion
Maybe SseVersion
Maybe ParMakeCount
Word64
Set ModuleName
Ways
OverridingBool
Scheme
ModuleName
UnitId
UnfoldingOpts
ProfAuto
Weights
SrcSpan
EnumSet Extension
EnumSet WarningFlag
EnumSet GeneralFlag
EnumSet DumpFlag
SafeHaskellMode
IntWithInf
PlatformMisc
Platform
WarningCategorySet
GhcNameVersion
FileSettings
ToolSettings
TempDir
Backend
IncludeSpecs
RtsOptsEnabled
DynLibLoader
GhcLink
GhcMode
FlushOut
cfgWeights :: DynFlags -&gt; Weights
uniqueIncrement :: DynFlags -&gt; Int
initialUnique :: DynFlags -&gt; Word64
maxErrors :: DynFlags -&gt; Maybe Int
reverseErrors :: DynFlags -&gt; Bool
maxInlineMemsetInsns :: DynFlags -&gt; Int
maxInlineMemcpyInsns :: DynFlags -&gt; Int
maxInlineAllocSize :: DynFlags -&gt; Int
fma :: DynFlags -&gt; Bool
avx512pf :: DynFlags -&gt; Bool
avx512f :: DynFlags -&gt; Bool
avx512er :: DynFlags -&gt; Bool
avx512cd :: DynFlags -&gt; Bool
avx2 :: DynFlags -&gt; Bool
avx :: DynFlags -&gt; Bool
bmiVersion :: DynFlags -&gt; Maybe BmiVersion
sseVersion :: DynFlags -&gt; Maybe SseVersion
interactivePrint :: DynFlags -&gt; Maybe String
callerCcFilters :: DynFlags -&gt; [CallerCcFilter]
profAuto :: DynFlags -&gt; ProfAuto
colScheme :: DynFlags -&gt; Scheme
canUseErrorLinks :: DynFlags -&gt; Bool
useErrorLinks :: DynFlags -&gt; OverridingBool
canUseColor :: DynFlags -&gt; Bool
useColor :: DynFlags -&gt; OverridingBool
useUnicode :: DynFlags -&gt; Bool
pprCols :: DynFlags -&gt; Int
pprUserLength :: DynFlags -&gt; Int
ghciScripts :: DynFlags -&gt; [String]
haddockOptions :: DynFlags -&gt; Maybe String
ghcVersionFile :: DynFlags -&gt; Maybe String
flushOut :: DynFlags -&gt; FlushOut
ghciHistSize :: DynFlags -&gt; Int
maxWorkerArgs :: DynFlags -&gt; Int
unfoldingOpts :: DynFlags -&gt; UnfoldingOpts
extensionFlags :: DynFlags -&gt; EnumSet Extension
extensions :: DynFlags -&gt; [OnOff Extension]
trustworthyOnLoc :: DynFlags -&gt; SrcSpan
warnUnsafeOnLoc :: DynFlags -&gt; SrcSpan
warnSafeOnLoc :: DynFlags -&gt; SrcSpan
pkgTrustOnLoc :: DynFlags -&gt; SrcSpan
incoherentOnLoc :: DynFlags -&gt; SrcSpan
overlapInstLoc :: DynFlags -&gt; SrcSpan
deriveViaOnLoc :: DynFlags -&gt; SrcSpan
newDerivOnLoc :: DynFlags -&gt; SrcSpan
thOnLoc :: DynFlags -&gt; SrcSpan
safeInferred :: DynFlags -&gt; Bool
safeInfer :: DynFlags -&gt; Bool
safeHaskell :: DynFlags -&gt; SafeHaskellMode
language :: DynFlags -&gt; Maybe Language
fatalCustomWarningCategories :: DynFlags -&gt; WarningCategorySet
customWarningCategories :: DynFlags -&gt; WarningCategorySet
fatalWarningFlags :: DynFlags -&gt; EnumSet WarningFlag
warningFlags :: DynFlags -&gt; EnumSet WarningFlag
generalFlags :: DynFlags -&gt; EnumSet GeneralFlag
dumpFlags :: DynFlags -&gt; EnumSet DumpFlag
packageEnv :: DynFlags -&gt; Maybe String
trustFlags :: DynFlags -&gt; [TrustFlag]
pluginPackageFlags :: DynFlags -&gt; [PackageFlag]
packageFlags :: DynFlags -&gt; [PackageFlag]
ignorePackageFlags :: DynFlags -&gt; [IgnorePackageFlag]
packageDBFlags :: DynFlags -&gt; [PackageDBFlag]
depSuffixes :: DynFlags -&gt; [String]
depExcludeMods :: DynFlags -&gt; [ModuleName]
depIncludeCppDeps :: DynFlags -&gt; Bool
depIncludePkgDeps :: DynFlags -&gt; Bool
depMakefile :: DynFlags -&gt; String
externalPluginSpecs :: DynFlags -&gt; [ExternalPluginSpec]
frontendPluginOpts :: DynFlags -&gt; [String]
pluginModNameOpts :: DynFlags -&gt; [(ModuleName, String)]
pluginModNames :: DynFlags -&gt; [ModuleName]
hpcDir :: DynFlags -&gt; String
rtsOptsSuggestions :: DynFlags -&gt; Bool
rtsOptsEnabled :: DynFlags -&gt; RtsOptsEnabled
rtsOpts :: DynFlags -&gt; Maybe String
cmdlineFrameworks :: DynFlags -&gt; [String]
frameworkPaths :: DynFlags -&gt; [String]
libraryPaths :: DynFlags -&gt; [String]
includePaths :: DynFlags -&gt; IncludeSpecs
ldInputs :: DynFlags -&gt; [Option]
dumpPrefixForce :: DynFlags -&gt; Maybe String
dumpPrefix :: DynFlags -&gt; String
dynamicNow :: DynFlags -&gt; Bool
dynLibLoader :: DynFlags -&gt; DynLibLoader
dynOutputHi :: DynFlags -&gt; Maybe String
outputHi :: DynFlags -&gt; Maybe String
dynOutputFile_ :: DynFlags -&gt; Maybe String
outputFile_ :: DynFlags -&gt; Maybe String
dynHiSuf_ :: DynFlags -&gt; String
dynObjectSuf_ :: DynFlags -&gt; String
hieSuf :: DynFlags -&gt; String
hiSuf_ :: DynFlags -&gt; String
hcSuf :: DynFlags -&gt; String
objectSuf_ :: DynFlags -&gt; String
dumpDir :: DynFlags -&gt; Maybe String
stubDir :: DynFlags -&gt; Maybe String
hieDir :: DynFlags -&gt; Maybe String
hiDir :: DynFlags -&gt; Maybe String
dylibInstallName :: DynFlags -&gt; Maybe String
objectDir :: DynFlags -&gt; Maybe String
splitInfo :: DynFlags -&gt; Maybe (String, Int)
targetWays_ :: DynFlags -&gt; Ways
reexportedModules :: DynFlags -&gt; Set ModuleName
hiddenModules :: DynFlags -&gt; Set ModuleName
thisPackageName :: DynFlags -&gt; Maybe String
workingDirectory :: DynFlags -&gt; Maybe String
homeUnitInstantiations_ :: DynFlags -&gt; [(ModuleName, Module)]
homeUnitInstanceOf_ :: DynFlags -&gt; Maybe UnitId
homeUnitId_ :: DynFlags -&gt; UnitId
qcsFuel :: DynFlags -&gt; Int
wantedsFuel :: DynFlags -&gt; Int
givensFuel :: DynFlags -&gt; Int
solverIterations :: DynFlags -&gt; IntWithInf
reductionDepth :: DynFlags -&gt; IntWithInf
mainFunIs :: DynFlags -&gt; Maybe String
mainModuleNameIs :: DynFlags -&gt; ModuleName
importPaths :: DynFlags -&gt; [String]
historySize :: DynFlags -&gt; Int
cmmProcAlignment :: DynFlags -&gt; Maybe Int
liftLamsKnown :: DynFlags -&gt; Bool
liftLamsNonRecArgs :: DynFlags -&gt; Maybe Int
liftLamsRecArgs :: DynFlags -&gt; Maybe Int
floatLamArgs :: DynFlags -&gt; Maybe Int
liberateCaseThreshold :: DynFlags -&gt; Maybe Int
binBlobThreshold :: DynFlags -&gt; Maybe Word
specConstrRecursive :: DynFlags -&gt; Int
specConstrCount :: DynFlags -&gt; Maybe Int
specConstrThreshold :: DynFlags -&gt; Maybe Int
dmdUnboxWidth :: DynFlags -&gt; Int
simplTickFactor :: DynFlags -&gt; Int
maxPmCheckModels :: DynFlags -&gt; Int
maxUncoveredPatterns :: DynFlags -&gt; Int
refLevelHoleFits :: DynFlags -&gt; Maybe Int
maxRefHoleFits :: DynFlags -&gt; Maybe Int
maxValidHoleFits :: DynFlags -&gt; Maybe Int
maxRelevantBinds :: DynFlags -&gt; Maybe Int
ghcHeapSize :: DynFlags -&gt; Maybe Int
enableTimeStats :: DynFlags -&gt; Bool
parMakeCount :: DynFlags -&gt; Maybe ParMakeCount
strictnessBefore :: DynFlags -&gt; [Int]
ruleCheck :: DynFlags -&gt; Maybe String
maxSimplIterations :: DynFlags -&gt; Int
simplPhases :: DynFlags -&gt; Int
debugLevel :: DynFlags -&gt; Int
verbosity :: DynFlags -&gt; Int
llvmOptLevel :: DynFlags -&gt; Int
tmpDir :: DynFlags -&gt; TempDir
rawSettings :: DynFlags -&gt; [(String, String)]
platformMisc :: DynFlags -&gt; PlatformMisc
toolSettings :: DynFlags -&gt; ToolSettings
targetPlatform :: DynFlags -&gt; Platform
fileSettings :: DynFlags -&gt; FileSettings
ghcNameVersion :: DynFlags -&gt; GhcNameVersion
backend :: DynFlags -&gt; Backend
ghcLink :: DynFlags -&gt; GhcLink
ghcMode :: DynFlags -&gt; GhcMode
ghcMode :: GhcMode
ghcLink :: GhcLink
backend :: Backend
ghcNameVersion :: GhcNameVersion
fileSettings :: FileSettings
targetPlatform :: Platform
toolSettings :: ToolSettings
platformMisc :: PlatformMisc
rawSettings :: [(String, String)]
tmpDir :: TempDir
llvmOptLevel :: Int
verbosity :: Int
debugLevel :: Int
simplPhases :: Int
maxSimplIterations :: Int
ruleCheck :: Maybe String
strictnessBefore :: [Int]
parMakeCount :: Maybe ParMakeCount
enableTimeStats :: Bool
ghcHeapSize :: Maybe Int
maxRelevantBinds :: Maybe Int
maxValidHoleFits :: Maybe Int
maxRefHoleFits :: Maybe Int
refLevelHoleFits :: Maybe Int
maxUncoveredPatterns :: Int
maxPmCheckModels :: Int
simplTickFactor :: Int
dmdUnboxWidth :: Int
specConstrThreshold :: Maybe Int
specConstrCount :: Maybe Int
specConstrRecursive :: Int
binBlobThreshold :: Maybe Word
liberateCaseThreshold :: Maybe Int
floatLamArgs :: Maybe Int
liftLamsRecArgs :: Maybe Int
liftLamsNonRecArgs :: Maybe Int
liftLamsKnown :: Bool
cmmProcAlignment :: Maybe Int
historySize :: Int
importPaths :: [String]
mainModuleNameIs :: ModuleName
mainFunIs :: Maybe String
reductionDepth :: IntWithInf
solverIterations :: IntWithInf
givensFuel :: Int
wantedsFuel :: Int
qcsFuel :: Int
homeUnitId_ :: UnitId
homeUnitInstanceOf_ :: Maybe UnitId
homeUnitInstantiations_ :: [(ModuleName, Module)]
workingDirectory :: Maybe String
thisPackageName :: Maybe String
hiddenModules :: Set ModuleName
reexportedModules :: Set ModuleName
targetWays_ :: Ways
splitInfo :: Maybe (String, Int)
objectDir :: Maybe String
dylibInstallName :: Maybe String
hiDir :: Maybe String
hieDir :: Maybe String
stubDir :: Maybe String
dumpDir :: Maybe String
objectSuf_ :: String
hcSuf :: String
hiSuf_ :: String
hieSuf :: String
dynObjectSuf_ :: String
dynHiSuf_ :: String
outputFile_ :: Maybe String
dynOutputFile_ :: Maybe String
outputHi :: Maybe String
dynOutputHi :: Maybe String
dynLibLoader :: DynLibLoader
dynamicNow :: Bool
dumpPrefix :: String
dumpPrefixForce :: Maybe String
ldInputs :: [Option]
includePaths :: IncludeSpecs
libraryPaths :: [String]
frameworkPaths :: [String]
cmdlineFrameworks :: [String]
rtsOpts :: Maybe String
rtsOptsEnabled :: RtsOptsEnabled
rtsOptsSuggestions :: Bool
hpcDir :: String
pluginModNames :: [ModuleName]
pluginModNameOpts :: [(ModuleName, String)]
frontendPluginOpts :: [String]
externalPluginSpecs :: [ExternalPluginSpec]
depMakefile :: String
depIncludePkgDeps :: Bool
depIncludeCppDeps :: Bool
depExcludeMods :: [ModuleName]
depSuffixes :: [String]
packageDBFlags :: [PackageDBFlag]
ignorePackageFlags :: [IgnorePackageFlag]
packageFlags :: [PackageFlag]
pluginPackageFlags :: [PackageFlag]
trustFlags :: [TrustFlag]
packageEnv :: Maybe String
dumpFlags :: EnumSet DumpFlag
generalFlags :: EnumSet GeneralFlag
warningFlags :: EnumSet WarningFlag
fatalWarningFlags :: EnumSet WarningFlag
customWarningCategories :: WarningCategorySet
fatalCustomWarningCategories :: WarningCategorySet
language :: Maybe Language
safeHaskell :: SafeHaskellMode
safeInfer :: Bool
safeInferred :: Bool
thOnLoc :: SrcSpan
newDerivOnLoc :: SrcSpan
deriveViaOnLoc :: SrcSpan
overlapInstLoc :: SrcSpan
incoherentOnLoc :: SrcSpan
pkgTrustOnLoc :: SrcSpan
warnSafeOnLoc :: SrcSpan
warnUnsafeOnLoc :: SrcSpan
trustworthyOnLoc :: SrcSpan
extensions :: [OnOff Extension]
extensionFlags :: EnumSet Extension
unfoldingOpts :: UnfoldingOpts
maxWorkerArgs :: Int
ghciHistSize :: Int
flushOut :: FlushOut
ghcVersionFile :: Maybe String
haddockOptions :: Maybe String
ghciScripts :: [String]
pprUserLength :: Int
pprCols :: Int
useUnicode :: Bool
useColor :: OverridingBool
canUseColor :: Bool
useErrorLinks :: OverridingBool
canUseErrorLinks :: Bool
colScheme :: Scheme
profAuto :: ProfAuto
callerCcFilters :: [CallerCcFilter]
interactivePrint :: Maybe String
sseVersion :: Maybe SseVersion
bmiVersion :: Maybe BmiVersion
avx :: Bool
avx2 :: Bool
avx512cd :: Bool
avx512er :: Bool
avx512f :: Bool
avx512pf :: Bool
fma :: Bool
maxInlineAllocSize :: Int
maxInlineMemcpyInsns :: Int
maxInlineMemsetInsns :: Int
reverseErrors :: Bool
maxErrors :: Maybe Int
initialUnique :: Word64
uniqueIncrement :: Int
cfgWeights :: Weights
</span><a href="GHC.Driver.DynFlags.html#cfgWeights"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621682771733"><span class="annot"><span class="annottext">BinHandle -&gt; Name -&gt; IO ()
</span><a href="#local-6989586621682771733"><span class="hs-identifier hs-var">nameio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-122"></span><span>        </span><span class="hs-comment">-- -fhpc, see https://gitlab.haskell.org/ghc/ghc/issues/11798</span><span>
</span><span id="line-123"></span><span>        </span><span class="hs-comment">-- hpcDir is output-only, so we should recompile if it changes</span><span>
</span><span id="line-124"></span><span>        </span><span id="local-6989586621682771734"><span class="annot"><span class="annottext">hpc :: Maybe String
</span><a href="#local-6989586621682771734"><span class="hs-identifier hs-var hs-var">hpc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Hpc"><span class="hs-identifier hs-var">Opt_Hpc</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682771576"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682771661"><span class="hs-identifier hs-var">hpcDir</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(BinHandle -&gt; Name -&gt; IO ()) -&gt; Maybe String -&gt; IO Fingerprint
forall a.
Binary a =&gt;
(BinHandle -&gt; Name -&gt; IO ()) -&gt; a -&gt; IO Fingerprint
</span><a href="GHC.Iface.Recomp.Binary.html#computeFingerprint"><span class="hs-identifier hs-var">computeFingerprint</span></a></span><span> </span><span class="annot"><span class="annottext">BinHandle -&gt; Name -&gt; IO ()
</span><a href="#local-6989586621682771733"><span class="hs-identifier hs-var">nameio</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621682771734"><span class="hs-identifier hs-var">hpc</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">{- Note [path flags and recompilation]
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
There are several flags that we deliberately omit from the
recompilation check; here we explain why.

-osuf, -odir, -hisuf, -hidir
  If GHC decides that it does not need to recompile, then
  it must have found an up-to-date .hi file and .o file.
  There is no point recording these flags - the user must
  have passed the correct ones.  Indeed, the user may
  have compiled the source file in one-shot mode using
  -o to specify the .o file, and then loaded it in GHCi
  using -odir.

-stubdir
  We omit this one because it is automatically set by -outputdir, and
  we don't want changes in -outputdir to automatically trigger
  recompilation.  This could be wrong, but only in very rare cases.

-i (importPaths)
  For the same reason as -osuf etc. above: if GHC decides not to
  recompile, then it must have already checked all the .hi files on
  which the current module depends, so it must have found them
  successfully.  It is occasionally useful to be able to cd to a
  different directory and use -i flags to enable GHC to find the .hi
  files; we don't want this to force recompilation.

The only path-related flag left is -hcsuf.
-}</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">{- Note [Ignoring some flag changes]
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Normally, --make tries to reuse only compilation products that are
the same as those that would have been produced compiling from
scratch. Sometimes, however, users would like to be more aggressive
about recompilation avoidance. This is particularly likely when
developing using GHCi (see #13604). Currently, we allow users to
ignore optimisation changes using -fignore-optim-changes, and to
ignore HPC option changes using -fignore-hpc-changes. If there's a
demand for it, we could also allow changes to -fprof-auto-* flags
(although we can't allow -prof flags to differ). The key thing about
these options is that we can still successfully link a library or
executable when some of its components differ in these ways.

The way we accomplish this is to leave the optimization and HPC
options out of the flag hash, hashing them separately.
-}</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-comment">{- Note [Repeated -optP hashing]
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
We invoke fingerprintDynFlags for each compiled module to include
the hash of relevant DynFlags in the resulting interface file.
-optP (preprocessor) flags are part of that hash.
-optP flags can come from multiple places:

  1. -optP flags directly passed on command line.
  2. -optP flags implied by other flags. Eg. -DPROFILING implied by -prof.
  3. -optP flags added with {-# OPTIONS -optP-D__F__ #-} in a file.

When compiling many modules at once with many -optP command line arguments
the work of hashing -optP flags would be repeated. This can get expensive
and as noted on #14697 it can take 7% of time and 14% of allocations on
a real codebase.

The obvious solution is to cache the hash of -optP flags per GHC invocation.
However, one has to be careful there, as the flags that were added in 3. way
have to be accounted for.

The current strategy is as follows:

  1. Lazily compute the hash of sOpt_p in sOpt_P_fingerprint whenever sOpt_p
     is modified. This serves dual purpose. It ensures correctness for when
     we add per file -optP flags and lets us save work for when we don't.
  2. When computing the fingerprint in fingerprintDynFlags use the cached
     value *and* fingerprint the additional implied (see 2. above) -optP flags.
     This is relatively cheap and saves the headache of fingerprinting all
     the -optP flags and tracking all the places that could invalidate the
     cache.
-}</span><span>
</span><span id="line-208"></span></pre></body></html>