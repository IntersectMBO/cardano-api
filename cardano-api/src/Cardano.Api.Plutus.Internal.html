<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">-- | This module provides utilities to render the result of plutus execution.</span></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.html"><span class="hs-identifier">Cardano.Api.Plutus.Internal</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#DebugPlutusFailure"><span class="hs-identifier">DebugPlutusFailure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#renderDebugPlutusFailure"><span class="hs-identifier">renderDebugPlutusFailure</span></a></span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#collectPlutusScriptHashes"><span class="hs-identifier">collectPlutusScriptHashes</span></a></span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">where</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier">AlonzoEraOnwards</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier">alonzoEraOnwardsConstraints</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.Convert.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.Convert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier">convert</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.ShelleyBasedEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier">ShelleyLedgerEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Ledger.Internal.Reexport.html"><span class="hs-identifier">Cardano.Api.Ledger.Internal.Reexport</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.Script.html"><span class="hs-identifier">Cardano.Api.Plutus.Internal.Script</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Api</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Pretty.html"><span class="hs-identifier">Cardano.Api.Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Pretty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pretty</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Pretty.html#docToText"><span class="hs-identifier">docToText</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Query.Internal.Type.QueryInMode.html"><span class="hs-identifier">Cardano.Api.Query.Internal.Type.QueryInMode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerUTxO"><span class="hs-identifier">toLedgerUTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html"><span class="hs-identifier">Cardano.Api.Tx.Internal.Body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#ScriptWitnessIndex"><span class="hs-identifier">ScriptWitnessIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#toScriptIndex"><span class="hs-identifier">toScriptIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html"><span class="hs-identifier">Cardano.Api.Tx.Internal.Sign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html#Tx"><span class="hs-identifier">Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.UTxO.html"><span class="hs-identifier">Cardano.Api.UTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier">UTxO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.Scripts</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.UTxO.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.UTxO</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Alonzo</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-binary-1.7.0.0-f484b1aa5d0b3a664912a8931a48fff9e6e926ae732d2481b9da62d4dbed111d/share/doc/html/src/Cardano.Ledger.Binary.Encoding.html"><span class="hs-identifier">Cardano.Ledger.Binary.Encoding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-binary-1.7.0.0-f484b1aa5d0b3a664912a8931a48fff9e6e926ae732d2481b9da62d4dbed111d/share/doc/html/src/Cardano.Ledger.Binary.Encoding.html#serialize%27"><span class="hs-identifier">serialize'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-binary-1.7.0.0-f484b1aa5d0b3a664912a8931a48fff9e6e926ae732d2481b9da62d4dbed111d/share/doc/html/src/Cardano.Ledger.Binary.Plain.html"><span class="hs-identifier">Cardano.Ledger.Binary.Plain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-binary-1.7.0.0-f484b1aa5d0b3a664912a8931a48fff9e6e926ae732d2481b9da62d4dbed111d/share/doc/html/src/Cardano.Ledger.Binary.Plain.html#serializeAsHexText"><span class="hs-identifier">serializeAsHexText</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html"><span class="hs-identifier">Cardano.Ledger.Plutus.Evaluate</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.ExUnits.html"><span class="hs-identifier">Cardano.Ledger.Plutus.ExUnits</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Language.html"><span class="hs-identifier">Cardano.Ledger.Plutus.Language</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.State.html"><span class="hs-identifier">Cardano.Ledger.State</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/plutus-ledger-api-1.53.1.0-19ec774040bb9b6b911b0bedc3a63660afc1c124361ddba701b082c39b4d43c2/share/doc/html/src/PlutusLedgerApi.V1.html"><span class="hs-identifier">PlutusLedgerApi.V1</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/base-4.20.1.0-inplace/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/base-4.20.1.0-inplace/src/Data.Bifunctor.html#Bifunctor"><span class="hs-identifier">Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Base64</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B64</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Short.html"><span class="hs-identifier">Data.ByteString.Short</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSS</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/containers-0.7-inplace/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/containers-0.7-inplace/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Encoding.html"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Lens.Micro</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prettyprinter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">indent</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">line</span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-comment">-- | A structured representation of Plutus script validation failures,</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- providing detailed information about the failed execution for debugging purposes.</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- This type contains the same information as the data constructor</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- 'Cardano.Ledger.Alonzo.Plutus.Evaluate.TransactionScriptFailure.ValidationFailure'</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- but with named fields and fixed crypto parameters for easier debugging and</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- error reporting.</span><span>
</span><span id="line-52"></span><span class="hs-keyword">data</span><span> </span><span id="DebugPlutusFailure"><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#DebugPlutusFailure"><span class="hs-identifier hs-var">DebugPlutusFailure</span></a></span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DebugPlutusFailure"><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#DebugPlutusFailure"><span class="hs-identifier hs-var">DebugPlutusFailure</span></a></span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dpfEvaluationError"><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; EvaluationError
</span><a href="Cardano.Api.Plutus.Internal.html#dpfEvaluationError"><span class="hs-identifier hs-var hs-var">dpfEvaluationError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/plutus-ledger-api-1.53.1.0-19ec774040bb9b6b911b0bedc3a63660afc1c124361ddba701b082c39b4d43c2/share/doc/html/src/PlutusLedgerApi.Common.Eval.html#EvaluationError"><span class="hs-identifier hs-type">Plutus.EvaluationError</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dpfScriptWithContext"><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; PlutusWithContext
</span><a href="Cardano.Api.Plutus.Internal.html#dpfScriptWithContext"><span class="hs-identifier hs-var hs-var">dpfScriptWithContext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#PlutusWithContext"><span class="hs-identifier hs-type">Plutus.PlutusWithContext</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dpfExecutionUnits"><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; ExUnits
</span><a href="Cardano.Api.Plutus.Internal.html#dpfExecutionUnits"><span class="hs-identifier hs-var hs-var">dpfExecutionUnits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.ExUnits.html#ExUnits"><span class="hs-identifier hs-type">Plutus.ExUnits</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="dpfExecutionLogs"><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; [Text]
</span><a href="Cardano.Api.Plutus.Internal.html#dpfExecutionLogs"><span class="hs-identifier hs-var hs-var">dpfExecutionLogs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681189192"><span id="local-6989586621681189203"><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool
(DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool)
-&gt; (DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool)
-&gt; Eq DebugPlutusFailure
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool
== :: DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool
$c/= :: DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool
/= :: DebugPlutusFailure -&gt; DebugPlutusFailure -&gt; Bool
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-prim-0.12.0-inplace/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681189209"><span id="local-6989586621681189222"><span id="local-6989586621681189226"><span class="annot"><span class="annottext">Int -&gt; DebugPlutusFailure -&gt; ShowS
[DebugPlutusFailure] -&gt; ShowS
DebugPlutusFailure -&gt; String
(Int -&gt; DebugPlutusFailure -&gt; ShowS)
-&gt; (DebugPlutusFailure -&gt; String)
-&gt; ([DebugPlutusFailure] -&gt; ShowS)
-&gt; Show DebugPlutusFailure
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; DebugPlutusFailure -&gt; ShowS
showsPrec :: Int -&gt; DebugPlutusFailure -&gt; ShowS
$cshow :: DebugPlutusFailure -&gt; String
show :: DebugPlutusFailure -&gt; String
$cshowList :: [DebugPlutusFailure] -&gt; ShowS
showList :: [DebugPlutusFailure] -&gt; ShowS
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#renderDebugPlutusFailure"><span class="hs-identifier hs-type">renderDebugPlutusFailure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#DebugPlutusFailure"><span class="hs-identifier hs-type">DebugPlutusFailure</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-62"></span><span id="renderDebugPlutusFailure"><span class="annot"><span class="annottext">renderDebugPlutusFailure :: DebugPlutusFailure -&gt; Text
</span><a href="Cardano.Api.Plutus.Internal.html#renderDebugPlutusFailure"><span class="hs-identifier hs-var hs-var">renderDebugPlutusFailure</span></a></span></span><span> </span><span id="local-6989586621681189231"><span class="annot"><span class="annottext">DebugPlutusFailure
</span><a href="#local-6989586621681189231"><span class="hs-identifier hs-var">dpf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681189232"><span class="annot"><span class="annottext">pwc :: PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var hs-var">pwc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; PlutusWithContext
</span><a href="Cardano.Api.Plutus.Internal.html#dpfScriptWithContext"><span class="hs-identifier hs-var">dpfScriptWithContext</span></a></span><span> </span><span class="annot"><span class="annottext">DebugPlutusFailure
</span><a href="#local-6989586621681189231"><span class="hs-identifier hs-var">dpf</span></a></span><span>
</span><span id="line-64"></span><span>      </span><span id="local-6989586621681189233"><span class="annot"><span class="annottext">lang :: Language
</span><a href="#local-6989586621681189233"><span class="hs-identifier hs-var hs-var">lang</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var">pwc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#PlutusWithContext"><span class="hs-identifier hs-type">Plutus.PlutusWithContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pwcScript :: ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#pwcScript"><span class="hs-identifier hs-var">Plutus.pwcScript</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681189239"><span class="annot"><span class="annottext">Either (Plutus l) (PlutusRunnable l)
</span><a href="#local-6989586621681189239"><span class="hs-identifier hs-var">script</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-66"></span><span>          </span><span class="annot"><span class="annottext">(Plutus l -&gt; Language)
-&gt; (PlutusRunnable l -&gt; Language)
-&gt; Either (Plutus l) (PlutusRunnable l)
-&gt; Language
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Data.Either.html#either"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">Plutus l -&gt; Language
forall (l :: Language) (proxy :: Language -&gt; *).
PlutusLanguage l =&gt;
proxy l -&gt; Language
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Language.html#plutusLanguage"><span class="hs-identifier hs-var">Plutus.plutusLanguage</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusRunnable l -&gt; Language
forall (l :: Language) (proxy :: Language -&gt; *).
PlutusLanguage l =&gt;
proxy l -&gt; Language
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Language.html#plutusLanguage"><span class="hs-identifier hs-var">Plutus.plutusLanguage</span></a></span><span> </span><span class="annot"><span class="annottext">Either (Plutus l) (PlutusRunnable l)
</span><a href="#local-6989586621681189239"><span class="hs-identifier hs-var">script</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>      </span><span id="local-6989586621681189242"><span class="annot"><span class="annottext">scriptArgs :: Doc AnsiStyle
</span><a href="#local-6989586621681189242"><span class="hs-identifier hs-var hs-var">scriptArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var">pwc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#PlutusWithContext"><span class="hs-identifier hs-type">Plutus.PlutusWithContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pwcArgs :: ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#pwcArgs"><span class="hs-identifier hs-var">Plutus.pwcArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681189250"><span class="annot"><span class="annottext">PlutusArgs l
</span><a href="#local-6989586621681189250"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-70"></span><span>          </span><span class="annot"><span class="annottext">Doc AnsiStyle
forall ann. Doc ann
</span><span class="hs-identifier hs-var">line</span></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Doc AnsiStyle -&gt; Doc AnsiStyle
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc AnsiStyle -&gt; Doc AnsiStyle
forall ann. Int -&gt; Doc ann -&gt; Doc ann
</span><span class="hs-identifier hs-var">indent</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusArgs l -&gt; Doc AnsiStyle
forall ann. PlutusArgs l -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">PlutusArgs l
</span><a href="#local-6989586621681189250"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>      </span><span id="local-6989586621681189251"><span class="annot"><span class="annottext">protocolVersion :: Version
</span><a href="#local-6989586621681189251"><span class="hs-identifier hs-var hs-var">protocolVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PlutusWithContext -&gt; Version
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#pwcProtocolVersion"><span class="hs-identifier hs-var">Plutus.pwcProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var">pwc</span></a></span><span>
</span><span id="line-72"></span><span>      </span><span id="local-6989586621681189253"><span class="annot"><span class="annottext">scriptArgsBase64 :: Text
</span><a href="#local-6989586621681189253"><span class="hs-identifier hs-var hs-var">scriptArgsBase64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var">pwc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#PlutusWithContext"><span class="hs-identifier hs-type">Plutus.PlutusWithContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pwcArgs :: ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#pwcArgs"><span class="hs-identifier hs-var">Plutus.pwcArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681189258"><span class="annot"><span class="annottext">PlutusArgs l
</span><a href="#local-6989586621681189258"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-74"></span><span>          </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Encoding.html#decodeUtf8"><span class="hs-identifier hs-var">Text.decodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text) -&gt; ByteString -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">B64.encode</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; PlutusArgs l -&gt; ByteString
forall a. EncCBOR a =&gt; Version -&gt; a -&gt; ByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-binary-1.7.0.0-f484b1aa5d0b3a664912a8931a48fff9e6e926ae732d2481b9da62d4dbed111d/share/doc/html/src/Cardano.Ledger.Binary.Encoding.html#serialize%27"><span class="hs-identifier hs-var">serialize'</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621681189251"><span class="hs-identifier hs-var">protocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusArgs l
</span><a href="#local-6989586621681189258"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-75"></span><span>      </span><span id="local-6989586621681189261"><span class="annot"><span class="annottext">evalError :: EvaluationError
</span><a href="#local-6989586621681189261"><span class="hs-identifier hs-var hs-var">evalError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; EvaluationError
</span><a href="Cardano.Api.Plutus.Internal.html#dpfEvaluationError"><span class="hs-identifier hs-var">dpfEvaluationError</span></a></span><span> </span><span class="annot"><span class="annottext">DebugPlutusFailure
</span><a href="#local-6989586621681189231"><span class="hs-identifier hs-var">dpf</span></a></span><span>
</span><span id="line-76"></span><span>      </span><span id="local-6989586621681189262"><span class="annot"><span class="annottext">binaryScript :: Text
</span><a href="#local-6989586621681189262"><span class="hs-identifier hs-var hs-var">binaryScript</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var">pwc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-77"></span><span>        </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#PlutusWithContext"><span class="hs-identifier hs-type">Plutus.PlutusWithContext</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pwcScript :: ()
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#pwcScript"><span class="hs-identifier hs-var">Plutus.pwcScript</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621681189264"><span class="annot"><span class="annottext">Either (Plutus l) (PlutusRunnable l)
</span><a href="#local-6989586621681189264"><span class="hs-identifier hs-var">scr</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-78"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Language.html#Plutus"><span class="hs-identifier hs-type">Plutus.Plutus</span></a></span><span> </span><span id="local-6989586621681189266"><span class="annot"><span class="annottext">PlutusBinary
</span><a href="#local-6989586621681189266"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Plutus l -&gt; Plutus l)
-&gt; (PlutusRunnable l -&gt; Plutus l)
-&gt; Either (Plutus l) (PlutusRunnable l)
-&gt; Plutus l
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Data.Either.html#either"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">Plutus l -&gt; Plutus l
forall a. a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusRunnable l -&gt; Plutus l
forall (l :: Language). PlutusRunnable l -&gt; Plutus l
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Language.html#plutusFromRunnable"><span class="hs-identifier hs-var">Plutus.plutusFromRunnable</span></a></span><span> </span><span class="annot"><span class="annottext">Either (Plutus l) (PlutusRunnable l)
</span><a href="#local-6989586621681189264"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-79"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Encoding.html#decodeUtf8"><span class="hs-identifier hs-var">Text.decodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text)
-&gt; (ShortByteString -&gt; ByteString) -&gt; ShortByteString -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><span class="hs-identifier hs-var">B64.encode</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (ShortByteString -&gt; ByteString) -&gt; ShortByteString -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; ByteString
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/bytestring-0.12.2.0-inplace/src/Data.ByteString.Short.Internal.html#fromShort"><span class="hs-identifier hs-var">BSS.fromShort</span></a></span><span> </span><span class="annot"><span class="annottext">(ShortByteString -&gt; Text) -&gt; ShortByteString -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBinary -&gt; ShortByteString
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Language.html#unPlutusBinary"><span class="hs-identifier hs-var">Plutus.unPlutusBinary</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusBinary
</span><a href="#local-6989586621681189266"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-80"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.html#unlines"><span class="hs-identifier hs-var">Text.unlines</span></a></span><span>
</span><span id="line-81"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script hash: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; Text
forall a. ToCBOR a =&gt; a -&gt; Text
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-binary-1.7.0.0-f484b1aa5d0b3a664912a8931a48fff9e6e926ae732d2481b9da62d4dbed111d/share/doc/html/src/Cardano.Ledger.Binary.Plain.html#serializeAsHexText"><span class="hs-identifier hs-var">serializeAsHexText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusWithContext -&gt; ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Plutus.Evaluate.html#pwcScriptHash"><span class="hs-identifier hs-var">Plutus.pwcScriptHash</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusWithContext
</span><a href="#local-6989586621681189232"><span class="hs-identifier hs-var">pwc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script language: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Language -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621681189233"><span class="hs-identifier hs-var">lang</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Protocol version: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.Internal.html#pack"><span class="hs-identifier hs-var">Text.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621681189251"><span class="hs-identifier hs-var">protocolVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script arguments: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Text
</span><a href="Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-var">docToText</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle
</span><a href="#local-6989586621681189242"><span class="hs-identifier hs-var">scriptArgs</span></a></span><span>
</span><span id="line-85"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script evaluation error: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; Text
</span><a href="Cardano.Api.Pretty.html#docToText"><span class="hs-identifier hs-var">docToText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EvaluationError -&gt; Doc AnsiStyle
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. EvaluationError -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621681189261"><span class="hs-identifier hs-var">evalError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script execution logs: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/text-2.1.2-inplace/src/Data.Text.html#unlines"><span class="hs-identifier hs-var">Text.unlines</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DebugPlutusFailure -&gt; [Text]
</span><a href="Cardano.Api.Plutus.Internal.html#dpfExecutionLogs"><span class="hs-identifier hs-var">dpfExecutionLogs</span></a></span><span> </span><span class="annot"><span class="annottext">DebugPlutusFailure
</span><a href="#local-6989586621681189231"><span class="hs-identifier hs-var">dpf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script base64 encoded arguments: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681189253"><span class="hs-identifier hs-var">scriptArgsBase64</span></a></span><span>
</span><span id="line-88"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Script base64 encoded bytes: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621681189262"><span class="hs-identifier hs-var">binaryScript</span></a></span><span>
</span><span id="line-89"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">{-
-- Should be used on `dpfExecutionLogs dpf`. Disabled until next plutus release.
See: https://github.com/IntersectMBO/cardano-api/pull/672#issuecomment-2455909946

PlutusTx.ErrorCodes.plutusPreludeErrorCodes

lookupPlutusErrorCode :: Text -&gt; Text
lookupPlutusErrorCode code =
  let codeString = PlutusTx.stringToBuiltinString $ Text.unpack code
   in case Map.lookup codeString plutusPreludeErrorCodes of
        Just err -&gt; Text.pack err
        Nothing -&gt; &quot;Unknown error code: &quot; &lt;&gt; code
-}</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | Collect all plutus script hashes that are needed to validate the given transaction</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- and return them in a map with their corresponding 'ScriptWitnessIndex' as key.</span><span>
</span><span id="line-107"></span><span id="local-6989586621681189014"><span class="annot"><a href="Cardano.Api.Plutus.Internal.html#collectPlutusScriptHashes"><span class="hs-identifier hs-type">collectPlutusScriptHashes</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189014"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189014"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.UTxO.html#UTxO"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189014"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#ScriptWitnessIndex"><span class="hs-identifier hs-type">ScriptWitnessIndex</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.Script.html#ScriptHash"><span class="hs-identifier hs-type">Api.ScriptHash</span></a></span></span><span>
</span><span id="line-112"></span><span id="collectPlutusScriptHashes"><span class="annot"><span class="annottext">collectPlutusScriptHashes :: forall era.
AlonzoEraOnwards era
-&gt; Tx era -&gt; UTxO era -&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="Cardano.Api.Plutus.Internal.html#collectPlutusScriptHashes"><span class="hs-identifier hs-var hs-var">collectPlutusScriptHashes</span></a></span></span><span> </span><span id="local-6989586621681189276"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189276"><span class="hs-identifier hs-var">aeo</span></a></span></span><span> </span><span id="local-6989586621681189277"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681189277"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span id="local-6989586621681189278"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681189278"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Map ScriptWitnessIndex ScriptHash)
-&gt; Map ScriptWitnessIndex ScriptHash
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189276"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt;
  Map ScriptWitnessIndex ScriptHash)
 -&gt; Map ScriptWitnessIndex ScriptHash)
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Map ScriptWitnessIndex ScriptHash)
-&gt; Map ScriptWitnessIndex ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-type">ShelleyTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681189292"><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189292"><span class="hs-identifier hs-var">ledgerTx'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621681189277"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-115"></span><span>        </span><span id="local-6989586621681189293"><span class="annot"><span class="annottext">ledgerUTxO :: UTxO (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189293"><span class="hs-identifier hs-var hs-var">ledgerUTxO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; UTxO era -&gt; UTxO (ShelleyLedgerEra era)
forall era.
ShelleyBasedEra era -&gt; UTxO era -&gt; UTxO (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Query.Internal.Type.QueryInMode.html#toLedgerUTxO"><span class="hs-identifier hs-var">toLedgerUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlonzoEraOnwards era -&gt; ShelleyBasedEra era
forall era. AlonzoEraOnwards era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189276"><span class="hs-identifier hs-var">aeo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621681189278"><span class="hs-identifier hs-var">utxo</span></a></span><span>
</span><span id="line-116"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; AlonzoScriptsNeeded (ShelleyLedgerEra era)
-&gt; Map ScriptWitnessIndex ScriptHash
forall era.
AlonzoEraOnwards era
-&gt; AlonzoScriptsNeeded (ShelleyLedgerEra era)
-&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681189294"><span class="hs-identifier hs-var">getPurposes</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189276"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">(AlonzoScriptsNeeded (ShelleyLedgerEra era)
 -&gt; Map ScriptWitnessIndex ScriptHash)
-&gt; AlonzoScriptsNeeded (ShelleyLedgerEra era)
-&gt; Map ScriptWitnessIndex ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO (ShelleyLedgerEra era)
-&gt; TxBody (ShelleyLedgerEra era)
-&gt; ScriptsNeeded (ShelleyLedgerEra era)
forall era.
EraUTxO era =&gt;
UTxO era -&gt; TxBody era -&gt; ScriptsNeeded era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.State.UTxO.html#getScriptsNeeded"><span class="hs-identifier hs-var">L.getScriptsNeeded</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189293"><span class="hs-identifier hs-var">ledgerUTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189292"><span class="hs-identifier hs-var">ledgerTx'</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
-&gt; Getting
     (TxBody (ShelleyLedgerEra era))
     (Tx (ShelleyLedgerEra era))
     (TxBody (ShelleyLedgerEra era))
-&gt; TxBody (ShelleyLedgerEra era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (TxBody (ShelleyLedgerEra era))
  (Tx (ShelleyLedgerEra era))
  (TxBody (ShelleyLedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxBody era)
Lens' (Tx (ShelleyLedgerEra era)) (TxBody (ShelleyLedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-core-1.18.0.0-4cae11aa143bfb047f04e9a1ea30743881e5bc0ee122dc268c5043851a70384b/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier hs-var">L.bodyTxL</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>  </span><span id="local-6989586621681189114"><span class="annot"><a href="#local-6989586621681189294"><span class="hs-identifier hs-type">getPurposes</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189114"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.UTxO.html#AlonzoScriptsNeeded"><span class="hs-identifier hs-type">Alonzo.AlonzoScriptsNeeded</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189114"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#ScriptWitnessIndex"><span class="hs-identifier hs-type">ScriptWitnessIndex</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.Script.html#ScriptHash"><span class="hs-identifier hs-type">Api.ScriptHash</span></a></span></span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621681189294"><span class="annot"><span class="annottext">getPurposes :: forall era.
AlonzoEraOnwards era
-&gt; AlonzoScriptsNeeded (ShelleyLedgerEra era)
-&gt; Map ScriptWitnessIndex ScriptHash
</span><a href="#local-6989586621681189294"><span class="hs-identifier hs-var hs-var">getPurposes</span></a></span></span><span> </span><span id="local-6989586621681189297"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189297"><span class="hs-identifier hs-var">aeo'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.UTxO.html#AlonzoScriptsNeeded"><span class="hs-identifier hs-type">Alonzo.AlonzoScriptsNeeded</span></a></span><span> </span><span id="local-6989586621681189299"><span class="annot"><span class="annottext">[(PlutusPurpose AsIxItem (ShelleyLedgerEra era), ScriptHash)]
</span><a href="#local-6989586621681189299"><span class="hs-identifier hs-var">purposes</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Map ScriptWitnessIndex ScriptHash)
-&gt; Map ScriptWitnessIndex ScriptHash
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189276"><span class="hs-identifier hs-var">aeo</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt;
  Map ScriptWitnessIndex ScriptHash)
 -&gt; Map ScriptWitnessIndex ScriptHash)
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Map ScriptWitnessIndex ScriptHash)
-&gt; Map ScriptWitnessIndex ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-124"></span><span>      </span><span class="annot"><span class="annottext">[(ScriptWitnessIndex, ScriptHash)]
-&gt; Map ScriptWitnessIndex ScriptHash
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/containers-0.7-inplace/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">Map.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(ScriptWitnessIndex, ScriptHash)]
 -&gt; Map ScriptWitnessIndex ScriptHash)
-&gt; [(ScriptWitnessIndex, ScriptHash)]
-&gt; Map ScriptWitnessIndex ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><span class="annottext">((PlutusPurpose AsIxItem (ShelleyLedgerEra era), ScriptHash)
 -&gt; (ScriptWitnessIndex, ScriptHash))
-&gt; [(PlutusPurpose AsIxItem (ShelleyLedgerEra era), ScriptHash)]
-&gt; [(ScriptWitnessIndex, ScriptHash)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#map"><span class="hs-identifier hs-var">Prelude.map</span></a></span><span>
</span><span id="line-126"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PlutusPurpose AsIxItem (ShelleyLedgerEra era)
 -&gt; ScriptWitnessIndex)
-&gt; (ScriptHash -&gt; ScriptHash)
-&gt; (PlutusPurpose AsIxItem (ShelleyLedgerEra era), ScriptHash)
-&gt; (ScriptWitnessIndex, ScriptHash)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/base-4.20.1.0-inplace/src/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era) -&gt; ScriptWitnessIndex
forall era.
AlonzoEraOnwards era
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era) -&gt; ScriptWitnessIndex
</span><a href="Cardano.Api.Tx.Internal.Body.html#toScriptIndex"><span class="hs-identifier hs-var">toScriptIndex</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189297"><span class="hs-identifier hs-var">aeo'</span></a></span><span> </span><span class="annot"><span class="annottext">(PlutusPurpose AsIx (ShelleyLedgerEra era) -&gt; ScriptWitnessIndex)
-&gt; (PlutusPurpose AsIxItem (ShelleyLedgerEra era)
    -&gt; PlutusPurpose AsIx (ShelleyLedgerEra era))
-&gt; PlutusPurpose AsIxItem (ShelleyLedgerEra era)
-&gt; ScriptWitnessIndex
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; PlutusPurpose AsIxItem (ShelleyLedgerEra era)
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era)
forall era.
AlonzoEraOnwards era
-&gt; PlutusPurpose AsIxItem (ShelleyLedgerEra era)
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189307"><span class="hs-identifier hs-var">purposeAsIxItemToAsIx</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189297"><span class="hs-identifier hs-var">aeo'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ScriptHash
</span><a href="Cardano.Api.Plutus.Internal.Script.html#fromShelleyScriptHash"><span class="hs-identifier hs-var">Api.fromShelleyScriptHash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>          </span><span class="annot"><span class="annottext">[(PlutusPurpose AsIxItem (ShelleyLedgerEra era), ScriptHash)]
</span><a href="#local-6989586621681189299"><span class="hs-identifier hs-var">purposes</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621681189136"><span class="annot"><a href="#local-6989586621681189307"><span class="hs-identifier hs-type">purposeAsIxItemToAsIx</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189136"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#PlutusPurpose"><span class="hs-identifier hs-type">L.PlutusPurpose</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIxItem"><span class="hs-identifier hs-type">L.AsIxItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189136"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#PlutusPurpose"><span class="hs-identifier hs-type">L.PlutusPurpose</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-type">L.AsIx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681189136"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-133"></span><span>  </span><span id="local-6989586621681189307"><span class="annot"><span class="annottext">purposeAsIxItemToAsIx :: forall era.
AlonzoEraOnwards era
-&gt; PlutusPurpose AsIxItem (ShelleyLedgerEra era)
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189307"><span class="hs-identifier hs-var hs-var">purposeAsIxItemToAsIx</span></a></span></span><span> </span><span id="local-6989586621681189309"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189309"><span class="hs-identifier hs-var">onwards</span></a></span></span><span> </span><span id="local-6989586621681189310"><span class="annot"><span class="annottext">PlutusPurpose AsIxItem (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189310"><span class="hs-identifier hs-var">purpose</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    PlutusPurpose AsIx (ShelleyLedgerEra era))
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era)
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681189309"><span class="hs-identifier hs-var">onwards</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt;
  PlutusPurpose AsIx (ShelleyLedgerEra era))
 -&gt; PlutusPurpose AsIx (ShelleyLedgerEra era))
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    PlutusPurpose AsIx (ShelleyLedgerEra era))
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/v373vgkb2sjwpvbniw6d1raf1zr8y0sf-ghc-9.10.2-doc/share/doc/ghc-9.10.2/html/libraries/ghc-internal-9.1002.0-inplace/src/GHC.Internal.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-135"></span><span>      </span><span class="annot"><span class="annottext">(forall ix it. AsIxItem ix it -&gt; AsIx ix it)
-&gt; PlutusPurpose AsIxItem (ShelleyLedgerEra era)
-&gt; PlutusPurpose AsIx (ShelleyLedgerEra era)
forall era (g :: * -&gt; * -&gt; *) (f :: * -&gt; * -&gt; *).
AlonzoEraScript era =&gt;
(forall ix it. g ix it -&gt; f ix it)
-&gt; PlutusPurpose g era -&gt; PlutusPurpose f era
forall (g :: * -&gt; * -&gt; *) (f :: * -&gt; * -&gt; *).
(forall ix it. g ix it -&gt; f ix it)
-&gt; PlutusPurpose g (ShelleyLedgerEra era)
-&gt; PlutusPurpose f (ShelleyLedgerEra era)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#hoistPlutusPurpose"><span class="hs-identifier hs-var">L.hoistPlutusPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">AsIxItem ix it -&gt; AsIx ix it
forall ix it. AsIxItem ix it -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.10.2-inplace/cardano-ledger-alonzo-1.14.0.0-40088258c8635e957054aa157a1071c4d51c9e858578aaf9a25d52b85b5828c4/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#toAsIx"><span class="hs-identifier hs-var">L.toAsIx</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusPurpose AsIxItem (ShelleyLedgerEra era)
</span><a href="#local-6989586621681189310"><span class="hs-identifier hs-var">purpose</span></a></span><span>
</span><span id="line-136"></span></pre></body></html>